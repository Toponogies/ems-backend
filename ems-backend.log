2022-07-07 18:29:54,589 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-07 18:29:54,598 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-07 18:29:54,599 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-07 18:29:54,726 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-07 18:29:54,808 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-07 18:29:54,846 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1817f1eb, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@767e20cf, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3a3e78f, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@301ec38b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@17a1e4ca, org.springframework.test.context.support.DirtiesContextTestExecutionListener@10ded6a9, org.springframework.test.context.transaction.TransactionalTestExecutionListener@c5dc4a2, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4a194c39, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@52066604, org.springframework.test.context.event.EventPublishingTestExecutionListener@340b9973, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@56113384, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5669c5fb, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@373ebf74, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5f9678e1, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@c4ed84, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@189aa67a, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@5a9d6f02]
2022-07-07 18:30:36,684 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-07 18:30:36,691 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-07 18:30:36,692 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-07 18:30:36,776 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-07 18:30:36,832 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-07 18:30:36,842 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1817f1eb, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@767e20cf, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3a3e78f, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@301ec38b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@17a1e4ca, org.springframework.test.context.support.DirtiesContextTestExecutionListener@10ded6a9, org.springframework.test.context.transaction.TransactionalTestExecutionListener@c5dc4a2, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4a194c39, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@52066604, org.springframework.test.context.event.EventPublishingTestExecutionListener@340b9973, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@56113384, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5669c5fb, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@373ebf74, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5f9678e1, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@c4ed84, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@189aa67a, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@5a9d6f02]
2022-07-07 18:32:20,655 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-07 18:32:20,662 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-07 18:32:20,663 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-07 18:32:20,746 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-07 18:32:20,804 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-07 18:32:20,815 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3016fd5e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@35d08e6c, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@53d102a2, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6c45ee6e, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6b3e12b5, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5aac4250, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1338fb5, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@42463763, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@59f63e24, org.springframework.test.context.event.EventPublishingTestExecutionListener@61f05988, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@7ca33c24, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@fade1fc, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@67c2e933, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@41dd05a, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@613a8ee1, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@178213b, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7103cb56]
2022-07-07 18:32:27,728 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-07 18:32:27,732 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-07 18:32:27,732 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-07 18:32:27,801 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-07 18:32:27,858 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-07 18:32:27,868 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3016fd5e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@35d08e6c, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@53d102a2, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6c45ee6e, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6b3e12b5, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5aac4250, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1338fb5, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@42463763, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@59f63e24, org.springframework.test.context.event.EventPublishingTestExecutionListener@61f05988, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@7ca33c24, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@fade1fc, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@67c2e933, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@41dd05a, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@613a8ee1, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@178213b, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7103cb56]
2022-07-07 18:33:15,819 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-07 18:33:15,824 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-07 18:33:15,824 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-07 18:33:15,893 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-07 18:33:15,949 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-07 18:33:15,959 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3016fd5e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@35d08e6c, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@53d102a2, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6c45ee6e, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6b3e12b5, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5aac4250, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1338fb5, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@42463763, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@59f63e24, org.springframework.test.context.event.EventPublishingTestExecutionListener@61f05988, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@7ca33c24, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@fade1fc, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@67c2e933, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@41dd05a, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@613a8ee1, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@178213b, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7103cb56]
2022-07-07 18:34:36,719 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-07 18:34:36,725 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-07 18:34:36,726 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-07 18:34:36,809 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-07 18:34:36,865 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-07 18:34:36,876 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6c45ee6e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6b3e12b5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@5aac4250, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1338fb5, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@42463763, org.springframework.test.context.support.DirtiesContextTestExecutionListener@59f63e24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@61f05988, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7ca33c24, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@fade1fc, org.springframework.test.context.event.EventPublishingTestExecutionListener@67c2e933, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@41dd05a, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@613a8ee1, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@178213b, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6ebf0f36]
2022-07-07 18:34:37,289 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-07 18:34:37,415 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 289211 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-07 18:34:37,415 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-07 18:34:40,794 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-07 18:34:40,853 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 44 ms. Found 5 JPA repository interfaces.
2022-07-07 18:34:41,533 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-07 18:34:41,541 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-07 18:34:41,541 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-07 18:34:41,542 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-07 18:34:41,672 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-07 18:34:41,673 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 3370 ms
2022-07-07 18:34:41,763 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-07 18:34:41,933 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-07 18:34:41,993 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-07 18:34:42,102 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-07 18:34:42,177 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-07 18:34:42,353 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-07 18:34:42,376 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-07 18:34:42,898 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-07 18:34:42,903 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-07 18:34:43,623 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-07 18:34:44,735 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-07 18:34:44,748 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 38861 (http) with context path ''
2022-07-07 18:34:44,749 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-07 18:34:44,749 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2806fe58]]
2022-07-07 18:34:44,749 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-07 18:34:44,759 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 7.817 seconds (JVM running for 8.678)
2022-07-07 18:34:44,773 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-07 18:34:44,774 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2806fe58]]
2022-07-07 18:34:44,774 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-07 18:34:44,793 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-07 18:34:44,794 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-07 18:34:44,806 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-07 18:34:44,808 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-07 18:34:44,844 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 289211 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-07 18:34:44,845 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-07 18:34:44,863 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2a7b6f69 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy151.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$39087ec4.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2a7b6f69 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-07 18:34:44,982 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-07 18:34:44,998 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 15 ms. Found 5 JPA repository interfaces.
2022-07-07 18:34:45,171 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-07 18:34:45,172 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-07 18:34:45,172 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-07 18:34:45,172 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-07 18:34:45,188 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-07 18:34:45,188 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 341 ms
2022-07-07 18:34:45,210 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-07 18:34:45,267 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-07 18:34:45,271 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-07 18:34:45,273 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-07 18:34:45,273 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-07 18:34:45,352 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-07 18:34:45,353 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-07 18:34:45,641 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-07 18:34:46,017 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-07 18:34:46,018 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 34929 (http) with context path ''
2022-07-07 18:34:46,019 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-07 18:34:46,019 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4ee8ea84]]
2022-07-07 18:34:46,019 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-07 18:34:46,022 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.209 seconds (JVM running for 9.941)
2022-07-07 18:34:50,112 WARN o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:137] SQL Error: 23502, SQLState: 23502
2022-07-07 18:34:50,113 ERROR o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:142] NULL not allowed for column "ID"; SQL statement:
insert into credentials (id, name, password, username) values (null, ?, ?, ?) [23502-212]
2022-07-07 18:34:50,132 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-07 18:34:50,133 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4ee8ea84]]
2022-07-07 18:34:50,133 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-07 18:34:50,137 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-07 18:34:50,137 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-07 18:34:50,137 WARN o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:137] SQL Error: 90121, SQLState: 90121
2022-07-07 18:34:50,137 ERROR o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:142] Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-212]
2022-07-07 18:34:50,138 WARN o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:137] SQL Error: 90121, SQLState: 90121
2022-07-07 18:34:50,138 ERROR o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:142] Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-212]
2022-07-07 18:34:50,138 WARN o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:221] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2022-07-07 18:34:50,138 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-07 18:34:50,139 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-08 09:54:27,992 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-08 09:54:27,996 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-08 09:54:27,996 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-08 09:54:28,065 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-08 09:54:28,122 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-08 09:54:28,133 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-08 09:54:28,403 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-08 09:54:28,409 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 1109204 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-08 09:54:28,410 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-08 09:54:29,119 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-08 09:54:29,171 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 47 ms. Found 5 JPA repository interfaces.
2022-07-08 09:54:29,762 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-08 09:54:29,770 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-08 09:54:29,771 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-08 09:54:29,771 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-08 09:54:29,853 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-08 09:54:29,853 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1292 ms
2022-07-08 09:54:29,895 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-08 09:54:30,013 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-08 09:54:30,050 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-08 09:54:30,161 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-08 09:54:30,236 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-08 09:54:30,371 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-08 09:54:30,390 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-08 09:54:30,890 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-08 09:54:30,895 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-08 09:54:31,544 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-08 09:54:32,418 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-08 09:54:32,430 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 46009 (http) with context path ''
2022-07-08 09:54:32,431 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-08 09:54:32,431 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@76ac3ad0]]
2022-07-08 09:54:32,431 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-08 09:54:32,439 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.276 seconds (JVM running for 5.163)
2022-07-08 09:54:32,449 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-08 09:54:32,450 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@76ac3ad0]]
2022-07-08 09:54:32,450 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-08 09:54:32,463 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-08 09:54:32,463 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-08 09:54:32,468 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-08 09:54:32,470 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-08 09:54:32,493 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy151.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$ca4ec46.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-08 09:54:32,494 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 1109204 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-08 09:54:32,494 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-08 09:54:32,617 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-08 09:54:32,632 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 13 ms. Found 5 JPA repository interfaces.
2022-07-08 09:54:32,790 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-08 09:54:32,792 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-08 09:54:32,793 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-08 09:54:32,793 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-08 09:54:32,817 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-08 09:54:32,817 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 321 ms
2022-07-08 09:54:32,845 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-08 09:54:32,914 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-08 09:54:32,918 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-08 09:54:32,919 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-08 09:54:32,920 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-08 09:54:33,026 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-08 09:54:33,027 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-08 09:54:33,276 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-08 09:54:33,701 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-08 09:54:33,702 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 40133 (http) with context path ''
2022-07-08 09:54:33,702 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-08 09:54:33,702 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@b926efa]]
2022-07-08 09:54:33,703 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-08 09:54:33,706 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.234 seconds (JVM running for 6.431)
2022-07-08 09:54:33,767 WARN o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:137] SQL Error: 23502, SQLState: 23502
2022-07-08 09:54:33,767 ERROR o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:142] NULL not allowed for column "ID"; SQL statement:
insert into credentials (id, name, password, username) values (null, ?, ?, ?) [23502-212]
2022-07-08 09:54:33,794 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-08 09:54:33,794 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@b926efa]]
2022-07-08 09:54:33,795 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-08 09:54:33,799 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-08 09:54:33,799 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-08 09:54:33,800 WARN o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:137] SQL Error: 90121, SQLState: 90121
2022-07-08 09:54:33,800 ERROR o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:142] Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-212]
2022-07-08 09:54:33,800 WARN o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:137] SQL Error: 90121, SQLState: 90121
2022-07-08 09:54:33,800 ERROR o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:142] Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-212]
2022-07-08 09:54:33,800 WARN o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:221] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2022-07-08 09:54:33,800 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-08 09:54:33,801 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-08 10:06:17,026 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-08 10:06:17,037 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-08 10:06:17,038 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-08 10:06:17,130 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-08 10:06:17,196 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-08 10:06:17,210 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4a194c39, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@52066604, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@340b9973, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@56113384, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5669c5fb, org.springframework.test.context.support.DirtiesContextTestExecutionListener@373ebf74, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5f9678e1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@c4ed84, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@189aa67a, org.springframework.test.context.event.EventPublishingTestExecutionListener@5a9d6f02, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@362045c0, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@112f364d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5ccbeb64, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6d9f7a80, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@59252cb6, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@31d0e481, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@3243b914]
2022-07-08 10:06:17,451 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-08 10:06:17,452 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 1119987 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-08 10:06:17,453 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-08 10:06:18,199 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-08 10:06:18,247 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 43 ms. Found 5 JPA repository interfaces.
2022-07-08 10:06:18,856 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-08 10:06:18,865 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-08 10:06:18,866 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-08 10:06:18,866 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-08 10:06:18,958 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-08 10:06:18,959 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1316 ms
2022-07-08 10:06:18,997 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-08 10:06:19,106 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-08 10:06:19,145 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-08 10:06:19,234 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-08 10:06:19,290 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-08 10:06:19,421 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-08 10:06:19,440 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-08 10:06:19,870 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-08 10:06:19,875 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-08 10:06:20,542 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-08 10:06:21,378 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-08 10:06:21,387 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 39707 (http) with context path ''
2022-07-08 10:06:21,388 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-08 10:06:21,388 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6461c673]]
2022-07-08 10:06:21,388 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-08 10:06:21,399 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.157 seconds (JVM running for 4.958)
2022-07-08 10:06:21,409 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-08 10:06:21,409 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6461c673]]
2022-07-08 10:06:21,410 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-08 10:06:21,420 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-08 10:06:21,420 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-08 10:06:21,425 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-08 10:06:21,427 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-08 10:06:21,450 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 1119987 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-08 10:06:21,451 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-08 10:06:21,461 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@443dbe42 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy151.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$2cb10fd3.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@443dbe42 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 74 common frames omitted
2022-07-08 10:06:21,589 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-08 10:06:21,605 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 14 ms. Found 5 JPA repository interfaces.
2022-07-08 10:06:21,752 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-08 10:06:21,754 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-08 10:06:21,755 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-08 10:06:21,755 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-08 10:06:21,774 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-08 10:06:21,774 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 322 ms
2022-07-08 10:06:21,793 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-08 10:06:21,839 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-08 10:06:21,842 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-08 10:06:21,843 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-08 10:06:21,843 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-08 10:06:21,941 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-08 10:06:21,942 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-08 10:06:22,212 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-08 10:06:22,582 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-08 10:06:22,583 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 37521 (http) with context path ''
2022-07-08 10:06:22,584 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-08 10:06:22,584 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@267093ea]]
2022-07-08 10:06:22,584 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-08 10:06:22,587 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.157 seconds (JVM running for 6.146)
2022-07-08 10:06:22,644 WARN o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:137] SQL Error: 23502, SQLState: 23502
2022-07-08 10:06:22,645 ERROR o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:142] NULL not allowed for column "ID"; SQL statement:
insert into credentials (id, name, password, username) values (null, ?, ?, ?) [23502-212]
2022-07-08 10:06:22,664 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-08 10:06:22,665 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@267093ea]]
2022-07-08 10:06:22,665 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-08 10:06:22,669 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-08 10:06:22,669 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-08 10:06:22,669 WARN o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:137] SQL Error: 90121, SQLState: 90121
2022-07-08 10:06:22,670 ERROR o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:142] Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-212]
2022-07-08 10:06:22,670 WARN o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:137] SQL Error: 90121, SQLState: 90121
2022-07-08 10:06:22,670 ERROR o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:142] Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-212]
2022-07-08 10:06:22,670 WARN o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:221] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2022-07-08 10:06:22,670 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-08 10:06:22,671 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-08 10:06:45,890 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-08 10:06:45,894 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-08 10:06:45,895 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-08 10:06:45,988 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-08 10:06:46,062 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-08 10:06:46,073 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-08 10:06:46,344 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 1121116 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-08 10:06:46,345 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-08 10:06:46,346 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-08 10:06:47,042 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-08 10:06:47,093 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 44 ms. Found 5 JPA repository interfaces.
2022-07-08 10:06:47,680 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-08 10:06:47,688 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-08 10:06:47,689 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-08 10:06:47,689 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-08 10:06:47,772 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-08 10:06:47,773 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1253 ms
2022-07-08 10:06:47,813 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-08 10:06:47,923 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-08 10:06:47,964 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-08 10:06:48,070 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-08 10:06:48,142 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-08 10:06:48,274 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-08 10:06:48,293 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-08 10:06:48,741 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-08 10:06:48,746 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-08 10:06:49,434 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-08 10:06:50,332 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-08 10:06:50,345 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 34089 (http) with context path ''
2022-07-08 10:06:50,346 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-08 10:06:50,346 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@62604ed4]]
2022-07-08 10:06:50,347 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-08 10:06:50,355 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.249 seconds (JVM running for 5.047)
2022-07-08 10:06:50,367 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-08 10:06:50,367 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@62604ed4]]
2022-07-08 10:06:50,368 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-08 10:06:50,380 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-08 10:06:50,380 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-08 10:06:50,385 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-08 10:06:50,387 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-08 10:06:50,411 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 1121116 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-08 10:06:50,412 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-08 10:06:50,412 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy151.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$f653092e.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-08 10:06:50,555 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-08 10:06:50,569 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 13 ms. Found 5 JPA repository interfaces.
2022-07-08 10:06:50,718 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-08 10:06:50,719 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-08 10:06:50,720 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-08 10:06:50,721 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-08 10:06:50,736 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-08 10:06:50,737 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 324 ms
2022-07-08 10:06:50,754 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-08 10:06:50,801 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-08 10:06:50,805 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-08 10:06:50,808 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-08 10:06:50,808 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-08 10:06:50,893 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-08 10:06:50,893 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-08 10:06:51,166 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-08 10:06:51,525 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-08 10:06:51,526 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 43729 (http) with context path ''
2022-07-08 10:06:51,527 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-08 10:06:51,527 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5963a2c9]]
2022-07-08 10:06:51,527 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-08 10:06:51,530 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.141 seconds (JVM running for 6.223)
2022-07-08 10:06:51,593 WARN o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:137] SQL Error: 23502, SQLState: 23502
2022-07-08 10:06:51,593 ERROR o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:142] NULL not allowed for column "ID"; SQL statement:
insert into credentials (id, name, password, username) values (null, ?, ?, ?) [23502-212]
2022-07-08 10:06:51,614 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-08 10:06:51,615 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5963a2c9]]
2022-07-08 10:06:51,615 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-08 10:06:51,621 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-08 10:06:51,621 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-08 10:06:51,622 WARN o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:137] SQL Error: 90121, SQLState: 90121
2022-07-08 10:06:51,622 ERROR o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:142] Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-212]
2022-07-08 10:06:51,622 WARN o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:137] SQL Error: 90121, SQLState: 90121
2022-07-08 10:06:51,622 ERROR o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:142] Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-212]
2022-07-08 10:06:51,623 WARN o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:221] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2022-07-08 10:06:51,623 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-08 10:06:51,624 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-08 10:08:11,739 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-08 10:08:11,743 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-08 10:08:11,744 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-08 10:08:11,816 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-08 10:08:11,874 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-08 10:08:11,885 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-08 10:08:12,128 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-08 10:08:12,132 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 1122381 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-08 10:08:12,133 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-08 10:08:12,822 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-08 10:08:12,873 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 45 ms. Found 5 JPA repository interfaces.
2022-07-08 10:08:13,443 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-08 10:08:13,451 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-08 10:08:13,452 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-08 10:08:13,453 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-08 10:08:13,548 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-08 10:08:13,548 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1255 ms
2022-07-08 10:08:13,591 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-08 10:08:13,722 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-08 10:08:13,752 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-08 10:08:13,848 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-08 10:08:13,913 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-08 10:08:14,054 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-08 10:08:14,076 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-08 10:08:14,536 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-08 10:08:14,542 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-08 10:08:15,202 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-08 10:08:16,093 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-08 10:08:16,107 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 42687 (http) with context path ''
2022-07-08 10:08:16,108 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-08 10:08:16,108 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3687f6b6]]
2022-07-08 10:08:16,108 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-08 10:08:16,119 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.208 seconds (JVM running for 5.022)
2022-07-08 10:08:16,131 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-08 10:08:16,131 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3687f6b6]]
2022-07-08 10:08:16,131 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-08 10:08:16,144 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-08 10:08:16,144 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-08 10:08:16,151 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-08 10:08:16,153 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-08 10:08:16,176 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy151.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$ecb04bb5.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-08 10:08:16,178 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 1122381 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-08 10:08:16,178 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-08 10:08:16,306 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-08 10:08:16,322 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 14 ms. Found 5 JPA repository interfaces.
2022-07-08 10:08:16,495 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-08 10:08:16,496 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-08 10:08:16,497 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-08 10:08:16,497 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-08 10:08:16,513 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-08 10:08:16,513 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 333 ms
2022-07-08 10:08:16,531 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-08 10:08:16,576 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-08 10:08:16,580 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-08 10:08:16,581 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-08 10:08:16,582 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-08 10:08:16,661 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-08 10:08:16,662 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-08 10:08:16,948 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-08 10:08:17,379 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-08 10:08:17,380 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 38907 (http) with context path ''
2022-07-08 10:08:17,380 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-08 10:08:17,380 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3653bb61]]
2022-07-08 10:08:17,380 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-08 10:08:17,383 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.228 seconds (JVM running for 6.286)
2022-07-08 10:08:39,005 WARN o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:137] SQL Error: 23502, SQLState: 23502
2022-07-08 10:08:39,006 ERROR o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:142] NULL not allowed for column "ID"; SQL statement:
insert into credentials (id, name, password, username) values (null, ?, ?, ?) [23502-212]
2022-07-08 10:08:44,649 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-08 10:08:44,649 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3653bb61]]
2022-07-08 10:08:44,649 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-08 10:08:44,653 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-08 10:08:44,653 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-08 10:08:44,851 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-08 10:08:44,852 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-08 10:09:29,553 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-08 10:09:29,558 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-08 10:09:29,559 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-08 10:09:29,638 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-08 10:09:29,697 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-08 10:09:29,707 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6c45ee6e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6b3e12b5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@5aac4250, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1338fb5, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@42463763, org.springframework.test.context.support.DirtiesContextTestExecutionListener@59f63e24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@61f05988, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7ca33c24, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@fade1fc, org.springframework.test.context.event.EventPublishingTestExecutionListener@67c2e933, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@41dd05a, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@613a8ee1, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@178213b, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6ebf0f36]
2022-07-08 10:09:29,963 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-08 10:09:29,969 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 1123521 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-08 10:09:29,970 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-08 10:09:30,689 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-08 10:09:30,742 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 47 ms. Found 5 JPA repository interfaces.
2022-07-08 10:09:31,313 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-08 10:09:31,322 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-08 10:09:31,322 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-08 10:09:31,322 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-08 10:09:31,417 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-08 10:09:31,417 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1291 ms
2022-07-08 10:09:31,458 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-08 10:09:31,571 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-08 10:09:31,606 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-08 10:09:31,699 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-08 10:09:31,770 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-08 10:09:31,901 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-08 10:09:31,920 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-08 10:09:32,354 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-08 10:09:32,358 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-08 10:09:32,991 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-08 10:09:33,866 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-08 10:09:33,878 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 33295 (http) with context path ''
2022-07-08 10:09:33,879 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-08 10:09:33,880 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@77e2a5d3]]
2022-07-08 10:09:33,880 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-08 10:09:33,890 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.154 seconds (JVM running for 4.981)
2022-07-08 10:09:33,900 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-08 10:09:33,901 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@77e2a5d3]]
2022-07-08 10:09:33,901 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-08 10:09:33,919 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-08 10:09:33,919 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-08 10:09:33,925 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-08 10:09:33,927 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-08 10:09:33,954 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 1123521 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-08 10:09:33,954 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-08 10:09:33,969 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2a7b6f69 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy151.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$57833fc6.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2a7b6f69 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-08 10:09:34,104 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-08 10:09:34,120 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 15 ms. Found 5 JPA repository interfaces.
2022-07-08 10:09:34,284 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-08 10:09:34,285 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-08 10:09:34,286 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-08 10:09:34,286 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-08 10:09:34,306 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-08 10:09:34,307 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 351 ms
2022-07-08 10:09:34,327 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-08 10:09:34,397 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-08 10:09:34,402 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-08 10:09:34,403 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-08 10:09:34,404 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-08 10:09:34,525 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-08 10:09:34,526 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-08 10:09:34,851 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-08 10:09:35,355 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-08 10:09:35,356 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 33885 (http) with context path ''
2022-07-08 10:09:35,356 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-08 10:09:35,356 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3bea7134]]
2022-07-08 10:09:35,357 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-08 10:09:35,359 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.431 seconds (JVM running for 6.451)
2022-07-08 10:09:48,039 WARN o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:137] SQL Error: 23502, SQLState: 23502
2022-07-08 10:09:48,040 ERROR o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:142] NULL not allowed for column "ID"; SQL statement:
insert into credentials (id, name, password, username) values (null, ?, ?, ?) [23502-212]
2022-07-08 10:09:51,472 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-08 10:09:51,473 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3bea7134]]
2022-07-08 10:09:51,473 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-08 10:09:51,476 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-08 10:09:51,476 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-08 10:09:51,674 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-08 10:09:51,675 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 13:47:03,980 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 13:47:03,999 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 13:47:04,000 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 13:47:04,239 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 13:47:04,396 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 13:47:04,461 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@373ebf74, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5f9678e1, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@c4ed84, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@189aa67a, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5a9d6f02, org.springframework.test.context.support.DirtiesContextTestExecutionListener@362045c0, org.springframework.test.context.transaction.TransactionalTestExecutionListener@112f364d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5ccbeb64, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@6d9f7a80, org.springframework.test.context.event.EventPublishingTestExecutionListener@59252cb6, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@31d0e481, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3243b914, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@241e8ea6, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@542e560f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@626c44e7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4dc8caa7, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@1d730606]
2022-07-11 13:47:04,874 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 13:47:04,875 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 87211 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 13:47:04,875 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 13:47:06,524 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 13:47:06,626 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 63 ms. Found 5 JPA repository interfaces.
2022-07-11 13:47:07,405 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 13:47:07,412 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 13:47:07,413 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 13:47:07,413 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 13:47:07,548 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 13:47:07,548 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 2135 ms
2022-07-11 13:47:07,590 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 13:47:07,789 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 13:47:07,842 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 13:47:08,056 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 13:47:08,154 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 13:47:08,368 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 13:47:08,403 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 13:47:08,886 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 13:47:08,890 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 13:47:09,575 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 13:47:10,821 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 13:47:10,841 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 34683 (http) with context path ''
2022-07-11 13:47:10,842 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 13:47:10,842 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4bf2c697]]
2022-07-11 13:47:10,842 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 13:47:10,850 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 6.305 seconds (JVM running for 7.924)
2022-07-11 13:47:10,863 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 13:47:10,864 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4bf2c697]]
2022-07-11 13:47:10,864 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 13:47:10,880 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 13:47:10,880 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 13:47:10,893 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 13:47:10,896 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 13:47:10,929 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 87211 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 13:47:10,929 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 13:47:10,944 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@402f80f5 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy151.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$44df9d2a.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@402f80f5 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 74 common frames omitted
2022-07-11 13:47:11,045 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 13:47:11,058 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 13 ms. Found 5 JPA repository interfaces.
2022-07-11 13:47:11,179 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 13:47:11,180 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 13:47:11,180 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 13:47:11,180 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 13:47:11,197 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 13:47:11,197 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 267 ms
2022-07-11 13:47:11,216 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 13:47:11,264 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 13:47:11,268 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 13:47:11,269 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 13:47:11,269 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 13:47:11,376 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 13:47:11,377 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 13:47:11,654 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 13:47:12,018 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 13:47:12,019 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 37873 (http) with context path ''
2022-07-11 13:47:12,019 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 13:47:12,019 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5632bed3]]
2022-07-11 13:47:12,019 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 13:47:12,022 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.124 seconds (JVM running for 9.096)
2022-07-11 13:47:12,131 WARN o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:137] SQL Error: 23502, SQLState: 23502
2022-07-11 13:47:12,131 ERROR o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:142] NULL not allowed for column "ID"; SQL statement:
insert into credentials (id, name, password, username) values (null, ?, ?, ?) [23502-212]
2022-07-11 13:47:12,153 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 13:47:12,154 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5632bed3]]
2022-07-11 13:47:12,154 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 13:47:12,159 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 13:47:12,159 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 13:47:12,160 WARN o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:137] SQL Error: 90121, SQLState: 90121
2022-07-11 13:47:12,160 ERROR o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:142] Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-212]
2022-07-11 13:47:12,160 WARN o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:137] SQL Error: 90121, SQLState: 90121
2022-07-11 13:47:12,160 ERROR o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:142] Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-212]
2022-07-11 13:47:12,161 WARN o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:221] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2022-07-11 13:47:12,161 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 13:47:12,162 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 13:48:06,372 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 13:48:06,376 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 13:48:06,376 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 13:48:06,455 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 13:48:06,513 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 13:48:06,522 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4a194c39, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@52066604, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@340b9973, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@56113384, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5669c5fb, org.springframework.test.context.support.DirtiesContextTestExecutionListener@373ebf74, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5f9678e1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@c4ed84, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@189aa67a, org.springframework.test.context.event.EventPublishingTestExecutionListener@5a9d6f02, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@362045c0, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@112f364d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5ccbeb64, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6d9f7a80, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@59252cb6, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@31d0e481, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@3243b914]
2022-07-11 13:48:06,750 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 13:48:06,752 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 88330 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 13:48:06,752 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 13:48:07,403 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 13:48:07,452 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 43 ms. Found 5 JPA repository interfaces.
2022-07-11 13:48:07,936 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 13:48:07,943 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 13:48:07,944 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 13:48:07,944 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 13:48:08,019 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 13:48:08,019 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1110 ms
2022-07-11 13:48:08,054 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 13:48:08,138 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 13:48:08,176 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 13:48:08,265 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 13:48:08,321 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 13:48:08,458 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 13:48:08,477 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 13:48:08,944 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 13:48:08,948 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 13:48:09,528 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 13:48:10,306 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 13:48:10,316 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 39915 (http) with context path ''
2022-07-11 13:48:10,317 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 13:48:10,317 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7c8537e9]]
2022-07-11 13:48:10,317 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 13:48:10,324 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 3.777 seconds (JVM running for 4.547)
2022-07-11 13:48:10,335 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 13:48:10,335 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7c8537e9]]
2022-07-11 13:48:10,335 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 13:48:10,348 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 13:48:10,348 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 13:48:10,356 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 13:48:10,359 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 13:48:10,392 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 88330 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 13:48:10,393 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 13:48:10,509 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 13:48:10,523 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 13 ms. Found 5 JPA repository interfaces.
2022-07-11 13:48:10,631 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 13:48:10,632 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 13:48:10,632 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 13:48:10,633 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 13:48:10,654 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 13:48:10,655 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 260 ms
2022-07-11 13:48:10,687 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 13:48:10,732 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 13:48:10,735 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 13:48:10,737 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 13:48:10,738 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 13:48:10,810 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 13:48:10,811 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 13:48:11,042 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 13:48:11,419 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 13:48:11,421 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 39483 (http) with context path ''
2022-07-11 13:48:11,421 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 13:48:11,421 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1285ec6]]
2022-07-11 13:48:11,421 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 13:48:11,425 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.063 seconds (JVM running for 5.648)
2022-07-11 13:48:11,615 ERROR o.a.c.c.C.[.[localhost] [DirectJDKLog.java:175] Exception Processing /api/v1/ports
java.lang.RuntimeException: Must set 'realm' in config
	at org.keycloak.adapters.KeycloakDeploymentBuilder.internalBuild(KeycloakDeploymentBuilder.java:57)
	at org.keycloak.adapters.KeycloakDeploymentBuilder.build(KeycloakDeploymentBuilder.java:202)
	at org.keycloak.adapters.springboot.KeycloakSpringBootConfigResolver.resolve(KeycloakSpringBootConfigResolver.java:41)
	at org.keycloak.adapters.springsecurity.config.KeycloakSpringConfigResolverWrapper.resolve(KeycloakSpringConfigResolverWrapper.java:40)
	at org.keycloak.adapters.AdapterDeploymentContext.resolveDeployment(AdapterDeploymentContext.java:89)
	at org.keycloak.adapters.PreAuthActionsHandler.preflightCors(PreAuthActionsHandler.java:100)
	at org.keycloak.adapters.PreAuthActionsHandler.handleRequest(PreAuthActionsHandler.java:75)
	at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:177)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-07-11 13:48:11,620 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 13:48:11,620 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 13:48:11,621 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 13:48:11,752 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 13:48:11,752 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1285ec6]]
2022-07-11 13:48:11,753 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 13:48:11,758 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 13:48:11,758 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 13:48:11,759 WARN o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:137] SQL Error: 90121, SQLState: 90121
2022-07-11 13:48:11,760 ERROR o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:142] Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-212]
2022-07-11 13:48:11,760 WARN o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:137] SQL Error: 90121, SQLState: 90121
2022-07-11 13:48:11,761 ERROR o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:142] Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-212]
2022-07-11 13:48:11,761 WARN o.s.b.f.s.DisposableBeanAdapter [DisposableBeanAdapter.java:221] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2022-07-11 13:48:11,761 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 13:48:11,762 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 13:56:57,575 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 13:56:57,580 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 13:56:57,581 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 13:56:57,691 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 13:56:57,811 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 13:56:57,829 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4a194c39, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@52066604, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@340b9973, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@56113384, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5669c5fb, org.springframework.test.context.support.DirtiesContextTestExecutionListener@373ebf74, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5f9678e1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@c4ed84, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@189aa67a, org.springframework.test.context.event.EventPublishingTestExecutionListener@5a9d6f02, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@362045c0, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@112f364d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5ccbeb64, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6d9f7a80, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@59252cb6, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@31d0e481, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@3243b914]
2022-07-11 13:56:58,234 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 13:56:58,251 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 96591 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 13:56:58,252 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 13:56:59,010 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 13:56:59,063 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 42 ms. Found 5 JPA repository interfaces.
2022-07-11 13:56:59,634 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 13:56:59,646 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 13:56:59,647 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 13:56:59,647 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 13:56:59,756 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 13:56:59,757 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1335 ms
2022-07-11 13:56:59,803 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 13:56:59,928 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 13:56:59,956 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 13:57:00,040 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 13:57:00,093 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 13:57:00,221 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 13:57:00,231 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 13:57:00,634 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 13:57:00,639 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 13:57:01,219 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 13:57:01,964 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 13:57:01,974 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 46237 (http) with context path '/api/v1'
2022-07-11 13:57:01,975 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 13:57:01,975 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@57e9cd2]]
2022-07-11 13:57:01,975 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 13:57:01,982 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.076 seconds (JVM running for 5.039)
2022-07-11 13:57:01,992 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 13:57:01,993 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@57e9cd2]]
2022-07-11 13:57:01,993 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 13:57:02,003 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 13:57:02,003 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 13:57:02,008 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 13:57:02,010 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 13:57:02,033 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 96591 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 13:57:02,033 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 13:57:02,033 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@443dbe42 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy151.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$6cede57e.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@443dbe42 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 74 common frames omitted
2022-07-11 13:57:02,154 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 13:57:02,177 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 22 ms. Found 5 JPA repository interfaces.
2022-07-11 13:57:02,287 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 13:57:02,288 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 13:57:02,289 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 13:57:02,289 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 13:57:02,304 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 13:57:02,305 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 270 ms
2022-07-11 13:57:02,321 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 13:57:02,368 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 13:57:02,372 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 13:57:02,373 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 13:57:02,373 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 13:57:02,444 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 13:57:02,444 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 13:57:02,655 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 13:57:02,967 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 13:57:02,967 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 42103 (http) with context path '/api/v1'
2022-07-11 13:57:02,968 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 13:57:02,968 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5c44bce3]]
2022-07-11 13:57:02,968 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 13:57:02,971 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.959 seconds (JVM running for 6.028)
2022-07-11 13:57:03,112 ERROR o.a.c.c.C.[.[localhost] [DirectJDKLog.java:175] Exception Processing /api/v1/ports
java.lang.RuntimeException: Must set 'realm' in config
	at org.keycloak.adapters.KeycloakDeploymentBuilder.internalBuild(KeycloakDeploymentBuilder.java:57)
	at org.keycloak.adapters.KeycloakDeploymentBuilder.build(KeycloakDeploymentBuilder.java:202)
	at org.keycloak.adapters.springboot.KeycloakSpringBootConfigResolver.resolve(KeycloakSpringBootConfigResolver.java:41)
	at org.keycloak.adapters.springsecurity.config.KeycloakSpringConfigResolverWrapper.resolve(KeycloakSpringConfigResolverWrapper.java:40)
	at org.keycloak.adapters.AdapterDeploymentContext.resolveDeployment(AdapterDeploymentContext.java:89)
	at org.keycloak.adapters.PreAuthActionsHandler.preflightCors(PreAuthActionsHandler.java:100)
	at org.keycloak.adapters.PreAuthActionsHandler.handleRequest(PreAuthActionsHandler.java:75)
	at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:177)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-07-11 13:57:03,116 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 13:57:03,116 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 13:57:03,117 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 0 ms
2022-07-11 13:57:03,207 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 13:57:03,207 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5c44bce3]]
2022-07-11 13:57:03,208 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 13:57:03,214 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 13:57:03,215 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 13:57:03,220 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 13:57:03,221 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 13:59:03,431 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 13:59:03,435 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 13:59:03,435 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 13:59:03,517 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 13:59:03,578 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 13:59:03,588 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 13:59:03,898 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 13:59:03,908 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 99245 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 13:59:03,909 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 13:59:04,788 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 13:59:04,848 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 52 ms. Found 5 JPA repository interfaces.
2022-07-11 13:59:05,543 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 13:59:05,552 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 13:59:05,552 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 13:59:05,553 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 13:59:05,672 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 13:59:05,673 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1558 ms
2022-07-11 13:59:05,727 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 13:59:05,870 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 13:59:05,905 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 13:59:06,015 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 13:59:06,092 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 13:59:06,231 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 13:59:06,241 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 13:59:06,747 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 13:59:06,752 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 13:59:07,482 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 13:59:08,450 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 13:59:08,470 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 38699 (http) with context path '/api/v1'
2022-07-11 13:59:08,472 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 13:59:08,472 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2acfd27b]]
2022-07-11 13:59:08,473 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 13:59:08,485 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.861 seconds (JVM running for 6.308)
2022-07-11 13:59:08,499 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 13:59:08,499 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2acfd27b]]
2022-07-11 13:59:08,500 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 13:59:08,516 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 13:59:08,516 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 13:59:08,523 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 13:59:08,525 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 13:59:08,552 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy151.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$aa9a4d78.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 13:59:08,554 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 99245 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 13:59:08,554 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 13:59:08,697 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 13:59:08,715 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 17 ms. Found 5 JPA repository interfaces.
2022-07-11 13:59:08,907 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 13:59:08,908 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 13:59:08,909 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 13:59:08,909 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 13:59:08,930 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 13:59:08,930 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 374 ms
2022-07-11 13:59:08,950 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 13:59:09,014 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 13:59:09,018 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 13:59:09,019 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 13:59:09,019 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 13:59:09,102 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 13:59:09,102 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 13:59:09,411 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 13:59:09,836 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 13:59:09,837 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 37127 (http) with context path '/api/v1'
2022-07-11 13:59:09,838 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 13:59:09,838 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4873c645]]
2022-07-11 13:59:09,838 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 13:59:09,843 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.315 seconds (JVM running for 7.666)
2022-07-11 13:59:10,027 ERROR o.a.c.c.C.[.[localhost] [DirectJDKLog.java:175] Exception Processing /api/v1/ports
java.lang.RuntimeException: Must set 'realm' in config
	at org.keycloak.adapters.KeycloakDeploymentBuilder.internalBuild(KeycloakDeploymentBuilder.java:57)
	at org.keycloak.adapters.KeycloakDeploymentBuilder.build(KeycloakDeploymentBuilder.java:202)
	at org.keycloak.adapters.springboot.KeycloakSpringBootConfigResolver.resolve(KeycloakSpringBootConfigResolver.java:41)
	at org.keycloak.adapters.springsecurity.config.KeycloakSpringConfigResolverWrapper.resolve(KeycloakSpringConfigResolverWrapper.java:40)
	at org.keycloak.adapters.AdapterDeploymentContext.resolveDeployment(AdapterDeploymentContext.java:89)
	at org.keycloak.adapters.PreAuthActionsHandler.preflightCors(PreAuthActionsHandler.java:100)
	at org.keycloak.adapters.PreAuthActionsHandler.handleRequest(PreAuthActionsHandler.java:75)
	at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:177)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-07-11 13:59:10,034 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 13:59:10,035 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 13:59:10,037 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 2 ms
2022-07-11 13:59:10,154 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 13:59:10,155 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4873c645]]
2022-07-11 13:59:10,155 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 13:59:10,162 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 13:59:10,163 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 13:59:10,168 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 13:59:10,169 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 13:59:55,587 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 13:59:55,592 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 13:59:55,593 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 13:59:55,683 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 13:59:55,747 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 13:59:55,760 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 13:59:56,043 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 13:59:56,050 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 100181 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 13:59:56,051 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 13:59:56,930 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 13:59:57,012 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 71 ms. Found 5 JPA repository interfaces.
2022-07-11 13:59:57,671 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 13:59:57,681 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 13:59:57,682 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 13:59:57,683 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 13:59:57,784 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 13:59:57,785 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1523 ms
2022-07-11 13:59:57,835 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 13:59:57,968 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 13:59:58,005 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 13:59:58,113 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 13:59:58,201 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 13:59:58,361 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 13:59:58,372 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 13:59:58,922 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 13:59:58,928 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 13:59:59,694 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 14:00:00,637 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 14:00:00,649 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 40641 (http) with context path '/api/v1'
2022-07-11 14:00:00,650 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 14:00:00,650 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7d2d5625]]
2022-07-11 14:00:00,650 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 14:00:00,661 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.868 seconds (JVM running for 5.761)
2022-07-11 14:00:00,673 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 14:00:00,674 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7d2d5625]]
2022-07-11 14:00:00,674 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 14:00:00,687 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:00:00,688 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 14:00:00,694 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 14:00:00,696 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 14:00:00,727 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 100181 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 14:00:00,728 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 14:00:00,870 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 14:00:00,887 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 16 ms. Found 5 JPA repository interfaces.
2022-07-11 14:00:01,035 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 14:00:01,035 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 14:00:01,036 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 14:00:01,036 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 14:00:01,052 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 14:00:01,052 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 322 ms
2022-07-11 14:00:01,076 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 14:00:01,141 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 14:00:01,146 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 14:00:01,149 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 14:00:01,149 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 14:00:01,243 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 14:00:01,244 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:00:01,604 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 14:00:02,601 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 14:00:02,620 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 41829 (http) with context path '/api/v1'
2022-07-11 14:00:02,637 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 14:00:02,638 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@468d1fcc]]
2022-07-11 14:00:02,640 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 14:00:02,648 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.949 seconds (JVM running for 7.749)
2022-07-11 14:00:03,032 ERROR o.a.c.c.C.[.[localhost] [DirectJDKLog.java:175] Exception Processing /api/v1/ports
java.lang.RuntimeException: Must set 'realm' in config
	at org.keycloak.adapters.KeycloakDeploymentBuilder.internalBuild(KeycloakDeploymentBuilder.java:57)
	at org.keycloak.adapters.KeycloakDeploymentBuilder.build(KeycloakDeploymentBuilder.java:202)
	at org.keycloak.adapters.springboot.KeycloakSpringBootConfigResolver.resolve(KeycloakSpringBootConfigResolver.java:41)
	at org.keycloak.adapters.springsecurity.config.KeycloakSpringConfigResolverWrapper.resolve(KeycloakSpringConfigResolverWrapper.java:40)
	at org.keycloak.adapters.AdapterDeploymentContext.resolveDeployment(AdapterDeploymentContext.java:89)
	at org.keycloak.adapters.PreAuthActionsHandler.preflightCors(PreAuthActionsHandler.java:100)
	at org.keycloak.adapters.PreAuthActionsHandler.handleRequest(PreAuthActionsHandler.java:75)
	at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:177)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-07-11 14:00:03,040 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 14:00:03,041 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 14:00:03,042 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 14:00:03,266 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 14:00:03,267 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@468d1fcc]]
2022-07-11 14:00:03,267 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 14:00:03,276 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:00:03,277 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 14:00:03,281 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 14:00:03,283 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 14:00:11,754 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 14:00:11,759 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 14:00:11,760 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 14:00:11,845 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 14:00:11,920 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 14:00:11,935 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 14:00:12,234 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 14:00:12,241 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 100809 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 14:00:12,242 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 14:00:13,170 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 14:00:13,238 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 58 ms. Found 5 JPA repository interfaces.
2022-07-11 14:00:13,929 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 14:00:13,937 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 14:00:13,938 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 14:00:13,939 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 14:00:14,041 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 14:00:14,043 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1558 ms
2022-07-11 14:00:14,099 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 14:00:14,244 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 14:00:14,286 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 14:00:14,412 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 14:00:14,492 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 14:00:14,658 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 14:00:14,671 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 14:00:15,248 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 14:00:15,256 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:00:16,063 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 14:00:17,071 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 14:00:17,085 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 33065 (http) with context path '/api/v1'
2022-07-11 14:00:17,086 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 14:00:17,086 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@55448710]]
2022-07-11 14:00:17,087 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 14:00:17,099 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 5.121 seconds (JVM running for 6.121)
2022-07-11 14:00:17,114 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 14:00:17,114 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@55448710]]
2022-07-11 14:00:17,114 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 14:00:17,129 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:00:17,130 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 14:00:17,138 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 14:00:17,140 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 14:00:17,167 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 100809 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 14:00:17,167 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 14:00:17,317 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 14:00:17,339 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 21 ms. Found 5 JPA repository interfaces.
2022-07-11 14:00:17,532 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 14:00:17,533 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 14:00:17,533 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 14:00:17,534 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 14:00:17,553 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 14:00:17,554 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 385 ms
2022-07-11 14:00:17,578 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 14:00:17,652 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 14:00:17,656 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 14:00:17,658 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 14:00:17,659 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 14:00:17,754 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 14:00:17,754 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:00:18,169 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 14:00:18,835 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 14:00:18,859 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 38301 (http) with context path '/api/v1'
2022-07-11 14:00:18,860 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 14:00:18,861 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6bb2b8d4]]
2022-07-11 14:00:18,861 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 14:00:18,884 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.741 seconds (JVM running for 7.906)
2022-07-11 14:00:25,466 ERROR o.a.c.c.C.[.[localhost] [DirectJDKLog.java:175] Exception Processing /api/v1/ports
java.lang.RuntimeException: Must set 'realm' in config
	at org.keycloak.adapters.KeycloakDeploymentBuilder.internalBuild(KeycloakDeploymentBuilder.java:57)
	at org.keycloak.adapters.KeycloakDeploymentBuilder.build(KeycloakDeploymentBuilder.java:202)
	at org.keycloak.adapters.springboot.KeycloakSpringBootConfigResolver.resolve(KeycloakSpringBootConfigResolver.java:41)
	at org.keycloak.adapters.springsecurity.config.KeycloakSpringConfigResolverWrapper.resolve(KeycloakSpringConfigResolverWrapper.java:40)
	at org.keycloak.adapters.AdapterDeploymentContext.resolveDeployment(AdapterDeploymentContext.java:89)
	at org.keycloak.adapters.PreAuthActionsHandler.preflightCors(PreAuthActionsHandler.java:100)
	at org.keycloak.adapters.PreAuthActionsHandler.handleRequest(PreAuthActionsHandler.java:75)
	at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:177)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-07-11 14:00:25,471 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 14:00:25,471 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 14:00:25,472 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 14:01:02,959 WARN c.z.h.p.HikariPool [HikariPool.java:788] HikariPool-2 - Thread starvation or clock leap detected (housekeeper delta=45s200ms285s728ns).
2022-07-11 14:01:06,826 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 14:01:06,826 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6bb2b8d4]]
2022-07-11 14:01:06,827 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 14:01:06,831 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:01:06,831 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 14:01:06,835 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 14:01:06,835 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 14:01:10,467 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 14:01:10,472 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 14:01:10,473 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 14:01:10,548 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 14:01:10,606 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 14:01:10,617 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 14:01:10,850 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 14:01:10,854 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 101822 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 14:01:10,855 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 14:01:11,596 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 14:01:11,646 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 45 ms. Found 5 JPA repository interfaces.
2022-07-11 14:01:12,241 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 14:01:12,249 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 14:01:12,249 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 14:01:12,250 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 14:01:12,343 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 14:01:12,344 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1298 ms
2022-07-11 14:01:12,388 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 14:01:12,508 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 14:01:12,542 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 14:01:12,636 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 14:01:12,704 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 14:01:12,841 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 14:01:12,852 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 14:01:13,340 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 14:01:13,345 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:01:14,029 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 14:01:14,986 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 14:01:14,999 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 38817 (http) with context path '/api/v1'
2022-07-11 14:01:15,000 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 14:01:15,001 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7d2d5625]]
2022-07-11 14:01:15,001 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 14:01:15,013 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.37 seconds (JVM running for 5.328)
2022-07-11 14:01:15,024 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 14:01:15,025 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7d2d5625]]
2022-07-11 14:01:15,025 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 14:01:15,061 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:01:15,062 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 14:01:15,067 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 14:01:15,069 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 14:01:15,094 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 101822 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 14:01:15,094 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 14:01:15,243 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 14:01:15,259 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 15 ms. Found 5 JPA repository interfaces.
2022-07-11 14:01:15,407 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 14:01:15,408 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 14:01:15,409 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 14:01:15,409 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 14:01:15,423 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 14:01:15,423 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 328 ms
2022-07-11 14:01:15,444 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 14:01:15,493 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 14:01:15,496 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 14:01:15,498 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 14:01:15,499 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 14:01:15,574 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 14:01:15,575 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:01:15,853 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 14:01:16,278 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 14:01:16,278 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 45015 (http) with context path '/api/v1'
2022-07-11 14:01:16,279 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 14:01:16,279 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3f9e38d4]]
2022-07-11 14:01:16,279 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 14:01:16,282 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.21 seconds (JVM running for 6.598)
2022-07-11 14:01:19,666 ERROR o.a.c.c.C.[.[localhost] [DirectJDKLog.java:175] Exception Processing /api/v1/ports
java.lang.RuntimeException: Must set 'realm' in config
	at org.keycloak.adapters.KeycloakDeploymentBuilder.internalBuild(KeycloakDeploymentBuilder.java:57)
	at org.keycloak.adapters.KeycloakDeploymentBuilder.build(KeycloakDeploymentBuilder.java:202)
	at org.keycloak.adapters.springboot.KeycloakSpringBootConfigResolver.resolve(KeycloakSpringBootConfigResolver.java:41)
	at org.keycloak.adapters.springsecurity.config.KeycloakSpringConfigResolverWrapper.resolve(KeycloakSpringConfigResolverWrapper.java:40)
	at org.keycloak.adapters.AdapterDeploymentContext.resolveDeployment(AdapterDeploymentContext.java:89)
	at org.keycloak.adapters.PreAuthActionsHandler.preflightCors(PreAuthActionsHandler.java:100)
	at org.keycloak.adapters.PreAuthActionsHandler.handleRequest(PreAuthActionsHandler.java:75)
	at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:177)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-07-11 14:01:19,671 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 14:01:19,671 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 14:01:19,672 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 14:01:23,205 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 14:01:23,205 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3f9e38d4]]
2022-07-11 14:01:23,205 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 14:01:23,213 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:01:23,213 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 14:01:23,218 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 14:01:23,219 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 14:04:27,780 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 14:04:27,784 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 14:04:27,785 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 14:04:27,861 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 14:04:27,921 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 14:04:27,933 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 14:04:28,190 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 14:04:28,201 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 105259 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 14:04:28,202 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 14:04:28,982 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 14:04:29,037 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 49 ms. Found 5 JPA repository interfaces.
2022-07-11 14:04:29,697 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 14:04:29,705 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 14:04:29,705 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 14:04:29,706 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 14:04:29,801 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 14:04:29,801 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1415 ms
2022-07-11 14:04:29,844 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 14:04:29,963 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 14:04:29,999 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 14:04:30,114 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 14:04:30,192 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 14:04:30,321 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 14:04:30,332 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 14:04:30,891 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 14:04:30,898 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:04:31,667 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 14:04:32,634 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 14:04:32,647 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 42835 (http) with context path '/api/v1'
2022-07-11 14:04:32,648 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 14:04:32,649 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6f999cf4]]
2022-07-11 14:04:32,649 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 14:04:32,660 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.697 seconds (JVM running for 5.568)
2022-07-11 14:04:32,671 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 14:04:32,672 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6f999cf4]]
2022-07-11 14:04:32,672 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 14:04:32,684 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:04:32,684 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 14:04:32,690 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 14:04:32,692 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 14:04:32,716 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 105259 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 14:04:32,716 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 14:04:32,718 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy151.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$ecb04bb5.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 14:04:32,859 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 14:04:32,874 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 15 ms. Found 5 JPA repository interfaces.
2022-07-11 14:04:33,074 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 14:04:33,075 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 14:04:33,076 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 14:04:33,076 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 14:04:33,095 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 14:04:33,096 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 378 ms
2022-07-11 14:04:33,120 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 14:04:33,187 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 14:04:33,191 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 14:04:33,193 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 14:04:33,193 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 14:04:33,276 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 14:04:33,277 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:04:33,598 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 14:04:34,129 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 14:04:34,130 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 41105 (http) with context path '/api/v1'
2022-07-11 14:04:34,130 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 14:04:34,130 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@267093ea]]
2022-07-11 14:04:34,131 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 14:04:34,134 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.439 seconds (JVM running for 7.042)
2022-07-11 14:04:36,027 ERROR o.a.c.c.C.[.[localhost] [DirectJDKLog.java:175] Exception Processing /api/v1/ports
java.lang.RuntimeException: Must set 'realm' in config
	at org.keycloak.adapters.KeycloakDeploymentBuilder.internalBuild(KeycloakDeploymentBuilder.java:57)
	at org.keycloak.adapters.KeycloakDeploymentBuilder.build(KeycloakDeploymentBuilder.java:202)
	at org.keycloak.adapters.springboot.KeycloakSpringBootConfigResolver.resolve(KeycloakSpringBootConfigResolver.java:41)
	at org.keycloak.adapters.springsecurity.config.KeycloakSpringConfigResolverWrapper.resolve(KeycloakSpringConfigResolverWrapper.java:40)
	at org.keycloak.adapters.AdapterDeploymentContext.resolveDeployment(AdapterDeploymentContext.java:89)
	at org.keycloak.adapters.PreAuthActionsHandler.preflightCors(PreAuthActionsHandler.java:100)
	at org.keycloak.adapters.PreAuthActionsHandler.handleRequest(PreAuthActionsHandler.java:75)
	at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:177)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-07-11 14:04:36,032 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 14:04:36,033 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 14:04:36,034 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 14:04:36,171 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 14:04:36,172 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@267093ea]]
2022-07-11 14:04:36,172 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 14:04:36,178 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:04:36,179 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 14:04:36,183 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 14:04:36,185 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 14:06:03,333 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 14:06:03,337 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 14:06:03,337 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 14:06:03,423 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 14:06:03,529 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 14:06:03,544 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 14:06:03,820 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 14:06:03,838 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 106861 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 14:06:03,838 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 14:06:04,553 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 14:06:04,615 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 56 ms. Found 5 JPA repository interfaces.
2022-07-11 14:06:05,200 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 14:06:05,209 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 14:06:05,209 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 14:06:05,210 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 14:06:05,296 INFO o.a.c.c.C.[.[.[/api] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 14:06:05,297 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1291 ms
2022-07-11 14:06:05,340 ERROR o.a.c.c.C.[.[.[/api] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 14:06:05,343 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 14:06:05,461 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 14:06:05,500 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 14:06:05,600 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 14:06:05,668 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 14:06:05,803 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 14:06:05,814 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 14:06:06,299 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 14:06:06,304 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:06:07,119 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 14:06:08,131 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 14:06:08,149 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 39851 (http) with context path '/api'
2022-07-11 14:06:08,150 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 14:06:08,150 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7f39bcb5]]
2022-07-11 14:06:08,150 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 14:06:08,159 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.577 seconds (JVM running for 5.581)
2022-07-11 14:06:08,171 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 14:06:08,171 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7f39bcb5]]
2022-07-11 14:06:08,171 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 14:06:08,186 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:06:08,187 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 14:06:08,195 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 14:06:08,197 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 14:06:08,228 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 106861 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 14:06:08,228 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 14:06:08,379 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 14:06:08,398 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 18 ms. Found 5 JPA repository interfaces.
2022-07-11 14:06:08,568 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 14:06:08,569 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 14:06:08,569 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 14:06:08,569 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 14:06:08,583 INFO o.a.c.c.C.[.[.[/api] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 14:06:08,583 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 352 ms
2022-07-11 14:06:08,603 ERROR o.a.c.c.C.[.[.[/api] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 14:06:08,604 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 14:06:08,656 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 14:06:08,659 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 14:06:08,662 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 14:06:08,662 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 14:06:08,734 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 14:06:08,734 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:06:09,034 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 14:06:09,483 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 14:06:09,483 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 34019 (http) with context path '/api'
2022-07-11 14:06:09,484 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 14:06:09,484 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4bdec54]]
2022-07-11 14:06:09,484 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 14:06:09,487 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.287 seconds (JVM running for 6.909)
2022-07-11 14:06:12,317 ERROR o.a.c.c.C.[.[localhost] [DirectJDKLog.java:175] Exception Processing /api/v1/ports
java.lang.IllegalArgumentException: You did not supply enough values to fill path parameters
	at org.keycloak.common.util.KeycloakUriBuilder.buildFromValuesAsString(KeycloakUriBuilder.java:591)
	at org.keycloak.common.util.KeycloakUriBuilder.buildFromValues(KeycloakUriBuilder.java:580)
	at org.keycloak.common.util.KeycloakUriBuilder.build(KeycloakUriBuilder.java:571)
	at org.keycloak.adapters.KeycloakDeployment.setAuthServerBaseUrl(KeycloakDeployment.java:143)
	at org.keycloak.adapters.KeycloakDeploymentBuilder.internalBuild(KeycloakDeploymentBuilder.java:139)
	at org.keycloak.adapters.KeycloakDeploymentBuilder.build(KeycloakDeploymentBuilder.java:202)
	at org.keycloak.adapters.springboot.KeycloakSpringBootConfigResolver.resolve(KeycloakSpringBootConfigResolver.java:41)
	at org.keycloak.adapters.springsecurity.config.KeycloakSpringConfigResolverWrapper.resolve(KeycloakSpringConfigResolverWrapper.java:40)
	at org.keycloak.adapters.AdapterDeploymentContext.resolveDeployment(AdapterDeploymentContext.java:89)
	at org.keycloak.adapters.PreAuthActionsHandler.preflightCors(PreAuthActionsHandler.java:100)
	at org.keycloak.adapters.PreAuthActionsHandler.handleRequest(PreAuthActionsHandler.java:75)
	at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:177)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-07-11 14:06:12,321 INFO o.a.c.c.C.[.[.[/api] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 14:06:12,322 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 14:06:12,323 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 14:06:12,435 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 14:06:12,436 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4bdec54]]
2022-07-11 14:06:12,436 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 14:06:12,441 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:06:12,441 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 14:06:12,444 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 14:06:12,445 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 14:07:05,188 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 14:07:05,195 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 14:07:05,196 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 14:07:05,275 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 14:07:05,336 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 14:07:05,349 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 14:07:05,635 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 14:07:05,636 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 107988 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 14:07:05,636 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 14:07:06,437 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 14:07:06,500 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 57 ms. Found 5 JPA repository interfaces.
2022-07-11 14:07:07,148 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 14:07:07,160 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 14:07:07,162 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 14:07:07,162 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 14:07:07,270 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 14:07:07,270 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1420 ms
2022-07-11 14:07:07,337 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 14:07:07,341 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 14:07:07,547 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 14:07:07,591 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 14:07:07,705 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 14:07:07,785 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 14:07:07,975 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 14:07:07,987 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 14:07:08,496 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 14:07:08,501 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:07:09,175 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 14:07:10,036 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 14:07:10,050 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 43805 (http) with context path '/api/v1'
2022-07-11 14:07:10,051 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 14:07:10,051 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6461c673]]
2022-07-11 14:07:10,051 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 14:07:10,062 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.679 seconds (JVM running for 5.562)
2022-07-11 14:07:10,075 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 14:07:10,075 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6461c673]]
2022-07-11 14:07:10,075 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 14:07:10,091 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:07:10,091 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 14:07:10,099 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 14:07:10,109 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 14:07:10,155 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 107988 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 14:07:10,155 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 14:07:10,284 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 14:07:10,308 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 23 ms. Found 5 JPA repository interfaces.
2022-07-11 14:07:10,466 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 14:07:10,467 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 14:07:10,467 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 14:07:10,467 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 14:07:10,484 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 14:07:10,484 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 326 ms
2022-07-11 14:07:10,507 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 14:07:10,508 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 14:07:10,567 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 14:07:10,572 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 14:07:10,573 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 14:07:10,573 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 14:07:10,648 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 14:07:10,648 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:07:10,929 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 14:07:11,365 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 14:07:11,366 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 38689 (http) with context path '/api/v1'
2022-07-11 14:07:11,367 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 14:07:11,367 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5632bed3]]
2022-07-11 14:07:11,368 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 14:07:11,371 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.259 seconds (JVM running for 6.871)
2022-07-11 14:07:13,651 ERROR o.a.c.c.C.[.[localhost] [DirectJDKLog.java:175] Exception Processing /api/v1/ports
java.lang.IllegalArgumentException: You did not supply enough values to fill path parameters
	at org.keycloak.common.util.KeycloakUriBuilder.buildFromValuesAsString(KeycloakUriBuilder.java:591)
	at org.keycloak.common.util.KeycloakUriBuilder.buildFromValues(KeycloakUriBuilder.java:580)
	at org.keycloak.common.util.KeycloakUriBuilder.build(KeycloakUriBuilder.java:571)
	at org.keycloak.adapters.KeycloakDeployment.setAuthServerBaseUrl(KeycloakDeployment.java:143)
	at org.keycloak.adapters.KeycloakDeploymentBuilder.internalBuild(KeycloakDeploymentBuilder.java:139)
	at org.keycloak.adapters.KeycloakDeploymentBuilder.build(KeycloakDeploymentBuilder.java:202)
	at org.keycloak.adapters.springboot.KeycloakSpringBootConfigResolver.resolve(KeycloakSpringBootConfigResolver.java:41)
	at org.keycloak.adapters.springsecurity.config.KeycloakSpringConfigResolverWrapper.resolve(KeycloakSpringConfigResolverWrapper.java:40)
	at org.keycloak.adapters.AdapterDeploymentContext.resolveDeployment(AdapterDeploymentContext.java:89)
	at org.keycloak.adapters.PreAuthActionsHandler.preflightCors(PreAuthActionsHandler.java:100)
	at org.keycloak.adapters.PreAuthActionsHandler.handleRequest(PreAuthActionsHandler.java:75)
	at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:177)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-07-11 14:07:13,655 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 14:07:13,655 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 14:07:13,656 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 14:07:13,772 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 14:07:13,773 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5632bed3]]
2022-07-11 14:07:13,773 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 14:07:13,780 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:07:13,780 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 14:07:13,784 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 14:07:13,785 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 14:08:50,544 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 14:08:50,550 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 14:08:50,550 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 14:08:50,623 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 14:08:50,683 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 14:08:50,694 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 14:08:50,947 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 14:08:50,954 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 109671 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 14:08:50,955 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 14:08:51,739 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 14:08:51,798 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 53 ms. Found 5 JPA repository interfaces.
2022-07-11 14:08:52,417 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 14:08:52,425 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 14:08:52,426 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 14:08:52,426 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 14:08:52,528 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 14:08:52,528 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1405 ms
2022-07-11 14:08:52,580 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 14:08:52,583 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 14:08:52,713 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 14:08:52,746 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 14:08:52,838 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 14:08:52,918 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 14:08:53,059 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 14:08:53,068 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 14:08:53,531 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 14:08:53,536 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:08:54,316 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 14:08:55,398 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 14:08:55,411 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 41865 (http) with context path '/api/v1'
2022-07-11 14:08:55,413 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 14:08:55,413 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1676e501]]
2022-07-11 14:08:55,413 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 14:08:55,424 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.702 seconds (JVM running for 5.57)
2022-07-11 14:08:55,435 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 14:08:55,435 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1676e501]]
2022-07-11 14:08:55,436 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 14:08:55,447 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:08:55,448 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 14:08:55,455 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 14:08:55,457 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 14:08:55,493 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 109671 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 14:08:55,493 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 14:08:55,676 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 14:08:55,697 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 20 ms. Found 5 JPA repository interfaces.
2022-07-11 14:08:55,831 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 14:08:55,831 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 14:08:55,832 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 14:08:55,832 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 14:08:55,846 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 14:08:55,847 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 352 ms
2022-07-11 14:08:55,867 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 14:08:55,868 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 14:08:55,932 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 14:08:55,936 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 14:08:55,937 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 14:08:55,937 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 14:08:56,023 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 14:08:56,023 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:08:56,293 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 14:08:56,675 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 14:08:56,676 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 40937 (http) with context path '/api/v1'
2022-07-11 14:08:56,676 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 14:08:56,677 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7ba5d307]]
2022-07-11 14:08:56,677 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 14:08:56,681 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.22 seconds (JVM running for 6.827)
2022-07-11 14:08:56,845 ERROR o.a.c.c.C.[.[localhost] [DirectJDKLog.java:175] Exception Processing /api/v1/ports
java.lang.IllegalArgumentException: You did not supply enough values to fill path parameters
	at org.keycloak.common.util.KeycloakUriBuilder.buildFromValuesAsString(KeycloakUriBuilder.java:591)
	at org.keycloak.common.util.KeycloakUriBuilder.buildFromValues(KeycloakUriBuilder.java:580)
	at org.keycloak.common.util.KeycloakUriBuilder.build(KeycloakUriBuilder.java:571)
	at org.keycloak.adapters.KeycloakDeployment.setAuthServerBaseUrl(KeycloakDeployment.java:143)
	at org.keycloak.adapters.KeycloakDeploymentBuilder.internalBuild(KeycloakDeploymentBuilder.java:139)
	at org.keycloak.adapters.KeycloakDeploymentBuilder.build(KeycloakDeploymentBuilder.java:202)
	at org.keycloak.adapters.springboot.KeycloakSpringBootConfigResolver.resolve(KeycloakSpringBootConfigResolver.java:41)
	at org.keycloak.adapters.springsecurity.config.KeycloakSpringConfigResolverWrapper.resolve(KeycloakSpringConfigResolverWrapper.java:40)
	at org.keycloak.adapters.AdapterDeploymentContext.resolveDeployment(AdapterDeploymentContext.java:89)
	at org.keycloak.adapters.PreAuthActionsHandler.preflightCors(PreAuthActionsHandler.java:100)
	at org.keycloak.adapters.PreAuthActionsHandler.handleRequest(PreAuthActionsHandler.java:75)
	at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:177)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-07-11 14:08:56,850 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 14:08:56,850 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 14:08:56,851 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 14:08:56,982 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 14:08:56,982 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7ba5d307]]
2022-07-11 14:08:56,982 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 14:08:56,990 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:08:56,991 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 14:08:56,996 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 14:08:56,997 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 14:09:24,248 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 14:09:24,254 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 14:09:24,256 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 14:09:24,342 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 14:09:24,414 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 14:09:24,428 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 14:09:24,735 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 14:09:24,743 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 110775 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 14:09:24,744 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 14:09:25,523 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 14:09:25,577 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 48 ms. Found 5 JPA repository interfaces.
2022-07-11 14:09:26,197 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 14:09:26,208 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 14:09:26,208 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 14:09:26,208 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 14:09:26,292 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 14:09:26,292 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1388 ms
2022-07-11 14:09:26,337 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 14:09:26,340 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 14:09:26,459 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 14:09:26,495 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 14:09:26,594 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 14:09:26,665 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 14:09:26,802 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 14:09:26,814 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 14:09:27,325 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 14:09:27,330 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:09:28,142 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 14:09:29,193 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 14:09:29,208 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 40227 (http) with context path '/api/v1'
2022-07-11 14:09:29,209 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 14:09:29,209 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4e6881e]]
2022-07-11 14:09:29,209 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 14:09:29,219 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.753 seconds (JVM running for 5.725)
2022-07-11 14:09:29,237 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 14:09:29,237 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4e6881e]]
2022-07-11 14:09:29,237 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 14:09:29,255 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:09:29,255 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 14:09:29,264 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 14:09:29,266 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 14:09:29,295 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy151.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$ad572eca.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 14:09:29,297 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 110775 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 14:09:29,298 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 14:09:29,430 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 14:09:29,447 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 16 ms. Found 5 JPA repository interfaces.
2022-07-11 14:09:29,658 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 14:09:29,658 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 14:09:29,659 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 14:09:29,659 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 14:09:29,675 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 14:09:29,676 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 377 ms
2022-07-11 14:09:29,701 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 14:09:29,702 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 14:09:29,788 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 14:09:29,794 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 14:09:29,797 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 14:09:29,798 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 14:09:29,928 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 14:09:29,929 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:09:30,291 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 14:09:30,754 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 14:09:30,755 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 46037 (http) with context path '/api/v1'
2022-07-11 14:09:30,755 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 14:09:30,756 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1ff584d7]]
2022-07-11 14:09:30,756 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 14:09:30,759 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.49 seconds (JVM running for 7.265)
2022-07-11 14:09:31,042 WARN o.k.a.KeycloakDeployment [KeycloakDeployment.java:201] Failed to load URLs from http://localhost:5000/realms/login-app/.well-known/openid-configuration
java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:579)
	at java.base/sun.nio.ch.Net.connect(Net.java:568)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:121)
	at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180)
	at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:144)
	at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:134)
	at org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:605)
	at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:440)
	at org.apache.http.impl.client.AbstractHttpClient.doExecute(AbstractHttpClient.java:835)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.keycloak.adapters.KeycloakDeployment.getOidcConfiguration(KeycloakDeployment.java:230)
	at org.keycloak.adapters.KeycloakDeployment.resolveUrls(KeycloakDeployment.java:182)
	at org.keycloak.adapters.KeycloakDeployment.getAuthUrl(KeycloakDeployment.java:251)
	at org.keycloak.adapters.OAuthRequestAuthenticator.getRedirectUri(OAuthRequestAuthenticator.java:175)
	at org.keycloak.adapters.OAuthRequestAuthenticator.loginRedirect(OAuthRequestAuthenticator.java:213)
	at org.keycloak.adapters.OAuthRequestAuthenticator.authenticate(OAuthRequestAuthenticator.java:275)
	at org.keycloak.adapters.RequestAuthenticator.authenticate(RequestAuthenticator.java:138)
	at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.authenticateInternal(AbstractKeycloakAuthenticatorValve.java:203)
	at org.keycloak.adapters.tomcat.KeycloakAuthenticatorValve.authenticate(KeycloakAuthenticatorValve.java:50)
	at org.keycloak.adapters.tomcat.KeycloakAuthenticatorValve.doAuthenticate(KeycloakAuthenticatorValve.java:57)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:624)
	at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:181)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-07-11 14:09:31,042 ERROR o.a.c.c.C.[.[localhost] [DirectJDKLog.java:175] Exception Processing /api/v1/ports
java.lang.NullPointerException: Cannot invoke "org.keycloak.common.util.KeycloakUriBuilder.clone()" because the return value of "org.keycloak.adapters.KeycloakDeployment.getAuthUrl()" is null
	at org.keycloak.adapters.OAuthRequestAuthenticator.getRedirectUri(OAuthRequestAuthenticator.java:175)
	at org.keycloak.adapters.OAuthRequestAuthenticator.loginRedirect(OAuthRequestAuthenticator.java:213)
	at org.keycloak.adapters.OAuthRequestAuthenticator.authenticate(OAuthRequestAuthenticator.java:275)
	at org.keycloak.adapters.RequestAuthenticator.authenticate(RequestAuthenticator.java:138)
	at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.authenticateInternal(AbstractKeycloakAuthenticatorValve.java:203)
	at org.keycloak.adapters.tomcat.KeycloakAuthenticatorValve.authenticate(KeycloakAuthenticatorValve.java:50)
	at org.keycloak.adapters.tomcat.KeycloakAuthenticatorValve.doAuthenticate(KeycloakAuthenticatorValve.java:57)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:624)
	at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:181)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-07-11 14:09:31,047 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 14:09:31,047 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 14:09:31,048 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 14:09:31,212 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 14:09:31,212 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1ff584d7]]
2022-07-11 14:09:31,213 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 14:09:31,222 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:09:31,223 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 14:09:31,226 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 14:09:31,227 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 14:35:05,596 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 14:35:05,604 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 14:35:05,604 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 14:35:05,688 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 14:35:05,744 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 14:35:05,755 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4a194c39, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@52066604, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@340b9973, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@56113384, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5669c5fb, org.springframework.test.context.support.DirtiesContextTestExecutionListener@373ebf74, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5f9678e1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@c4ed84, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@189aa67a, org.springframework.test.context.event.EventPublishingTestExecutionListener@5a9d6f02, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@362045c0, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@112f364d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5ccbeb64, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6d9f7a80, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@59252cb6, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@31d0e481, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@3243b914]
2022-07-11 14:35:06,003 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 14:35:06,023 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 133861 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 14:35:06,023 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 14:35:06,722 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 14:35:06,780 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 52 ms. Found 5 JPA repository interfaces.
2022-07-11 14:35:07,344 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 14:35:07,352 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 14:35:07,354 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 14:35:07,354 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 14:35:07,441 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 14:35:07,441 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1262 ms
2022-07-11 14:35:07,476 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 14:35:07,478 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 14:35:07,575 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 14:35:07,613 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 14:35:07,701 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 14:35:07,758 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 14:35:07,899 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 14:35:07,912 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 14:35:08,349 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 14:35:08,354 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:35:08,974 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 14:35:09,785 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 14:35:09,795 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 38795 (http) with context path '/api/v1'
2022-07-11 14:35:09,796 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 14:35:09,796 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7bd6c35e]]
2022-07-11 14:35:09,796 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 14:35:09,807 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.017 seconds (JVM running for 4.808)
2022-07-11 14:35:09,817 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 14:35:09,818 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7bd6c35e]]
2022-07-11 14:35:09,818 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 14:35:09,828 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:35:09,829 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 14:35:09,837 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 14:35:09,840 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 14:35:09,864 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 133861 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 14:35:09,864 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 14:35:09,986 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 14:35:10,001 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 14 ms. Found 5 JPA repository interfaces.
2022-07-11 14:35:10,125 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 14:35:10,126 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 14:35:10,126 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 14:35:10,126 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 14:35:10,156 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 14:35:10,156 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 290 ms
2022-07-11 14:35:10,175 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 14:35:10,175 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 14:35:10,215 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 14:35:10,218 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 14:35:10,219 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 14:35:10,219 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 14:35:10,290 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 14:35:10,290 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:35:10,518 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 14:35:10,820 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 14:35:10,821 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 46309 (http) with context path '/api/v1'
2022-07-11 14:35:10,821 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 14:35:10,821 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@99a89e9]]
2022-07-11 14:35:10,822 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 14:35:10,824 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.982 seconds (JVM running for 5.826)
2022-07-11 14:35:11,014 WARN o.k.a.KeycloakDeployment [KeycloakDeployment.java:201] Failed to load URLs from http://localhost:5000/realms/login-app/.well-known/openid-configuration
java.lang.Exception: Not Found
	at org.keycloak.adapters.KeycloakDeployment.getOidcConfiguration(KeycloakDeployment.java:233)
	at org.keycloak.adapters.KeycloakDeployment.resolveUrls(KeycloakDeployment.java:182)
	at org.keycloak.adapters.KeycloakDeployment.getAuthUrl(KeycloakDeployment.java:251)
	at org.keycloak.adapters.OAuthRequestAuthenticator.getRedirectUri(OAuthRequestAuthenticator.java:175)
	at org.keycloak.adapters.OAuthRequestAuthenticator.loginRedirect(OAuthRequestAuthenticator.java:213)
	at org.keycloak.adapters.OAuthRequestAuthenticator.authenticate(OAuthRequestAuthenticator.java:275)
	at org.keycloak.adapters.RequestAuthenticator.authenticate(RequestAuthenticator.java:138)
	at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.authenticateInternal(AbstractKeycloakAuthenticatorValve.java:203)
	at org.keycloak.adapters.tomcat.KeycloakAuthenticatorValve.authenticate(KeycloakAuthenticatorValve.java:50)
	at org.keycloak.adapters.tomcat.KeycloakAuthenticatorValve.doAuthenticate(KeycloakAuthenticatorValve.java:57)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:624)
	at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:181)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-07-11 14:35:11,015 ERROR o.a.c.c.C.[.[localhost] [DirectJDKLog.java:175] Exception Processing /api/v1/ports
java.lang.NullPointerException: Cannot invoke "org.keycloak.common.util.KeycloakUriBuilder.clone()" because the return value of "org.keycloak.adapters.KeycloakDeployment.getAuthUrl()" is null
	at org.keycloak.adapters.OAuthRequestAuthenticator.getRedirectUri(OAuthRequestAuthenticator.java:175)
	at org.keycloak.adapters.OAuthRequestAuthenticator.loginRedirect(OAuthRequestAuthenticator.java:213)
	at org.keycloak.adapters.OAuthRequestAuthenticator.authenticate(OAuthRequestAuthenticator.java:275)
	at org.keycloak.adapters.RequestAuthenticator.authenticate(RequestAuthenticator.java:138)
	at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.authenticateInternal(AbstractKeycloakAuthenticatorValve.java:203)
	at org.keycloak.adapters.tomcat.KeycloakAuthenticatorValve.authenticate(KeycloakAuthenticatorValve.java:50)
	at org.keycloak.adapters.tomcat.KeycloakAuthenticatorValve.doAuthenticate(KeycloakAuthenticatorValve.java:57)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:624)
	at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:181)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-07-11 14:35:11,019 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 14:35:11,019 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 14:35:11,020 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 14:35:11,143 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 14:35:11,144 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@99a89e9]]
2022-07-11 14:35:11,144 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 14:35:11,148 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:35:11,148 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 14:35:11,151 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 14:35:11,152 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 14:35:56,422 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 14:35:56,427 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 14:35:56,428 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 14:35:56,509 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 14:35:56,568 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 14:35:56,581 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 14:35:56,868 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 14:35:56,878 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 134138 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 14:35:56,879 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 14:35:57,622 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 14:35:57,673 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 46 ms. Found 5 JPA repository interfaces.
2022-07-11 14:35:58,240 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 14:35:58,247 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 14:35:58,248 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 14:35:58,248 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 14:35:58,327 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 14:35:58,327 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1265 ms
2022-07-11 14:35:58,366 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 14:35:58,368 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 14:35:58,468 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 14:35:58,504 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 14:35:58,604 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 14:35:58,673 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 14:35:58,811 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 14:35:58,823 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 14:35:59,287 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 14:35:59,292 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:35:59,944 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 14:36:00,863 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 14:36:00,877 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 42449 (http) with context path '/api/v1'
2022-07-11 14:36:00,878 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 14:36:00,879 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@729a98e9]]
2022-07-11 14:36:00,879 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 14:36:00,891 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.275 seconds (JVM running for 5.149)
2022-07-11 14:36:00,905 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 14:36:00,906 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@729a98e9]]
2022-07-11 14:36:00,906 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 14:36:00,917 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:36:00,917 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 14:36:00,923 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 14:36:00,925 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 14:36:00,949 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 134138 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 14:36:00,949 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 14:36:00,950 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy151.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$96fd06dc.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 14:36:01,099 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 14:36:01,114 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 13 ms. Found 5 JPA repository interfaces.
2022-07-11 14:36:01,292 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 14:36:01,294 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 14:36:01,294 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 14:36:01,295 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 14:36:01,312 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 14:36:01,312 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 360 ms
2022-07-11 14:36:01,347 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 14:36:01,348 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 14:36:01,420 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 14:36:01,424 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 14:36:01,428 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 14:36:01,429 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 14:36:01,503 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 14:36:01,504 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:36:01,758 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 14:36:02,195 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 14:36:02,196 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 36049 (http) with context path '/api/v1'
2022-07-11 14:36:02,197 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 14:36:02,197 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1560982f]]
2022-07-11 14:36:02,197 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 14:36:02,200 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.273 seconds (JVM running for 6.458)
2022-07-11 14:36:02,529 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 14:36:02,619 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 14:36:02,619 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1560982f]]
2022-07-11 14:36:02,619 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 14:36:02,624 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:36:02,624 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 14:36:02,627 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 14:36:02,628 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 14:36:48,307 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 14:36:48,311 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 14:36:48,312 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 14:36:48,382 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 14:36:48,440 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 14:36:48,451 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 14:36:48,686 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 14:36:48,693 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 134396 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 14:36:48,693 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 14:36:49,410 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 14:36:49,464 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 48 ms. Found 5 JPA repository interfaces.
2022-07-11 14:36:50,171 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 14:36:50,181 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 14:36:50,181 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 14:36:50,182 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 14:36:50,289 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 14:36:50,290 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1438 ms
2022-07-11 14:36:50,332 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 14:36:50,335 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 14:36:50,454 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 14:36:50,504 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 14:36:50,638 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 14:36:50,712 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 14:36:50,859 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 14:36:50,872 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 14:36:51,369 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 14:36:51,374 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:36:52,046 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 14:36:52,982 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 14:36:52,995 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 43435 (http) with context path '/api/v1'
2022-07-11 14:36:52,996 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 14:36:52,997 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@28ab7ffb]]
2022-07-11 14:36:52,997 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 14:36:53,009 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.529 seconds (JVM running for 5.366)
2022-07-11 14:36:53,021 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 14:36:53,021 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@28ab7ffb]]
2022-07-11 14:36:53,021 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 14:36:53,033 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:36:53,034 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 14:36:53,040 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 14:36:53,041 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 14:36:53,067 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 134396 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 14:36:53,067 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 14:36:53,068 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy151.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$ecb04bb5.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 14:36:53,207 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 14:36:53,222 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 14 ms. Found 5 JPA repository interfaces.
2022-07-11 14:36:53,369 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 14:36:53,370 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 14:36:53,370 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 14:36:53,370 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 14:36:53,384 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 14:36:53,385 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 316 ms
2022-07-11 14:36:53,404 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 14:36:53,405 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 14:36:53,454 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 14:36:53,457 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 14:36:53,458 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 14:36:53,459 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 14:36:53,536 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 14:36:53,537 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:36:53,819 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 14:36:54,273 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 14:36:54,274 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 38759 (http) with context path '/api/v1'
2022-07-11 14:36:54,275 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 14:36:54,275 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@20307cb9]]
2022-07-11 14:36:54,275 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 14:36:54,278 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.234 seconds (JVM running for 6.635)
2022-07-11 14:36:58,786 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 14:37:20,796 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 14:37:20,796 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@20307cb9]]
2022-07-11 14:37:20,796 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 14:37:20,803 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 14:37:20,804 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 14:37:20,807 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 14:37:20,808 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 15:00:01,203 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 15:00:01,209 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 15:00:01,211 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 15:00:01,301 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 15:00:01,417 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 15:00:01,450 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 15:00:01,762 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 15:00:01,771 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 137275 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 15:00:01,771 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 15:00:02,482 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 15:00:02,534 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 46 ms. Found 5 JPA repository interfaces.
2022-07-11 15:00:03,130 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 15:00:03,137 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 15:00:03,138 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 15:00:03,138 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 15:00:03,248 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 15:00:03,249 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1315 ms
2022-07-11 15:00:03,290 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 15:00:03,293 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 15:00:03,411 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 15:00:03,443 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 15:00:03,540 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 15:00:03,615 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 15:00:03,758 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 15:00:03,769 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 15:00:04,268 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 15:00:04,274 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 15:00:04,925 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 15:00:05,834 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 15:00:05,848 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 44167 (http) with context path '/api/v1'
2022-07-11 15:00:05,849 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 15:00:05,849 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@79c9a128]]
2022-07-11 15:00:05,849 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 15:00:05,860 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.365 seconds (JVM running for 5.505)
2022-07-11 15:00:05,872 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 15:00:05,873 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@79c9a128]]
2022-07-11 15:00:05,873 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 15:00:05,887 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 15:00:05,887 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 15:00:05,893 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 15:00:05,895 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 15:00:05,921 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 137275 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 15:00:05,921 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 15:00:05,921 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy151.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$ecb04bb5.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 15:00:06,065 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 15:00:06,080 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 14 ms. Found 5 JPA repository interfaces.
2022-07-11 15:00:06,243 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 15:00:06,244 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 15:00:06,244 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 15:00:06,245 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 15:00:06,271 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 15:00:06,272 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 349 ms
2022-07-11 15:00:06,292 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 15:00:06,293 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 15:00:06,342 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 15:00:06,346 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 15:00:06,347 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 15:00:06,348 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 15:00:06,453 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 15:00:06,453 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 15:00:06,751 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 15:00:07,255 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 15:00:07,256 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 33933 (http) with context path '/api/v1'
2022-07-11 15:00:07,256 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 15:00:07,256 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@19a2b224]]
2022-07-11 15:00:07,256 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 15:00:07,260 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.362 seconds (JVM running for 6.905)
2022-07-11 15:00:58,570 WARN c.z.h.p.HikariPool [HikariPool.java:788] HikariPool-2 - Thread starvation or clock leap detected (housekeeper delta=52s122ms288s502ns).
2022-07-11 15:01:04,275 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 15:01:04,275 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@19a2b224]]
2022-07-11 15:01:04,275 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 15:01:04,283 INFO o.a.h.i.e.RetryExec [RetryExec.java:97] I/O exception (org.apache.http.NoHttpResponseException) caught when processing request to {}->http://localhost:33933: The target server failed to respond
2022-07-11 15:01:04,284 INFO o.a.h.i.e.RetryExec [RetryExec.java:113] Retrying request to {}->http://localhost:33933
2022-07-11 15:01:04,322 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 15:01:04,335 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 15:01:04,335 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 15:01:04,338 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 15:01:04,339 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 15:01:41,756 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 15:01:41,761 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 15:01:41,762 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 15:01:41,860 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 15:01:41,936 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 15:01:41,949 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 15:01:42,219 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 15:01:42,223 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 137588 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 15:01:42,224 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 15:01:43,015 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 15:01:43,072 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 51 ms. Found 5 JPA repository interfaces.
2022-07-11 15:01:43,720 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 15:01:43,728 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 15:01:43,729 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 15:01:43,729 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 15:01:43,814 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 15:01:43,814 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1386 ms
2022-07-11 15:01:43,857 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 15:01:43,860 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 15:01:43,994 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 15:01:44,031 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 15:01:44,132 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 15:01:44,213 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 15:01:44,352 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 15:01:44,362 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 15:01:44,877 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 15:01:44,884 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 15:01:45,627 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 15:01:46,721 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 15:01:46,734 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 41989 (http) with context path '/api/v1'
2022-07-11 15:01:46,736 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 15:01:46,737 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@21523e1b]]
2022-07-11 15:01:46,737 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 15:01:46,749 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.765 seconds (JVM running for 5.697)
2022-07-11 15:01:46,765 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 15:01:46,766 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@21523e1b]]
2022-07-11 15:01:46,766 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 15:01:46,778 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 15:01:46,780 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 15:01:46,789 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 15:01:46,791 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 15:01:46,828 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 137588 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 15:01:46,829 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 15:01:47,002 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 15:01:47,020 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 17 ms. Found 5 JPA repository interfaces.
2022-07-11 15:01:47,203 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 15:01:47,204 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 15:01:47,204 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 15:01:47,204 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 15:01:47,220 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 15:01:47,221 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 390 ms
2022-07-11 15:01:47,244 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 15:01:47,245 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 15:01:47,315 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 15:01:47,319 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 15:01:47,325 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 15:01:47,325 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 15:01:47,412 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 15:01:47,413 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 15:01:47,716 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 15:01:48,152 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 15:01:48,154 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 46359 (http) with context path '/api/v1'
2022-07-11 15:01:48,154 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 15:01:48,154 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7ecf001f]]
2022-07-11 15:01:48,155 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 15:01:48,159 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.365 seconds (JVM running for 7.107)
2022-07-11 15:06:12,965 WARN c.z.h.p.HikariPool [HikariPool.java:788] HikariPool-2 - Thread starvation or clock leap detected (housekeeper delta=4m25s540ms662s123ns).
2022-07-11 15:06:12,966 INFO o.s.w.s.c.WebSocketMessageBrokerStats [WebSocketMessageBrokerStats.java:128] WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 3, active threads = 1, queued tasks = 1, completed tasks = 1]
2022-07-11 15:06:13,086 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 15:06:13,147 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 15:06:13,148 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7ecf001f]]
2022-07-11 15:06:13,148 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 15:06:13,152 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 15:06:13,153 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 15:06:13,156 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 15:06:13,157 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 15:53:48,455 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 15:53:48,462 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 15:53:48,463 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 15:53:48,617 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 15:53:48,744 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 15:53:48,763 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 15:53:49,107 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 15:53:49,113 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 12318 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 15:53:49,114 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 15:53:50,156 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 15:53:50,205 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 44 ms. Found 5 JPA repository interfaces.
2022-07-11 15:53:50,979 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 15:53:50,989 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 15:53:50,989 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 15:53:50,990 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 15:53:51,128 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 15:53:51,129 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1765 ms
2022-07-11 15:53:51,183 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 15:53:51,188 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 15:53:51,346 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 15:53:51,402 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 15:53:51,528 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 15:53:51,606 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 15:53:51,810 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 15:53:51,831 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 15:53:52,543 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 15:53:52,549 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 15:53:53,394 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 15:53:54,623 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 15:53:54,641 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 44555 (http) with context path '/api/v1'
2022-07-11 15:53:54,643 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 15:53:54,643 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7d2d5625]]
2022-07-11 15:53:54,643 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 15:53:54,659 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 5.855 seconds (JVM running for 8.241)
2022-07-11 15:53:54,677 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 15:53:54,678 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7d2d5625]]
2022-07-11 15:53:54,678 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 15:53:54,695 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 15:53:54,696 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 15:53:54,705 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 15:53:54,708 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 15:53:54,756 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 12318 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 15:53:54,757 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 15:53:54,967 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 15:53:54,983 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 16 ms. Found 5 JPA repository interfaces.
2022-07-11 15:53:55,149 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 15:53:55,149 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 15:53:55,150 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 15:53:55,150 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 15:53:55,177 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 15:53:55,178 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 419 ms
2022-07-11 15:53:55,221 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 15:53:55,222 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 15:53:55,281 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 15:53:55,286 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 15:53:55,288 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 15:53:55,288 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 15:53:55,363 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 15:53:55,363 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 15:53:55,713 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 15:53:56,296 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 15:53:56,297 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 42205 (http) with context path '/api/v1'
2022-07-11 15:53:56,298 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 15:53:56,298 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@68fd0fba]]
2022-07-11 15:53:56,298 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 15:53:56,303 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.592 seconds (JVM running for 9.884)
2022-07-11 15:54:18,733 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 15:54:18,733 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@68fd0fba]]
2022-07-11 15:54:18,733 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 15:54:18,740 INFO o.a.h.i.e.RetryExec [RetryExec.java:97] I/O exception (org.apache.http.NoHttpResponseException) caught when processing request to {}->http://localhost:42205: The target server failed to respond
2022-07-11 15:54:18,741 INFO o.a.h.i.e.RetryExec [RetryExec.java:113] Retrying request to {}->http://localhost:42205
2022-07-11 15:54:18,886 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 15:54:18,902 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 15:54:18,902 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 15:54:18,907 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 15:54:18,908 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 15:56:41,828 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 15:56:41,832 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 15:56:41,832 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 15:56:41,917 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 15:56:42,012 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 15:56:42,030 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 15:56:42,319 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 15:56:42,328 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 13985 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 15:56:42,328 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 15:56:43,164 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 15:56:43,228 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 52 ms. Found 5 JPA repository interfaces.
2022-07-11 15:56:44,024 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 15:56:44,032 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 15:56:44,032 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 15:56:44,032 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 15:56:44,123 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 15:56:44,123 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1490 ms
2022-07-11 15:56:44,172 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 15:56:44,174 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 15:56:44,292 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 15:56:44,347 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 15:56:44,449 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 15:56:44,513 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 15:56:44,645 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 15:56:44,657 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 15:56:45,197 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 15:56:45,204 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 15:56:46,018 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 15:56:48,840 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 15:56:48,852 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 35243 (http) with context path '/api/v1'
2022-07-11 15:56:48,853 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 15:56:48,854 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@76d654]]
2022-07-11 15:56:48,854 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 15:56:48,861 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 6.791 seconds (JVM running for 7.979)
2022-07-11 15:56:48,872 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 15:56:48,872 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@76d654]]
2022-07-11 15:56:48,872 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 15:56:48,887 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 15:56:48,887 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 15:56:48,895 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 15:56:48,898 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 15:56:48,929 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 13985 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 15:56:48,930 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 15:56:49,057 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 15:56:49,072 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 15 ms. Found 5 JPA repository interfaces.
2022-07-11 15:56:49,228 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 15:56:49,229 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 15:56:49,229 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 15:56:49,230 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 15:56:49,257 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 15:56:49,257 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 325 ms
2022-07-11 15:56:49,276 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 15:56:49,276 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 15:56:49,324 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 15:56:49,327 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 15:56:49,398 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 15:56:49,398 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 15:56:49,471 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 15:56:49,472 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 15:56:49,716 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 15:56:50,071 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 15:56:50,071 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 38237 (http) with context path '/api/v1'
2022-07-11 15:56:50,072 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 15:56:50,072 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1ff584d7]]
2022-07-11 15:56:50,072 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 15:56:50,076 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.175 seconds (JVM running for 9.194)
2022-07-11 15:56:54,488 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 15:56:54,685 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 15:56:54,685 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1ff584d7]]
2022-07-11 15:56:54,686 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 15:56:54,690 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 15:56:54,691 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 15:56:54,694 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 15:56:54,695 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 15:57:56,573 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 15:57:56,577 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 15:57:56,578 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 15:57:56,663 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 15:57:56,728 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 15:57:56,741 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 15:57:57,034 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 15:57:57,041 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 15093 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 15:57:57,041 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 15:57:57,834 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 15:57:57,892 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 53 ms. Found 5 JPA repository interfaces.
2022-07-11 15:57:58,755 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 15:57:58,765 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 15:57:58,767 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 15:57:58,767 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 15:57:58,860 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 15:57:58,860 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1632 ms
2022-07-11 15:57:58,904 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 15:57:58,906 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 15:57:59,058 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 15:57:59,107 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 15:57:59,232 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 15:57:59,302 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 15:57:59,465 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 15:57:59,476 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 15:58:00,009 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 15:58:00,015 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 15:58:00,701 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 15:58:01,641 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 15:58:01,654 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 46545 (http) with context path '/api/v1'
2022-07-11 15:58:01,655 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 15:58:01,656 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@529cd3ba]]
2022-07-11 15:58:01,656 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 15:58:01,669 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.896 seconds (JVM running for 5.796)
2022-07-11 15:58:01,681 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 15:58:01,681 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@529cd3ba]]
2022-07-11 15:58:01,681 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 15:58:01,693 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 15:58:01,694 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 15:58:01,701 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 15:58:01,704 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 15:58:01,742 DEBUG o.h.r.t.b.j.i.JdbcResourceLocalTransactionCoordinatorImpl [JdbcResourceLocalTransactionCoordinatorImpl.java:324] JDBC transaction marked for rollback-only (exception provided for stack trace)
java.lang.Exception: exception just for purpose of providing stack trace
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:324)
	at org.hibernate.engine.transaction.internal.TransactionImpl.markRollbackOnly(TransactionImpl.java:203)
	at org.hibernate.internal.AbstractSharedSessionContract.markForRollbackOnly(AbstractSharedSessionContract.java:428)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:756)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:811)
	at org.hibernate.query.criteria.internal.CriteriaQueryImpl$1.buildCompiledQuery(CriteriaQueryImpl.java:314)
	at org.hibernate.query.criteria.internal.compile.CriteriaCompiler.compile(CriteriaCompiler.java:165)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:774)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)
	at jdk.proxy2/jdk.proxy2.$Proxy146.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:790)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:767)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:400)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:85)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy150.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$ad572eca.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-07-11 15:58:01,747 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 15093 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 15:58:01,747 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 15:58:01,751 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy150.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$ad572eca.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 15:58:01,927 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 15:58:01,942 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 14 ms. Found 5 JPA repository interfaces.
2022-07-11 15:58:02,112 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 15:58:02,113 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 15:58:02,120 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 15:58:02,120 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 15:58:02,143 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 15:58:02,143 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 393 ms
2022-07-11 15:58:02,183 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 15:58:02,184 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 15:58:02,258 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 15:58:02,264 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 15:58:02,270 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 15:58:02,270 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 15:58:02,369 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 15:58:02,370 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 15:58:02,652 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 15:58:03,068 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 15:58:03,069 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 45175 (http) with context path '/api/v1'
2022-07-11 15:58:03,070 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 15:58:03,070 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7e7e34ef]]
2022-07-11 15:58:03,070 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 15:58:03,074 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.368 seconds (JVM running for 7.202)
2022-07-11 15:59:21,755 WARN c.z.h.p.HikariPool [HikariPool.java:788] HikariPool-2 - Thread starvation or clock leap detected (housekeeper delta=1m19s385ms98s756ns).
2022-07-11 15:59:21,755 INFO o.s.w.s.c.WebSocketMessageBrokerStats [WebSocketMessageBrokerStats.java:128] WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 3, active threads = 1, queued tasks = 1, completed tasks = 1]
2022-07-11 15:59:34,271 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 15:59:38,278 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 15:59:38,278 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7e7e34ef]]
2022-07-11 15:59:38,278 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 15:59:38,283 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 15:59:38,284 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 15:59:38,287 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 15:59:38,288 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 15:59:53,198 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 15:59:53,202 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 15:59:53,203 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 15:59:53,277 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 15:59:53,345 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 15:59:53,358 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 15:59:53,618 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 15:59:53,622 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 16185 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 15:59:53,623 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 15:59:54,337 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 15:59:54,389 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 46 ms. Found 5 JPA repository interfaces.
2022-07-11 15:59:55,055 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 15:59:55,063 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 15:59:55,063 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 15:59:55,064 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 15:59:55,166 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 15:59:55,166 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1381 ms
2022-07-11 15:59:55,210 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 15:59:55,212 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 15:59:55,327 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 15:59:55,359 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 15:59:55,449 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 15:59:55,518 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 15:59:55,660 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 15:59:55,671 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 15:59:56,162 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 15:59:56,167 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 15:59:56,844 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 15:59:57,761 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 15:59:57,775 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 34651 (http) with context path '/api/v1'
2022-07-11 15:59:57,776 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 15:59:57,776 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6ea0dfaa]]
2022-07-11 15:59:57,776 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 15:59:57,787 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.393 seconds (JVM running for 5.286)
2022-07-11 15:59:57,798 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 15:59:57,798 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6ea0dfaa]]
2022-07-11 15:59:57,799 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 15:59:57,813 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 15:59:57,813 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 15:59:57,819 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 15:59:57,821 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 15:59:57,851 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 16185 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 15:59:57,851 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 15:59:57,861 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy150.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$caa5a7eb.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 15:59:58,002 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 15:59:58,017 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 15 ms. Found 5 JPA repository interfaces.
2022-07-11 15:59:58,175 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 15:59:58,176 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 15:59:58,177 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 15:59:58,177 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 15:59:58,191 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 15:59:58,191 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 338 ms
2022-07-11 15:59:58,210 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 15:59:58,210 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 15:59:58,258 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 15:59:58,262 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 15:59:58,264 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 15:59:58,264 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 15:59:58,337 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 15:59:58,337 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 15:59:58,681 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 15:59:59,110 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 15:59:59,111 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 46139 (http) with context path '/api/v1'
2022-07-11 15:59:59,111 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 15:59:59,112 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@e7c3ba2]]
2022-07-11 15:59:59,112 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 15:59:59,117 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.293 seconds (JVM running for 6.617)
2022-07-11 16:00:01,839 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:00:01,840 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@e7c3ba2]]
2022-07-11 16:00:01,840 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:00:01,847 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:00:01,847 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:00:01,854 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 16:00:01,870 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 16:00:29,688 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 16:00:29,693 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 16:00:29,694 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 16:00:29,775 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 16:00:29,836 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 16:00:29,847 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 16:00:30,104 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 16:00:30,108 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 16610 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:00:30,108 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:02:11,803 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 16:02:11,806 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 16:02:11,807 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 16:02:11,892 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 16:02:11,969 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 16:02:11,986 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 16:02:12,309 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 16:02:12,329 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 17864 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:02:12,330 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:02:13,205 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:02:13,266 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 56 ms. Found 5 JPA repository interfaces.
2022-07-11 16:02:13,918 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:02:13,926 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:02:13,927 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:02:13,927 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:02:14,018 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:02:14,019 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1451 ms
2022-07-11 16:02:14,062 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:02:14,064 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:02:14,174 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:02:14,205 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 16:02:14,307 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 16:02:14,371 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 16:02:14,513 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 16:02:14,525 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:02:15,027 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:02:15,032 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:02:15,722 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:06:18,699 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 16:06:18,704 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 16:06:18,705 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 16:06:18,788 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 16:06:18,854 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 16:06:18,867 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 16:06:19,158 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 20554 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:06:19,159 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:06:19,160 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 16:06:19,841 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:06:19,888 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 41 ms. Found 5 JPA repository interfaces.
2022-07-11 16:06:20,470 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:06:20,480 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:06:20,481 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:06:20,482 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:06:20,579 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:06:20,579 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1237 ms
2022-07-11 16:06:20,623 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:06:20,625 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:06:20,745 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:06:20,783 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 16:06:20,881 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 16:06:20,949 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 16:06:21,099 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 16:06:21,110 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:06:21,594 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:06:21,601 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:06:22,259 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:06:23,424 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:06:23,438 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 40247 (http) with context path '/api/v1'
2022-07-11 16:06:23,439 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:06:23,440 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@32180efb]]
2022-07-11 16:06:23,440 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:06:23,451 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.552 seconds (JVM running for 6.426)
2022-07-11 16:06:23,466 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:06:23,467 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@32180efb]]
2022-07-11 16:06:23,467 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:06:23,493 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:06:23,494 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:06:23,503 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 16:06:23,508 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 16:06:23,558 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 20554 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:06:23,558 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:06:23,560 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy150.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$4b10b47.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 16:06:23,715 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:06:23,734 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 18 ms. Found 5 JPA repository interfaces.
2022-07-11 16:06:23,896 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:06:23,897 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:06:23,898 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:06:23,898 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:06:23,915 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:06:23,915 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 355 ms
2022-07-11 16:06:23,950 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:06:23,951 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:06:24,026 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:06:24,030 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 16:06:24,034 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 16:06:24,034 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:06:24,108 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:06:24,109 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:06:24,398 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:06:24,854 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:06:24,855 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 33155 (http) with context path '/api/v1'
2022-07-11 16:06:24,855 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:06:24,855 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6351efa6]]
2022-07-11 16:06:24,855 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:06:24,859 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.347 seconds (JVM running for 7.834)
2022-07-11 16:06:42,623 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:06:43,612 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:06:43,612 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:06:43,613 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:06:43,674 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:06:43,675 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6351efa6]]
2022-07-11 16:06:43,675 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:06:43,680 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:06:43,680 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:06:43,683 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 16:06:43,683 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 16:07:20,707 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 16:07:20,711 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 16:07:20,711 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 16:07:20,783 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 16:07:20,855 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 16:07:20,866 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 16:07:21,149 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 16:07:21,161 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 21767 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:07:21,161 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:07:21,942 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:07:22,003 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 55 ms. Found 5 JPA repository interfaces.
2022-07-11 16:07:22,642 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:07:22,653 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:07:22,654 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:07:22,654 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:07:22,751 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:07:22,751 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1409 ms
2022-07-11 16:07:22,794 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:07:22,798 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:07:22,929 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:07:22,995 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 16:07:23,108 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 16:07:23,177 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 16:07:23,317 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 16:07:23,327 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:07:23,831 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:07:23,836 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:07:24,972 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:07:25,940 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:07:25,960 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 33877 (http) with context path '/api/v1'
2022-07-11 16:07:25,961 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:07:25,961 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2acfd27b]]
2022-07-11 16:07:25,962 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:07:25,972 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 5.072 seconds (JVM running for 6.109)
2022-07-11 16:07:25,983 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:07:25,984 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2acfd27b]]
2022-07-11 16:07:25,984 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:07:25,998 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:07:25,998 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:07:26,004 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 16:07:26,006 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 16:07:26,027 DEBUG o.h.r.t.b.j.i.JdbcResourceLocalTransactionCoordinatorImpl [JdbcResourceLocalTransactionCoordinatorImpl.java:324] JDBC transaction marked for rollback-only (exception provided for stack trace)
java.lang.Exception: exception just for purpose of providing stack trace
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:324)
	at org.hibernate.engine.transaction.internal.TransactionImpl.markRollbackOnly(TransactionImpl.java:203)
	at org.hibernate.internal.AbstractSharedSessionContract.markForRollbackOnly(AbstractSharedSessionContract.java:428)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:756)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:811)
	at org.hibernate.query.criteria.internal.CriteriaQueryImpl$1.buildCompiledQuery(CriteriaQueryImpl.java:314)
	at org.hibernate.query.criteria.internal.compile.CriteriaCompiler.compile(CriteriaCompiler.java:165)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:774)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)
	at jdk.proxy2/jdk.proxy2.$Proxy146.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:790)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:767)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:400)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:85)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy150.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$51870f59.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-07-11 16:07:26,031 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 21767 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:07:26,031 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:07:26,034 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy150.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$51870f59.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 16:07:26,168 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:07:26,184 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 15 ms. Found 5 JPA repository interfaces.
2022-07-11 16:07:26,348 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:07:26,349 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:07:26,350 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:07:26,350 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:07:26,367 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:07:26,367 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 334 ms
2022-07-11 16:07:26,388 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:07:26,389 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:07:26,450 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:07:26,454 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 16:07:26,456 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 16:07:26,456 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:07:26,540 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:07:26,541 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:07:26,853 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:07:27,305 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:07:27,307 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 43817 (http) with context path '/api/v1'
2022-07-11 16:07:27,307 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:07:27,307 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@e7c3ba2]]
2022-07-11 16:07:27,308 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:07:27,311 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.302 seconds (JVM running for 7.448)
2022-07-11 16:07:32,291 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:07:32,452 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:07:32,452 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:07:32,453 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:07:32,539 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:07:32,540 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@e7c3ba2]]
2022-07-11 16:07:32,540 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:07:32,544 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:07:32,544 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:07:32,547 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 16:07:32,548 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 16:08:38,447 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 16:08:38,451 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 16:08:38,452 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 16:08:38,537 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 16:08:38,610 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 16:08:38,626 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 16:08:38,921 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 16:08:38,930 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 22405 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:08:38,931 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:08:39,800 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:08:39,867 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 61 ms. Found 5 JPA repository interfaces.
2022-07-11 16:08:40,578 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:08:40,589 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:08:40,591 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:08:40,591 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:08:40,697 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:08:40,697 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1579 ms
2022-07-11 16:08:40,745 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:08:40,748 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:08:40,904 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:08:40,947 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 16:08:41,057 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 16:08:41,151 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 16:08:41,307 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 16:08:41,319 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:08:41,876 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:08:41,884 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:08:42,721 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:08:43,783 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:08:43,796 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 33423 (http) with context path '/api/v1'
2022-07-11 16:08:43,797 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:08:43,798 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7892635c]]
2022-07-11 16:08:43,798 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:08:43,810 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 5.146 seconds (JVM running for 6.203)
2022-07-11 16:08:43,824 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:08:43,825 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7892635c]]
2022-07-11 16:08:43,825 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:08:43,838 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:08:43,839 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:08:43,844 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 16:08:43,846 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 16:08:43,871 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 22405 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:08:43,871 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:08:43,885 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy150.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$39087ec4.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 16:08:44,033 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:08:44,049 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 15 ms. Found 5 JPA repository interfaces.
2022-07-11 16:08:44,294 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:08:44,295 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:08:44,296 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:08:44,296 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:08:44,325 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:08:44,326 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 452 ms
2022-07-11 16:08:44,359 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:08:44,360 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:08:44,425 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:08:44,429 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 16:08:44,430 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 16:08:44,431 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:08:44,533 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:08:44,533 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:08:44,828 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:08:53,954 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 16:08:53,962 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 16:08:53,963 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 16:08:54,053 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 16:08:54,118 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 16:08:54,129 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 16:08:54,438 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 16:08:54,446 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 22649 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:08:54,447 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:08:55,246 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:08:55,301 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 48 ms. Found 5 JPA repository interfaces.
2022-07-11 16:08:55,924 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:08:55,933 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:08:55,934 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:08:55,934 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:08:56,020 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:08:56,021 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1357 ms
2022-07-11 16:08:56,064 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:08:56,067 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:08:56,189 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:08:56,223 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 16:08:56,332 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 16:08:56,399 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 16:08:56,537 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 16:08:56,548 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:08:57,025 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:08:57,030 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:08:57,723 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:08:58,611 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:08:58,623 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 37667 (http) with context path '/api/v1'
2022-07-11 16:08:58,625 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:08:58,625 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5e8359da]]
2022-07-11 16:08:58,625 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:08:58,635 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.471 seconds (JVM running for 5.495)
2022-07-11 16:08:58,648 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:08:58,648 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5e8359da]]
2022-07-11 16:08:58,648 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:08:58,661 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:08:58,662 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:08:58,668 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 16:08:58,670 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 16:08:58,695 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy150.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$6127b348.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 16:08:58,696 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 22649 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:08:58,696 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:08:58,831 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:08:58,847 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 15 ms. Found 5 JPA repository interfaces.
2022-07-11 16:08:59,031 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:08:59,032 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:08:59,033 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:08:59,033 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:08:59,058 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:08:59,058 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 360 ms
2022-07-11 16:08:59,077 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:08:59,078 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:08:59,126 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:08:59,129 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 16:08:59,130 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 16:08:59,131 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:08:59,205 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:08:59,205 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:08:59,466 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:08:59,865 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:08:59,866 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 34755 (http) with context path '/api/v1'
2022-07-11 16:08:59,866 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:08:59,866 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@9588bd8]]
2022-07-11 16:08:59,867 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:08:59,870 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.197 seconds (JVM running for 6.73)
2022-07-11 16:09:03,480 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:09:03,490 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:09:03,491 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:09:03,492 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:09:03,583 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:09:03,583 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@9588bd8]]
2022-07-11 16:09:03,583 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:09:03,587 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:09:03,588 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:09:03,591 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 16:09:03,592 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 16:21:49,335 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 16:21:49,338 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 16:21:49,339 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 16:21:49,462 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 16:21:49,552 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 16:21:49,565 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 16:21:49,859 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 16:21:49,860 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 8976 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:21:49,861 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:21:50,812 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:21:50,884 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 66 ms. Found 5 JPA repository interfaces.
2022-07-11 16:21:51,517 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:21:51,525 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:21:51,526 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:21:51,526 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:21:51,611 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:21:51,611 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1537 ms
2022-07-11 16:21:51,650 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:21:51,653 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:21:51,768 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:21:51,808 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 16:21:51,904 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 16:21:52,003 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 16:21:52,175 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 16:21:52,186 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:21:52,711 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:21:52,716 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:21:53,391 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:21:54,408 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:21:54,420 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 45731 (http) with context path '/api/v1'
2022-07-11 16:21:54,421 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:21:54,421 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7892635c]]
2022-07-11 16:21:54,422 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:21:54,432 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.832 seconds (JVM running for 6.701)
2022-07-11 16:21:54,450 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:21:54,451 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7892635c]]
2022-07-11 16:21:54,451 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:21:54,463 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:21:54,463 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:21:54,469 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 16:21:54,471 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 16:21:54,494 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 8976 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:21:54,494 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:21:54,506 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy150.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$96fd06dc.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 16:21:54,627 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:21:54,641 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 13 ms. Found 5 JPA repository interfaces.
2022-07-11 16:21:54,813 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:21:54,814 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:21:54,815 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:21:54,815 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:21:54,833 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:21:54,833 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 337 ms
2022-07-11 16:21:54,858 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:21:54,858 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:21:54,923 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:21:54,927 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 16:21:54,930 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 16:21:54,931 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:21:55,028 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:21:55,028 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:21:55,333 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:21:55,770 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:21:55,771 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 37105 (http) with context path '/api/v1'
2022-07-11 16:21:55,772 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:21:55,772 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5632bed3]]
2022-07-11 16:21:55,772 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:21:55,776 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.302 seconds (JVM running for 8.045)
2022-07-11 16:22:07,650 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:22:07,650 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5632bed3]]
2022-07-11 16:22:07,650 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:22:07,654 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:22:07,654 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:22:07,658 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 16:22:07,659 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 16:22:31,521 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 16:22:31,524 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 16:22:31,525 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 16:22:31,595 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 16:22:31,653 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 16:22:31,663 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 16:22:31,957 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 16:22:31,963 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 9307 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:22:31,964 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:22:32,938 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:22:32,991 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 47 ms. Found 5 JPA repository interfaces.
2022-07-11 16:22:33,694 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:22:33,704 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:22:33,704 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:22:33,705 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:22:33,797 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:22:33,798 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1672 ms
2022-07-11 16:22:33,846 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:22:33,848 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:22:33,981 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:22:34,021 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 16:22:34,132 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 16:22:34,203 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 16:22:34,349 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 16:22:34,361 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:22:34,867 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:22:34,873 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:22:35,588 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:22:36,487 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:22:36,500 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 39465 (http) with context path '/api/v1'
2022-07-11 16:22:36,501 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:22:36,501 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@61f18997]]
2022-07-11 16:22:36,501 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:22:36,512 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.823 seconds (JVM running for 5.713)
2022-07-11 16:22:36,525 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:22:36,526 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@61f18997]]
2022-07-11 16:22:36,526 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:22:36,537 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:22:36,537 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:22:36,543 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 16:22:36,545 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 16:22:36,568 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy150.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$51870f59.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 16:22:36,569 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 9307 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:22:36,570 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:22:36,722 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:22:36,741 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 18 ms. Found 5 JPA repository interfaces.
2022-07-11 16:22:36,926 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:22:36,927 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:22:36,928 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:22:36,928 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:22:36,944 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:22:36,944 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 372 ms
2022-07-11 16:22:36,964 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:22:36,965 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:22:37,021 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:22:37,025 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 16:22:37,027 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 16:22:37,027 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:22:37,115 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:22:37,116 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:22:37,387 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:22:37,815 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:22:37,816 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 35431 (http) with context path '/api/v1'
2022-07-11 16:22:37,816 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:22:37,816 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1cb09347]]
2022-07-11 16:22:37,817 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:22:37,820 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.273 seconds (JVM running for 7.021)
2022-07-11 16:22:43,431 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:22:43,439 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:22:43,439 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:22:43,440 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:22:43,562 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:22:43,562 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1cb09347]]
2022-07-11 16:22:43,562 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:22:43,568 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:22:43,569 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:22:43,574 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 16:22:43,575 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 16:22:59,240 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 16:22:59,244 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 16:22:59,245 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 16:22:59,322 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 16:22:59,379 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 16:22:59,389 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 16:22:59,665 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 16:22:59,674 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 9531 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:22:59,675 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:23:00,388 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:23:00,437 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 44 ms. Found 5 JPA repository interfaces.
2022-07-11 16:23:01,015 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:23:01,023 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:23:01,023 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:23:01,024 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:23:01,105 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:23:01,105 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1257 ms
2022-07-11 16:23:01,143 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:23:01,145 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:23:01,247 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:23:01,282 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 16:23:01,377 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 16:23:01,444 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 16:23:01,580 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 16:23:01,590 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:23:02,032 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:23:02,037 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:23:02,666 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:23:03,483 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:23:03,501 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 44431 (http) with context path '/api/v1'
2022-07-11 16:23:03,502 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:23:03,503 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7d2d5625]]
2022-07-11 16:23:03,503 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:23:03,513 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.096 seconds (JVM running for 5.043)
2022-07-11 16:23:03,526 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:23:03,526 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7d2d5625]]
2022-07-11 16:23:03,526 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:23:03,538 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:23:03,539 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:23:03,544 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 16:23:03,547 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 16:23:03,582 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 9531 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:23:03,582 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:23:03,583 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy150.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$caa5a7eb.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 16:23:03,727 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:23:03,742 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 14 ms. Found 5 JPA repository interfaces.
2022-07-11 16:23:03,930 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:23:03,931 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:23:03,931 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:23:03,931 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:23:03,948 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:23:03,948 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 364 ms
2022-07-11 16:23:03,965 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:23:03,966 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:23:04,018 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:23:04,021 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 16:23:04,025 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 16:23:04,026 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:23:04,107 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:23:04,108 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:23:04,359 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:23:04,730 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:23:04,730 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 41981 (http) with context path '/api/v1'
2022-07-11 16:23:04,731 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:23:04,731 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@68fd0fba]]
2022-07-11 16:23:04,731 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:23:04,734 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.184 seconds (JVM running for 6.264)
2022-07-11 16:23:07,683 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:23:07,689 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:23:07,690 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:23:07,691 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:23:07,772 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:23:07,772 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@68fd0fba]]
2022-07-11 16:23:07,772 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:23:07,783 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:23:07,783 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:23:07,788 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 16:23:07,789 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 16:23:38,115 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 16:23:38,119 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 16:23:38,120 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 16:23:38,189 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 16:23:38,250 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 16:23:38,261 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 16:23:38,544 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 16:23:38,553 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 9828 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:23:38,554 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:23:39,249 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:23:39,300 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 45 ms. Found 5 JPA repository interfaces.
2022-07-11 16:23:39,892 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:23:39,900 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:23:39,901 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:23:39,901 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:23:39,991 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:23:39,991 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1267 ms
2022-07-11 16:23:40,031 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:23:40,033 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:23:40,162 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:23:40,198 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 16:23:40,298 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 16:23:40,377 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 16:23:40,605 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 16:23:40,618 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:23:41,124 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:23:41,130 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:23:41,820 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:23:42,908 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:23:42,933 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 41327 (http) with context path '/api/v1'
2022-07-11 16:23:42,935 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:23:42,935 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7892635c]]
2022-07-11 16:23:42,936 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:23:42,986 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.692 seconds (JVM running for 5.607)
2022-07-11 16:23:43,014 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:23:43,015 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7892635c]]
2022-07-11 16:23:43,015 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:23:43,041 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:23:43,042 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:23:43,052 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 16:23:43,056 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 16:23:43,123 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 9828 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:23:43,123 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:23:43,411 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:23:43,446 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 34 ms. Found 5 JPA repository interfaces.
2022-07-11 16:23:43,637 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:23:43,638 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:23:43,639 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:23:43,639 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:23:43,653 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:23:43,653 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 527 ms
2022-07-11 16:23:43,673 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:23:43,674 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:23:43,735 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:23:43,740 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 16:23:43,742 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 16:23:43,742 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:23:43,827 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:23:43,827 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:23:44,123 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:23:44,506 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:23:44,507 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 40721 (http) with context path '/api/v1'
2022-07-11 16:23:44,508 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:23:44,508 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4bdec54]]
2022-07-11 16:23:44,508 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:23:44,512 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.452 seconds (JVM running for 7.132)
2022-07-11 16:23:44,810 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:23:44,818 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:23:44,818 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:23:44,819 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:23:44,906 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:23:44,907 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4bdec54]]
2022-07-11 16:23:44,907 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:23:44,912 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:23:44,912 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:23:44,916 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 16:23:44,917 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 16:23:53,448 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 16:23:53,452 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 16:23:53,453 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 16:23:53,539 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 16:23:53,598 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 16:23:53,609 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 16:23:53,888 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 10186 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:23:53,889 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:23:53,895 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 16:31:25,878 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 16:31:25,883 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 16:31:25,883 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 16:31:25,960 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 16:31:26,035 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 16:31:26,047 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 16:31:26,298 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 16:31:26,305 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 15150 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:31:26,306 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:31:27,028 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:31:27,091 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 57 ms. Found 5 JPA repository interfaces.
2022-07-11 16:31:27,747 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:31:27,754 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:31:27,755 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:31:27,756 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:31:27,865 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:31:27,866 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1388 ms
2022-07-11 16:31:27,911 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:31:27,914 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:31:28,053 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:31:28,086 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 16:31:28,184 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 16:31:28,254 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 16:31:28,430 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 16:31:28,440 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:31:29,163 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:31:29,169 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:31:30,219 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:31:31,031 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:31:31,050 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 34057 (http) with context path '/api/v1'
2022-07-11 16:31:31,051 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:31:31,052 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7f39bcb5]]
2022-07-11 16:31:31,052 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:31:31,063 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.987 seconds (JVM running for 5.902)
2022-07-11 16:31:31,073 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:31:31,073 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7f39bcb5]]
2022-07-11 16:31:31,073 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:31:31,085 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:31:31,085 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:31:31,090 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 16:31:31,093 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 16:31:31,116 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 15150 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:31:31,116 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:31:31,116 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy150.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$51870f59.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 16:31:31,257 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:31:31,275 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 15 ms. Found 5 JPA repository interfaces.
2022-07-11 16:31:31,454 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:31:31,455 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:31:31,456 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:31:31,456 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:31:31,480 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:31:31,481 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 363 ms
2022-07-11 16:31:31,505 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:31:31,506 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:31:31,562 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:31:31,565 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 16:31:31,569 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 16:31:31,570 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:31:31,654 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:31:31,654 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:31:31,907 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:31:32,309 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:31:32,310 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 43567 (http) with context path '/api/v1'
2022-07-11 16:31:32,311 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:31:32,311 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@468d1fcc]]
2022-07-11 16:31:32,311 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:31:32,323 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.227 seconds (JVM running for 7.162)
2022-07-11 16:31:32,588 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:31:32,596 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:31:32,597 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:31:32,597 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 0 ms
2022-07-11 16:31:32,681 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:31:32,681 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@468d1fcc]]
2022-07-11 16:31:32,681 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:31:32,687 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:31:32,687 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:31:32,690 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 16:31:32,691 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 16:32:29,139 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 16:32:29,143 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 16:32:29,144 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 16:32:29,221 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 16:32:29,276 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 16:32:29,287 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 16:32:29,520 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 16:32:29,524 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 15709 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:32:29,525 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:32:30,181 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:32:30,230 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 44 ms. Found 5 JPA repository interfaces.
2022-07-11 16:32:30,800 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:32:30,807 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:32:30,808 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:32:30,808 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:32:30,890 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:32:30,890 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1201 ms
2022-07-11 16:32:30,927 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:32:30,929 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:32:31,034 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:32:31,066 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 16:32:31,156 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 16:32:31,219 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 16:32:31,346 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 16:32:31,357 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:32:31,820 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:32:31,826 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:32:32,446 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:32:33,305 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:32:33,316 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 46463 (http) with context path '/api/v1'
2022-07-11 16:32:33,317 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:32:33,317 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@25192b6e]]
2022-07-11 16:32:33,318 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:32:33,328 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.017 seconds (JVM running for 4.841)
2022-07-11 16:32:33,338 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:32:33,338 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@25192b6e]]
2022-07-11 16:32:33,338 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:32:33,349 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:32:33,349 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:32:33,355 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 16:32:33,357 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 16:32:33,385 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 15709 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:32:33,386 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:32:33,387 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy150.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$bd1c5a54.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 16:32:33,510 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:32:33,525 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 13 ms. Found 5 JPA repository interfaces.
2022-07-11 16:32:33,717 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:32:33,718 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:32:33,719 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:32:33,719 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:32:33,735 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:32:33,736 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 348 ms
2022-07-11 16:32:33,758 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:32:33,758 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:32:33,807 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:32:33,810 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 16:32:33,812 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 16:32:33,813 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:32:33,879 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:32:33,880 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:32:34,126 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:32:34,472 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:32:34,473 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 43607 (http) with context path '/api/v1'
2022-07-11 16:32:34,473 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:32:34,473 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@19a2b224]]
2022-07-11 16:32:34,473 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:32:34,476 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.117 seconds (JVM running for 5.989)
2022-07-11 16:32:34,733 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:32:34,786 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:32:34,786 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@19a2b224]]
2022-07-11 16:32:34,786 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:32:34,792 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:32:34,792 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:32:34,796 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 16:32:34,797 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 16:35:52,305 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 16:35:52,309 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 16:35:52,310 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 16:35:52,381 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 16:35:52,442 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 16:35:52,451 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 16:35:52,706 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 16:35:52,710 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 18020 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:35:52,711 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:35:53,451 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:35:53,504 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 47 ms. Found 5 JPA repository interfaces.
2022-07-11 16:35:54,101 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:35:54,111 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:35:54,111 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:35:54,112 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:35:54,203 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:35:54,204 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1343 ms
2022-07-11 16:35:54,254 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:35:54,257 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:35:54,405 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:35:54,443 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 16:35:54,545 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 16:35:54,618 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 16:35:54,767 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 16:35:54,778 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:35:55,265 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:35:55,270 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:35:56,204 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:35:57,180 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:35:57,193 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 46791 (http) with context path '/api/v1'
2022-07-11 16:35:57,194 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:35:57,194 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5e8359da]]
2022-07-11 16:35:57,194 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:35:57,205 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.729 seconds (JVM running for 6.05)
2022-07-11 16:35:57,218 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:35:57,218 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5e8359da]]
2022-07-11 16:35:57,218 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:35:57,229 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:35:57,230 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:35:57,235 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 16:35:57,236 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 16:35:57,261 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 18020 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:35:57,262 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:35:57,268 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy150.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$aceb41ba.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 16:35:57,396 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:35:57,412 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 15 ms. Found 5 JPA repository interfaces.
2022-07-11 16:35:57,611 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:35:57,612 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:35:57,613 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:35:57,613 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:35:57,633 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:35:57,633 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 370 ms
2022-07-11 16:35:57,654 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:35:57,654 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:35:57,711 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:35:57,714 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 16:35:57,716 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 16:35:57,716 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:35:57,833 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:35:57,834 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:35:58,292 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:35:59,039 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:35:59,040 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 42011 (http) with context path '/api/v1'
2022-07-11 16:35:59,040 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:35:59,041 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5fe5f2f0]]
2022-07-11 16:35:59,041 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:35:59,044 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.805 seconds (JVM running for 7.889)
2022-07-11 16:35:59,333 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:35:59,341 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:35:59,341 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:35:59,342 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:35:59,433 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:35:59,433 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5fe5f2f0]]
2022-07-11 16:35:59,433 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:35:59,441 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:35:59,442 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:35:59,446 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 16:35:59,447 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 16:36:25,691 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 16:36:25,694 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 16:36:25,695 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 16:36:25,765 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 16:36:25,824 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 16:36:25,834 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 16:36:26,090 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 18433 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:36:26,091 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:36:26,094 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 16:36:26,825 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:36:26,874 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 43 ms. Found 5 JPA repository interfaces.
2022-07-11 16:36:27,600 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:36:27,610 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:36:27,611 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:36:27,612 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:36:27,711 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:36:27,711 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1459 ms
2022-07-11 16:36:27,753 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:36:27,756 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:36:27,884 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:36:27,923 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 16:36:28,035 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 16:36:28,112 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 16:36:28,275 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 16:36:28,286 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:36:28,819 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:36:28,825 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:36:29,535 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:36:30,402 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:36:30,414 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 33297 (http) with context path '/api/v1'
2022-07-11 16:36:30,415 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:36:30,415 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6dacde96]]
2022-07-11 16:36:30,415 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:36:30,426 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.568 seconds (JVM running for 5.436)
2022-07-11 16:36:30,439 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:36:30,440 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6dacde96]]
2022-07-11 16:36:30,440 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:36:30,452 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:36:30,452 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:36:30,457 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 16:36:30,459 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 16:36:30,483 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy150.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$fec8d12b.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 16:36:30,484 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 18433 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:36:30,484 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:36:30,636 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:36:30,651 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 14 ms. Found 5 JPA repository interfaces.
2022-07-11 16:36:30,838 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:36:30,838 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:36:30,839 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:36:30,839 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:36:30,854 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:36:30,854 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 368 ms
2022-07-11 16:36:30,873 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:36:30,873 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:36:30,925 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:36:30,928 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 16:36:30,930 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 16:36:30,930 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:36:31,004 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:36:31,005 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:36:31,279 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:36:31,666 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:36:31,667 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 38125 (http) with context path '/api/v1'
2022-07-11 16:36:31,668 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:36:31,668 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3f9e38d4]]
2022-07-11 16:36:31,668 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:36:31,671 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.21 seconds (JVM running for 6.681)
2022-07-11 16:36:31,959 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:36:32,096 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:36:32,096 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:36:32,097 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:36:32,100 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports]
2022-07-11 16:36:35,185 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:36] Get all ports
2022-07-11 16:36:35,211 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports]
2022-07-11 16:36:35,253 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:36:35,254 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3f9e38d4]]
2022-07-11 16:36:35,254 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:36:35,259 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:36:35,259 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:36:35,262 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 16:36:35,263 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 16:37:44,375 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 16:37:44,379 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 16:37:44,380 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 16:37:44,449 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 16:37:44,508 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 16:37:44,518 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 16:37:44,764 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 16:37:44,771 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 19084 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:37:44,771 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:37:45,499 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:37:45,556 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 51 ms. Found 5 JPA repository interfaces.
2022-07-11 16:37:46,299 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:37:46,311 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:37:46,313 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:37:46,314 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:37:46,446 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:37:46,446 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1515 ms
2022-07-11 16:37:46,519 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:37:46,524 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:37:46,640 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:37:46,675 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 16:37:46,795 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 16:37:46,883 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 16:37:47,024 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 16:37:47,036 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:37:47,530 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:37:47,535 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:37:48,300 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:37:49,209 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:37:49,221 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 38843 (http) with context path '/api/v1'
2022-07-11 16:37:49,222 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:37:49,223 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1ed763aa]]
2022-07-11 16:37:49,223 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:37:49,234 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.687 seconds (JVM running for 5.581)
2022-07-11 16:37:49,247 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:37:49,248 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1ed763aa]]
2022-07-11 16:37:49,248 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:37:49,264 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:37:49,264 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:37:49,272 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 16:37:49,274 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 16:37:49,300 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 19084 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:37:49,301 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:37:49,306 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy150.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$c2bf7d65.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 16:37:49,446 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:37:49,460 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 13 ms. Found 5 JPA repository interfaces.
2022-07-11 16:37:49,613 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:37:49,614 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:37:49,614 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:37:49,614 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:37:49,628 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:37:49,628 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 325 ms
2022-07-11 16:37:49,646 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:37:49,647 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:37:49,694 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:37:49,697 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 16:37:49,699 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 16:37:49,699 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:37:49,770 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:37:49,771 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:37:50,041 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:37:50,402 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:37:50,403 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 39365 (http) with context path '/api/v1'
2022-07-11 16:37:50,403 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:37:50,403 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@75edfe9a]]
2022-07-11 16:37:50,403 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:37:50,407 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.13 seconds (JVM running for 6.754)
2022-07-11 16:37:50,786 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:37:50,940 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:37:50,940 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:37:50,941 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:37:50,944 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports]
2022-07-11 16:37:50,962 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:36] Get all ports
2022-07-11 16:37:50,990 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports]
2022-07-11 16:37:51,036 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:37:51,036 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@75edfe9a]]
2022-07-11 16:37:51,036 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:37:51,043 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:37:51,044 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:37:51,048 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 16:37:51,049 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 16:38:22,307 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 16:38:22,311 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 16:38:22,312 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 16:38:22,393 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 16:38:22,464 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 16:38:22,476 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 16:38:22,728 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 16:38:22,732 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 19492 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:38:22,733 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:38:23,553 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:38:23,609 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 50 ms. Found 5 JPA repository interfaces.
2022-07-11 16:38:24,238 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:38:24,245 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:38:24,245 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:38:24,246 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:38:24,327 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:38:24,328 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1403 ms
2022-07-11 16:38:24,365 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:38:24,368 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:38:24,467 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:38:24,503 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 16:38:24,601 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 16:38:24,687 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 16:38:24,823 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 16:38:24,834 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:38:25,289 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:38:25,294 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:38:25,984 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:38:26,853 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:38:26,866 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 40947 (http) with context path '/api/v1'
2022-07-11 16:38:26,867 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:38:26,867 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6461c673]]
2022-07-11 16:38:26,868 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:38:26,879 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.372 seconds (JVM running for 5.207)
2022-07-11 16:38:26,891 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:38:26,891 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6461c673]]
2022-07-11 16:38:26,892 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:38:26,903 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:38:26,903 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:38:26,909 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 16:38:26,911 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 16:38:26,935 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy150.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$c2bf7d65.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 16:38:26,939 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 19492 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:38:26,939 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:38:27,080 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:38:27,096 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 15 ms. Found 5 JPA repository interfaces.
2022-07-11 16:38:27,268 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:38:27,269 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:38:27,270 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:38:27,270 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:38:27,284 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:38:27,284 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 341 ms
2022-07-11 16:38:27,302 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:38:27,302 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:38:27,355 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:38:27,359 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 16:38:27,360 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 16:38:27,361 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:38:27,435 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:38:27,435 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:38:27,691 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:38:28,070 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:38:28,071 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 45983 (http) with context path '/api/v1'
2022-07-11 16:38:28,072 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:38:28,072 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7310bc90]]
2022-07-11 16:38:28,072 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:38:28,075 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.162 seconds (JVM running for 6.403)
2022-07-11 16:38:28,411 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:38:28,536 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:38:28,536 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:38:28,537 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:38:28,540 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports]
2022-07-11 16:38:28,556 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:36] Get all ports
2022-07-11 16:38:28,582 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports]
2022-07-11 16:38:32,677 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:38:32,678 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7310bc90]]
2022-07-11 16:38:32,678 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:38:32,681 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:38:32,682 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:38:32,684 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 16:38:32,685 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 16:39:51,101 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 16:39:51,106 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 16:39:51,107 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 16:39:51,185 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 16:39:51,248 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 16:39:51,259 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 16:39:51,516 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 20188 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:39:51,516 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 16:39:51,516 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:39:52,216 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:39:52,266 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 44 ms. Found 5 JPA repository interfaces.
2022-07-11 16:39:52,822 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:39:52,832 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:39:52,832 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:39:52,833 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:39:52,920 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:39:52,921 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1239 ms
2022-07-11 16:39:52,962 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:39:52,964 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:39:53,088 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:39:53,119 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 16:39:53,217 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 16:39:53,283 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 16:39:53,417 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 16:39:53,429 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:39:53,987 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:39:53,992 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:39:54,744 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:39:55,721 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:39:55,734 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 35375 (http) with context path '/api/v1'
2022-07-11 16:39:55,735 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:39:55,736 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4e6881e]]
2022-07-11 16:39:55,736 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:39:55,747 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.456 seconds (JVM running for 5.274)
2022-07-11 16:39:55,759 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:39:55,759 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4e6881e]]
2022-07-11 16:39:55,759 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:39:55,770 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:39:55,771 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:39:55,778 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 16:39:55,780 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 16:39:55,808 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 20188 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:39:55,808 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:39:55,811 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy150.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$96fd06dc.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 16:39:55,959 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:39:55,978 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 18 ms. Found 5 JPA repository interfaces.
2022-07-11 16:39:56,145 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:39:56,145 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:39:56,146 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:39:56,146 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:39:56,161 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:39:56,161 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 350 ms
2022-07-11 16:39:56,182 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:39:56,183 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:39:56,237 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:39:56,241 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 16:39:56,242 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 16:39:56,242 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:39:56,320 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:39:56,321 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:39:56,596 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:39:56,994 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:39:56,995 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 35375 (http) with context path '/api/v1'
2022-07-11 16:39:56,995 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:39:56,996 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7138e064]]
2022-07-11 16:39:56,996 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:39:56,999 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.215 seconds (JVM running for 6.526)
2022-07-11 16:39:57,455 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:39:57,629 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:39:57,629 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:39:57,630 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:39:57,634 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports]
2022-07-11 16:39:57,658 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:36] Get all ports
2022-07-11 16:39:57,694 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports]
2022-07-11 16:39:57,761 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:39:57,761 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7138e064]]
2022-07-11 16:39:57,761 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:39:57,766 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:39:57,767 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:39:57,770 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 16:39:57,771 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 16:40:58,779 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 16:40:58,782 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 16:40:58,783 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 16:40:58,862 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 16:40:58,925 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 16:40:58,936 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 16:40:59,211 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 16:40:59,218 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 20796 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:40:59,219 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:40:59,961 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:41:00,020 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 52 ms. Found 5 JPA repository interfaces.
2022-07-11 16:41:00,610 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:41:00,618 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:41:00,619 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:41:00,619 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:41:00,724 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:41:00,725 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1317 ms
2022-07-11 16:41:00,773 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:41:00,776 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:41:00,919 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:41:00,962 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 16:41:01,069 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 16:41:01,148 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 16:41:01,299 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 16:41:01,311 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:41:01,822 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:41:01,829 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:41:02,512 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:41:03,451 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:41:03,463 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 35059 (http) with context path '/api/v1'
2022-07-11 16:41:03,465 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:41:03,465 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@61f18997]]
2022-07-11 16:41:03,466 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:41:03,477 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.511 seconds (JVM running for 5.365)
2022-07-11 16:41:03,489 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:41:03,489 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@61f18997]]
2022-07-11 16:41:03,490 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:41:03,501 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:41:03,501 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:41:03,506 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 16:41:03,508 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 16:41:03,531 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 20796 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:41:03,532 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:41:03,532 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy150.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$33b03b85.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 16:41:03,693 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:41:03,711 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 17 ms. Found 5 JPA repository interfaces.
2022-07-11 16:41:03,935 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:41:03,936 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:41:03,936 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:41:03,937 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:41:03,958 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:41:03,958 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 425 ms
2022-07-11 16:41:03,984 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:41:03,984 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:41:04,045 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:41:04,048 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 16:41:04,049 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 16:41:04,049 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:41:04,148 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:41:04,149 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:41:04,466 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:41:04,988 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:41:04,989 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 46721 (http) with context path '/api/v1'
2022-07-11 16:41:04,990 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:41:04,991 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@9588bd8]]
2022-07-11 16:41:04,991 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:41:04,996 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.486 seconds (JVM running for 6.885)
2022-07-11 16:41:05,420 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:41:05,558 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:41:05,558 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:41:05,559 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:41:05,562 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports]
2022-07-11 16:41:05,580 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:36] Get all ports
2022-07-11 16:41:05,610 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports]
2022-07-11 16:41:05,667 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:41:05,667 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@9588bd8]]
2022-07-11 16:41:05,667 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:41:05,673 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:41:05,673 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:41:05,676 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 16:41:05,677 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 16:45:43,124 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 16:45:43,131 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 16:45:43,132 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 16:45:43,234 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 16:45:43,295 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 16:45:43,306 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 16:45:43,560 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 23026 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:45:43,560 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:45:43,562 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 16:45:44,367 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:45:44,423 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 50 ms. Found 5 JPA repository interfaces.
2022-07-11 16:45:45,015 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:45:45,026 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:45:45,027 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:45:45,028 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:45:45,154 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:45:45,154 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1384 ms
2022-07-11 16:45:45,210 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:45:45,214 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:45:45,344 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:45:45,380 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 16:45:45,473 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 16:45:45,538 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 16:45:45,693 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 16:45:45,705 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:45:46,293 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:45:46,300 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:45:47,060 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:45:48,053 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:45:48,071 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 45219 (http) with context path '/api/v1'
2022-07-11 16:45:48,074 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:45:48,075 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1ed763aa]]
2022-07-11 16:45:48,075 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:45:48,091 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.754 seconds (JVM running for 5.666)
2022-07-11 16:45:48,106 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:45:48,107 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1ed763aa]]
2022-07-11 16:45:48,107 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:45:48,122 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:45:48,123 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:45:48,130 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 16:45:48,133 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 16:45:48,181 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 23026 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:45:48,182 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:45:48,420 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:45:48,450 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 29 ms. Found 5 JPA repository interfaces.
2022-07-11 16:45:48,752 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:45:48,753 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:45:48,754 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:45:48,755 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:45:48,779 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:45:48,779 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 595 ms
2022-07-11 16:45:48,815 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:45:48,816 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:45:48,906 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:45:48,912 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 16:45:48,915 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 16:45:48,916 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:45:49,073 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:45:49,074 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:45:49,474 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:45:49,881 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:45:49,882 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 43605 (http) with context path '/api/v1'
2022-07-11 16:45:49,882 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:45:49,882 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@75edfe9a]]
2022-07-11 16:45:49,882 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:45:49,886 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.749 seconds (JVM running for 7.46)
2022-07-11 16:45:50,258 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:45:50,410 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:45:50,410 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:45:50,411 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:45:50,414 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports]
2022-07-11 16:45:50,433 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:36] Get all ports
2022-07-11 16:45:50,464 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports]
2022-07-11 16:45:50,514 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:45:50,515 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@75edfe9a]]
2022-07-11 16:45:50,515 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:45:50,521 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:45:50,521 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:45:50,524 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 16:45:50,525 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 16:50:21,802 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 16:50:21,806 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 16:50:21,806 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 16:50:21,892 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 16:50:21,954 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 16:50:21,965 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4a194c39, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@52066604, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@340b9973, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@56113384, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5669c5fb, org.springframework.test.context.support.DirtiesContextTestExecutionListener@373ebf74, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5f9678e1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@c4ed84, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@189aa67a, org.springframework.test.context.event.EventPublishingTestExecutionListener@5a9d6f02, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@362045c0, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@112f364d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5ccbeb64, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6d9f7a80, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@59252cb6, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@31d0e481, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@3243b914]
2022-07-11 16:50:22,393 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 16:50:22,408 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 26363 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:50:22,409 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:50:23,218 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:50:23,266 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 42 ms. Found 5 JPA repository interfaces.
2022-07-11 16:50:23,837 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:50:23,845 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:50:23,845 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:50:23,845 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:50:23,941 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:50:23,941 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1307 ms
2022-07-11 16:50:23,979 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:50:23,983 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:50:24,116 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:50:24,148 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 16:50:24,241 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 16:50:24,297 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 16:50:24,436 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 16:50:24,453 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:50:24,928 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:50:24,932 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:50:25,507 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:50:26,366 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:50:26,377 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 33359 (http) with context path '/api/v1'
2022-07-11 16:50:26,378 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:50:26,378 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@210e4678]]
2022-07-11 16:50:26,379 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:50:26,389 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.388 seconds (JVM running for 5.192)
2022-07-11 16:50:26,401 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:50:26,402 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@210e4678]]
2022-07-11 16:50:26,402 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:50:26,412 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:50:26,412 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:50:26,418 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 16:50:26,419 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 16:50:26,441 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 26363 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:50:26,441 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@443dbe42 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy150.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$583ee09e.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@443dbe42 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 74 common frames omitted
2022-07-11 16:50:26,441 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:50:26,556 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:50:26,569 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 12 ms. Found 5 JPA repository interfaces.
2022-07-11 16:50:26,689 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:50:26,690 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:50:26,691 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:50:26,691 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:50:26,719 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:50:26,719 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 276 ms
2022-07-11 16:50:26,736 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:50:26,737 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:50:26,790 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:50:26,793 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 16:50:26,794 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 16:50:26,795 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:50:26,874 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:50:26,875 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:50:27,125 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:50:27,516 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:50:27,517 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 44697 (http) with context path '/api/v1'
2022-07-11 16:50:27,517 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:50:27,518 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@179367ff]]
2022-07-11 16:50:27,518 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:50:27,521 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.099 seconds (JVM running for 6.324)
2022-07-11 16:50:27,875 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:50:28,027 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:50:28,027 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:50:28,029 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 2 ms
2022-07-11 16:50:28,033 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports/1]
2022-07-11 16:50:28,071 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:57] Get port with id: 1
2022-07-11 16:50:28,108 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports/1]
2022-07-11 16:50:28,159 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:50:28,160 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@179367ff]]
2022-07-11 16:50:28,160 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:50:28,165 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:50:28,165 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:50:28,168 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 16:50:28,169 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 16:52:28,506 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 16:52:28,510 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 16:52:28,510 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 16:52:28,591 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 16:52:28,656 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 16:52:28,667 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 16:52:28,957 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 16:52:28,978 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 27322 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:52:28,980 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:52:29,756 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:52:29,818 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 55 ms. Found 5 JPA repository interfaces.
2022-07-11 16:52:30,482 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:52:30,491 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:52:30,492 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:52:30,492 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:52:30,594 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:52:30,594 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1371 ms
2022-07-11 16:52:30,642 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:52:30,646 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:52:30,782 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:52:30,818 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 16:52:30,924 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 16:52:30,996 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 16:52:31,130 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 16:52:31,146 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:52:31,626 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:52:31,631 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:52:32,315 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:52:33,238 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:52:33,252 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 33563 (http) with context path '/api/v1'
2022-07-11 16:52:33,254 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:52:33,254 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@20ed6de]]
2022-07-11 16:52:33,255 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:52:33,267 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.57 seconds (JVM running for 5.846)
2022-07-11 16:52:33,283 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:52:33,283 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@20ed6de]]
2022-07-11 16:52:33,284 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:52:33,297 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:52:33,298 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:52:33,304 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 16:52:33,306 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 16:52:33,330 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy150.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$a2d5878e.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 16:52:33,332 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 27322 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:52:33,332 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:52:33,474 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:52:33,491 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 16 ms. Found 5 JPA repository interfaces.
2022-07-11 16:52:33,686 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:52:33,687 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:52:33,688 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:52:33,688 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:52:33,709 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:52:33,709 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 374 ms
2022-07-11 16:52:33,737 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:52:33,738 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:52:33,795 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:52:33,798 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 16:52:33,800 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 16:52:33,800 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:52:33,871 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:52:33,872 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:52:34,153 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:52:34,609 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:52:34,609 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 39035 (http) with context path '/api/v1'
2022-07-11 16:52:34,610 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:52:34,611 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7d28d525]]
2022-07-11 16:52:34,611 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:52:34,615 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.307 seconds (JVM running for 7.194)
2022-07-11 16:52:34,980 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:52:35,121 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:52:35,121 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:52:35,123 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:52:35,126 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports/devices/1]
2022-07-11 16:52:35,149 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:44] Get all ports by device: 1
2022-07-11 16:52:35,197 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports/devices/1]
2022-07-11 16:52:35,264 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:52:35,264 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7d28d525]]
2022-07-11 16:52:35,264 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:52:35,271 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:52:35,271 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:52:35,276 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 16:52:35,277 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 16:52:41,484 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 16:52:41,488 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 16:52:41,489 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 16:52:41,572 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 16:52:41,633 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 16:52:41,644 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4a194c39, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@52066604, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@340b9973, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@56113384, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5669c5fb, org.springframework.test.context.support.DirtiesContextTestExecutionListener@373ebf74, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5f9678e1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@c4ed84, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@189aa67a, org.springframework.test.context.event.EventPublishingTestExecutionListener@5a9d6f02, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@362045c0, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@112f364d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5ccbeb64, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6d9f7a80, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@59252cb6, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@31d0e481, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@3243b914]
2022-07-11 16:52:41,904 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 16:52:41,910 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 27597 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:52:41,911 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:52:42,603 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:52:42,648 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 40 ms. Found 5 JPA repository interfaces.
2022-07-11 16:52:43,156 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:52:43,163 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:52:43,163 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:52:43,164 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:52:43,256 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:52:43,256 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1170 ms
2022-07-11 16:52:43,295 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:52:43,298 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:52:43,403 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:52:43,431 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 16:52:43,520 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 16:52:43,571 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 16:52:43,682 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 16:52:43,691 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:52:44,087 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:52:44,092 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:52:44,739 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:52:45,538 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:52:45,549 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 46435 (http) with context path '/api/v1'
2022-07-11 16:52:45,550 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:52:45,550 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@79690a0a]]
2022-07-11 16:52:45,551 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:52:45,561 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 3.889 seconds (JVM running for 4.834)
2022-07-11 16:52:45,571 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:52:45,571 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@79690a0a]]
2022-07-11 16:52:45,571 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:52:45,581 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:52:45,582 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:52:45,587 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 16:52:45,589 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 16:52:45,626 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@443dbe42 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy150.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$174d8335.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@443dbe42 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 74 common frames omitted
2022-07-11 16:52:45,628 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 27597 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:52:45,628 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:52:45,747 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:52:45,760 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 13 ms. Found 5 JPA repository interfaces.
2022-07-11 16:52:45,895 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:52:45,897 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:52:45,898 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:52:45,898 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:52:45,919 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:52:45,919 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 289 ms
2022-07-11 16:52:45,939 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:52:45,939 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:52:45,985 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:52:45,988 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 16:52:45,989 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 16:52:45,990 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:52:46,086 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:52:46,087 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:52:46,330 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:52:46,651 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:52:46,652 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 44765 (http) with context path '/api/v1'
2022-07-11 16:52:46,653 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:52:46,653 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@99a89e9]]
2022-07-11 16:52:46,653 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:52:46,656 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.065 seconds (JVM running for 5.929)
2022-07-11 16:52:46,973 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:52:47,127 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:52:47,127 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:52:47,128 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:52:47,132 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports/devices/1]
2022-07-11 16:52:47,160 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:44] Get all ports by device: 1
2022-07-11 16:52:47,218 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports/devices/1]
2022-07-11 16:52:47,244 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:52:47,244 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@99a89e9]]
2022-07-11 16:52:47,244 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:52:47,251 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:52:47,251 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:52:47,254 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 16:52:47,255 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 16:52:47,280 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 27597 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:52:47,280 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:52:47,388 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:52:47,401 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 12 ms. Found 5 JPA repository interfaces.
2022-07-11 16:52:47,496 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:52:47,496 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-3"]
2022-07-11 16:52:47,497 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:52:47,497 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:52:47,509 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:52:47,509 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 227 ms
2022-07-11 16:52:47,524 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:52:47,524 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:52:47,564 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:52:47,568 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-3 - Starting...
2022-07-11 16:52:47,569 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-3 - Start completed.
2022-07-11 16:52:47,570 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:52:47,655 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:52:47,655 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:52:47,897 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:52:48,263 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-3"]
2022-07-11 16:52:48,264 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 42551 (http) with context path '/api/v1'
2022-07-11 16:52:48,265 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:52:48,265 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6c37b0de]]
2022-07-11 16:52:48,266 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:52:48,269 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.011 seconds (JVM running for 7.542)
2022-07-11 16:52:48,407 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:52:48,416 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:52:48,416 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:52:48,417 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:52:48,417 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports]
2022-07-11 16:52:48,419 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:36] Get all ports
2022-07-11 16:52:48,429 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports]
2022-07-11 16:52:48,465 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:52:48,465 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6c37b0de]]
2022-07-11 16:52:48,465 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:52:48,470 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:52:48,471 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:52:48,474 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-3 - Shutdown initiated...
2022-07-11 16:52:48,474 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-3 - Shutdown completed.
2022-07-11 16:52:48,496 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 27597 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:52:48,496 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:52:48,621 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:52:48,633 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 11 ms. Found 5 JPA repository interfaces.
2022-07-11 16:52:48,736 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:52:48,737 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-4"]
2022-07-11 16:52:48,737 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:52:48,737 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:52:48,751 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:52:48,751 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 253 ms
2022-07-11 16:52:48,766 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:52:48,767 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:52:48,821 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:52:48,824 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-4 - Starting...
2022-07-11 16:52:48,825 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-4 - Start completed.
2022-07-11 16:52:48,826 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:52:48,884 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:52:48,884 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:52:49,105 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:52:49,497 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-4"]
2022-07-11 16:52:49,498 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 44543 (http) with context path '/api/v1'
2022-07-11 16:52:49,499 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:52:49,499 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6fefaeba]]
2022-07-11 16:52:49,499 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:52:49,504 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.028 seconds (JVM running for 8.777)
2022-07-11 16:52:49,660 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:52:49,669 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:52:49,670 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:52:49,670 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 0 ms
2022-07-11 16:52:49,671 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports/devices/1]
2022-07-11 16:52:49,672 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:44] Get all ports by device: 1
2022-07-11 16:52:49,685 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports/devices/1]
2022-07-11 16:52:49,694 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:52:49,694 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6fefaeba]]
2022-07-11 16:52:49,694 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:52:49,700 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:52:49,701 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:52:49,704 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-4 - Shutdown initiated...
2022-07-11 16:52:49,706 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-4 - Shutdown completed.
2022-07-11 16:54:26,331 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 16:54:26,337 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 16:54:26,338 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 16:54:26,446 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 16:54:26,530 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 16:54:26,541 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4a194c39, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@52066604, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@340b9973, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@56113384, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5669c5fb, org.springframework.test.context.support.DirtiesContextTestExecutionListener@373ebf74, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5f9678e1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@c4ed84, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@189aa67a, org.springframework.test.context.event.EventPublishingTestExecutionListener@5a9d6f02, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@362045c0, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@112f364d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5ccbeb64, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6d9f7a80, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@59252cb6, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@31d0e481, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@3243b914]
2022-07-11 16:54:26,777 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 16:54:26,785 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 28554 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:54:26,786 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:54:27,457 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:54:27,500 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 38 ms. Found 5 JPA repository interfaces.
2022-07-11 16:54:28,172 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:54:28,180 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:54:28,180 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:54:28,181 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:54:28,268 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:54:28,268 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1333 ms
2022-07-11 16:54:28,302 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:54:28,304 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:54:28,394 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:54:28,423 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 16:54:28,505 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 16:54:28,560 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 16:54:28,677 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 16:54:28,686 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:54:29,083 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:54:29,087 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:54:29,648 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:54:30,378 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:54:30,387 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 39013 (http) with context path '/api/v1'
2022-07-11 16:54:30,388 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:54:30,388 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@34a48013]]
2022-07-11 16:54:30,388 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:54:30,398 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 3.827 seconds (JVM running for 4.692)
2022-07-11 16:54:30,408 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:54:30,409 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@34a48013]]
2022-07-11 16:54:30,409 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:54:30,419 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:54:30,420 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:54:30,427 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 16:54:30,429 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 16:54:30,459 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 28554 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:54:30,459 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:54:30,593 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:54:30,606 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 12 ms. Found 5 JPA repository interfaces.
2022-07-11 16:54:30,716 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:54:30,717 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:54:30,717 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:54:30,717 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:54:30,731 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:54:30,731 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 270 ms
2022-07-11 16:54:30,745 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:54:30,746 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:54:30,788 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:54:30,791 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 16:54:30,792 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 16:54:30,792 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:54:30,861 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:54:30,862 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:54:31,080 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:54:31,445 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:54:31,446 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 37039 (http) with context path '/api/v1'
2022-07-11 16:54:31,446 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:54:31,446 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@444958a4]]
2022-07-11 16:54:31,446 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:54:31,449 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.018 seconds (JVM running for 5.743)
2022-07-11 16:54:31,765 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:54:31,906 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:54:31,906 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:54:31,907 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:54:31,910 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports/devices/1]
2022-07-11 16:54:31,933 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:44] Get all ports by device: 1
2022-07-11 16:54:31,983 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports/devices/1]
2022-07-11 16:54:32,029 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:54:32,029 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@444958a4]]
2022-07-11 16:54:32,029 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:54:32,033 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:54:32,034 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:54:32,037 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 16:54:32,038 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 16:54:32,057 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 28554 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:54:32,057 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:54:32,176 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:54:32,189 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 12 ms. Found 5 JPA repository interfaces.
2022-07-11 16:54:32,280 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:54:32,281 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-3"]
2022-07-11 16:54:32,281 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:54:32,281 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:54:32,293 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:54:32,293 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 234 ms
2022-07-11 16:54:32,307 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:54:32,308 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:54:32,345 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:54:32,348 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-3 - Starting...
2022-07-11 16:54:32,349 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-3 - Start completed.
2022-07-11 16:54:32,350 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:54:32,411 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:54:32,412 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:54:32,612 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:54:32,877 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-3"]
2022-07-11 16:54:32,878 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 46795 (http) with context path '/api/v1'
2022-07-11 16:54:32,878 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:54:32,879 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@34018757]]
2022-07-11 16:54:32,879 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:54:32,882 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.842 seconds (JVM running for 7.176)
2022-07-11 16:54:32,981 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:54:32,988 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:54:32,989 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:54:32,990 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:54:32,990 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports]
2022-07-11 16:54:32,991 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:36] Get all ports
2022-07-11 16:54:32,998 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports]
2022-07-11 16:54:33,004 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:54:33,005 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@34018757]]
2022-07-11 16:54:33,005 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:54:33,011 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:54:33,011 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:54:33,015 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-3 - Shutdown initiated...
2022-07-11 16:54:33,016 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-3 - Shutdown completed.
2022-07-11 16:54:33,046 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 28554 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:54:33,047 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:54:33,163 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:54:33,175 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 12 ms. Found 5 JPA repository interfaces.
2022-07-11 16:54:33,262 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:54:33,263 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-4"]
2022-07-11 16:54:33,264 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:54:33,264 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:54:33,275 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:54:33,275 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 227 ms
2022-07-11 16:54:33,288 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:54:33,289 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:54:33,323 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:54:33,326 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-4 - Starting...
2022-07-11 16:54:33,327 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-4 - Start completed.
2022-07-11 16:54:33,328 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:54:33,384 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:54:33,384 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:54:33,570 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:54:33,822 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-4"]
2022-07-11 16:54:33,823 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 36745 (http) with context path '/api/v1'
2022-07-11 16:54:33,823 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:54:33,823 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@479885d]]
2022-07-11 16:54:33,823 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:54:33,825 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.807 seconds (JVM running for 8.12)
2022-07-11 16:54:33,921 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:54:33,944 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:54:33,944 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:54:33,945 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:54:33,945 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports/devices/1]
2022-07-11 16:54:33,947 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:44] Get all ports by device: 1
2022-07-11 16:54:33,960 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports/devices/1]
2022-07-11 16:54:33,971 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:54:33,971 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@479885d]]
2022-07-11 16:54:33,971 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:54:33,975 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:54:33,975 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:54:33,978 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-4 - Shutdown initiated...
2022-07-11 16:54:33,979 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-4 - Shutdown completed.
2022-07-11 16:55:03,263 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 16:55:03,267 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 16:55:03,267 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 16:55:03,338 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 16:55:03,391 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 16:55:03,401 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4a194c39, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@52066604, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@340b9973, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@56113384, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5669c5fb, org.springframework.test.context.support.DirtiesContextTestExecutionListener@373ebf74, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5f9678e1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@c4ed84, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@189aa67a, org.springframework.test.context.event.EventPublishingTestExecutionListener@5a9d6f02, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@362045c0, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@112f364d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5ccbeb64, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6d9f7a80, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@59252cb6, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@31d0e481, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@3243b914]
2022-07-11 16:55:03,624 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 16:55:03,634 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 29040 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:55:03,635 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:55:04,563 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:55:04,671 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 99 ms. Found 5 JPA repository interfaces.
2022-07-11 16:55:04,987 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 16:55:04,993 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 16:55:04,994 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 16:55:05,127 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 16:55:05,220 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 16:55:05,234 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 16:55:05,515 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 16:55:05,528 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 29142 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:55:05,528 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:55:05,529 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:55:05,543 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:55:05,543 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:55:05,544 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:55:05,655 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:55:05,655 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1860 ms
2022-07-11 16:55:05,715 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:55:05,720 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:55:05,853 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:55:05,886 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 16:55:05,989 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 16:55:06,060 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 16:55:06,212 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 16:55:06,222 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:55:06,364 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:55:06,432 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 61 ms. Found 5 JPA repository interfaces.
2022-07-11 16:55:06,708 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:55:06,713 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:55:07,051 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:55:07,066 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:55:07,067 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:55:07,067 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:55:07,174 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:55:07,174 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1433 ms
2022-07-11 16:55:07,227 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:55:07,230 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:55:07,374 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:55:07,410 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 16:55:07,519 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:55:07,530 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 16:55:07,607 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 16:55:07,802 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 16:55:07,817 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:55:08,415 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:55:08,421 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:55:08,525 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:55:08,536 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 35841 (http) with context path '/api/v1'
2022-07-11 16:55:08,537 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:55:08,537 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@34a48013]]
2022-07-11 16:55:08,537 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:55:08,548 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 5.125 seconds (JVM running for 5.999)
2022-07-11 16:55:08,562 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:55:08,563 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@34a48013]]
2022-07-11 16:55:08,563 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:55:08,573 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:55:08,573 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:55:08,580 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 16:55:08,583 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 16:55:08,614 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@443dbe42 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy150.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$49a06203.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@443dbe42 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 74 common frames omitted
2022-07-11 16:55:08,617 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 29040 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:55:08,617 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:55:08,773 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:55:08,790 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 15 ms. Found 5 JPA repository interfaces.
2022-07-11 16:55:08,993 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:55:08,995 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:55:08,996 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:55:08,996 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:55:09,019 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:55:09,020 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 401 ms
2022-07-11 16:55:09,051 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:55:09,052 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:55:09,122 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:55:09,126 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 16:55:09,127 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 16:55:09,127 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:55:09,207 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:55:09,207 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:55:09,324 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:55:09,476 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:55:09,946 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:55:09,947 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 46287 (http) with context path '/api/v1'
2022-07-11 16:55:09,948 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:55:09,948 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1a8042a5]]
2022-07-11 16:55:09,948 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:55:09,951 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.365 seconds (JVM running for 7.402)
2022-07-11 16:55:10,319 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:55:10,365 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:55:10,404 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 43171 (http) with context path '/api/v1'
2022-07-11 16:55:10,405 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:55:10,406 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@39240aa3]]
2022-07-11 16:55:10,406 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:55:10,417 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 5.15 seconds (JVM running for 6.343)
2022-07-11 16:55:10,430 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:55:10,430 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@39240aa3]]
2022-07-11 16:55:10,430 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:55:10,442 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:55:10,442 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:55:10,448 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 16:55:10,451 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 16:55:10,474 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 29142 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:55:10,474 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:55:10,481 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:55:10,482 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:55:10,483 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:55:10,487 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports/devices/1]
2022-07-11 16:55:10,493 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy150.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$ad572eca.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@70eecdc2 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 16:55:10,512 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:44] Get all ports by device: 1
2022-07-11 16:55:10,555 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports/devices/1]
2022-07-11 16:55:10,620 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:55:10,621 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:55:10,622 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1a8042a5]]
2022-07-11 16:55:10,622 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:55:10,629 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:55:10,630 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:55:10,633 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 16:55:10,634 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 16:55:10,636 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 15 ms. Found 5 JPA repository interfaces.
2022-07-11 16:55:10,660 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 29040 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:55:10,660 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:55:10,800 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:55:10,812 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:55:10,813 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:55:10,814 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:55:10,814 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:55:10,814 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 14 ms. Found 5 JPA repository interfaces.
2022-07-11 16:55:10,839 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:55:10,840 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 364 ms
2022-07-11 16:55:10,861 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:55:10,862 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:55:10,918 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:55:10,922 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 16:55:10,923 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 16:55:10,924 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:55:10,924 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:55:10,925 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-3"]
2022-07-11 16:55:10,925 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:55:10,925 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:55:10,937 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:55:10,938 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 276 ms
2022-07-11 16:55:10,952 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:55:10,952 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:55:10,996 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:55:10,999 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-3 - Starting...
2022-07-11 16:55:11,000 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-3 - Start completed.
2022-07-11 16:55:11,001 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:55:11,017 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:55:11,018 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:55:11,078 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:55:11,079 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:55:11,329 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:55:11,361 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:55:11,656 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-3"]
2022-07-11 16:55:11,657 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 34661 (http) with context path '/api/v1'
2022-07-11 16:55:11,657 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:55:11,657 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@75b994f7]]
2022-07-11 16:55:11,657 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:55:11,660 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.024 seconds (JVM running for 9.111)
2022-07-11 16:55:11,749 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:55:11,762 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:55:11,762 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:55:11,763 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:55:11,763 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports]
2022-07-11 16:55:11,764 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:36] Get all ports
2022-07-11 16:55:11,771 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports]
2022-07-11 16:55:11,777 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:55:11,778 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@75b994f7]]
2022-07-11 16:55:11,778 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:55:11,783 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:55:11,784 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:55:11,786 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-3 - Shutdown initiated...
2022-07-11 16:55:11,787 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-3 - Shutdown completed.
2022-07-11 16:55:11,816 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 29040 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:55:11,816 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:55:11,829 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:55:11,830 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 41289 (http) with context path '/api/v1'
2022-07-11 16:55:11,831 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:55:11,831 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@412bb41f]]
2022-07-11 16:55:11,832 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:55:11,837 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.384 seconds (JVM running for 7.762)
2022-07-11 16:55:11,946 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:55:11,960 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 12 ms. Found 5 JPA repository interfaces.
2022-07-11 16:55:12,083 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:55:12,084 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-4"]
2022-07-11 16:55:12,085 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:55:12,085 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:55:12,097 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:55:12,097 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 280 ms
2022-07-11 16:55:12,111 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:55:12,112 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:55:12,153 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:55:12,156 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-4 - Starting...
2022-07-11 16:55:12,157 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-4 - Start completed.
2022-07-11 16:55:12,158 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:55:12,226 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:55:12,226 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:55:12,271 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:55:12,456 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:55:12,457 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:55:12,458 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:55:12,463 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports/devices/1]
2022-07-11 16:55:12,496 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:44] Get all ports by device: 1
2022-07-11 16:55:12,515 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:55:12,558 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports/devices/1]
2022-07-11 16:55:12,639 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:55:12,640 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@412bb41f]]
2022-07-11 16:55:12,640 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:55:12,648 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:55:12,648 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:55:12,653 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 16:55:12,654 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 16:55:12,682 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 29142 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:55:12,682 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:55:12,861 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:55:12,880 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 18 ms. Found 5 JPA repository interfaces.
2022-07-11 16:55:12,928 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-4"]
2022-07-11 16:55:12,929 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 33709 (http) with context path '/api/v1'
2022-07-11 16:55:12,930 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:55:12,930 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5aaab2b0]]
2022-07-11 16:55:12,930 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:55:12,934 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.144 seconds (JVM running for 10.384)
2022-07-11 16:55:13,046 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:55:13,046 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:55:13,047 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:55:13,048 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports1]
2022-07-11 16:55:13,049 WARN o.s.w.s.PageNotFound [DispatcherServlet.java:1278] No mapping for GET /api/v1/ports1
2022-07-11 16:55:13,050 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports1]
2022-07-11 16:55:13,081 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:55:13,082 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5aaab2b0]]
2022-07-11 16:55:13,082 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:55:13,089 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:55:13,089 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:55:13,093 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-4 - Shutdown initiated...
2022-07-11 16:55:13,094 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-4 - Shutdown completed.
2022-07-11 16:55:13,126 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:55:13,127 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-3"]
2022-07-11 16:55:13,127 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:55:13,127 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:55:13,142 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:55:13,142 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 457 ms
2022-07-11 16:55:13,169 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:55:13,170 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:55:13,218 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:55:13,223 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-3 - Starting...
2022-07-11 16:55:13,224 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-3 - Start completed.
2022-07-11 16:55:13,224 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:55:13,294 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:55:13,294 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:55:13,593 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:55:14,047 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-3"]
2022-07-11 16:55:14,049 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 34785 (http) with context path '/api/v1'
2022-07-11 16:55:14,050 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:55:14,050 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@225fc6a2]]
2022-07-11 16:55:14,050 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:55:14,055 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.398 seconds (JVM running for 9.981)
2022-07-11 16:55:14,252 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:55:14,280 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:55:14,281 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:55:14,283 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 2 ms
2022-07-11 16:55:14,285 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports]
2022-07-11 16:55:14,287 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:36] Get all ports
2022-07-11 16:55:14,317 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports]
2022-07-11 16:55:14,329 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:55:14,329 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@225fc6a2]]
2022-07-11 16:55:14,330 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:55:14,342 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:55:14,343 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:55:14,353 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-3 - Shutdown initiated...
2022-07-11 16:55:14,355 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-3 - Shutdown completed.
2022-07-11 16:55:14,390 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 29142 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:55:14,390 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:55:14,674 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:55:14,698 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 22 ms. Found 5 JPA repository interfaces.
2022-07-11 16:55:14,860 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:55:14,861 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-4"]
2022-07-11 16:55:14,862 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:55:14,862 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:55:14,875 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:55:14,876 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 484 ms
2022-07-11 16:55:14,902 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:55:14,903 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:55:14,956 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:55:14,959 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-4 - Starting...
2022-07-11 16:55:14,961 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-4 - Start completed.
2022-07-11 16:55:14,962 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:55:15,023 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:55:15,023 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:55:15,247 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:55:15,559 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-4"]
2022-07-11 16:55:15,560 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 35395 (http) with context path '/api/v1'
2022-07-11 16:55:15,561 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:55:15,561 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@39c821c6]]
2022-07-11 16:55:15,561 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:55:15,564 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.206 seconds (JVM running for 11.489)
2022-07-11 16:55:15,645 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:55:15,645 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:55:15,646 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:55:15,646 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports1]
2022-07-11 16:55:15,648 WARN o.s.w.s.PageNotFound [DispatcherServlet.java:1278] No mapping for GET /api/v1/ports1
2022-07-11 16:55:15,648 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports1]
2022-07-11 16:55:15,673 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:55:15,674 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@39c821c6]]
2022-07-11 16:55:15,674 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:55:15,679 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:55:15,679 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:55:15,682 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-4 - Shutdown initiated...
2022-07-11 16:55:15,683 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-4 - Shutdown completed.
2022-07-11 16:56:04,435 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 16:56:04,439 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 16:56:04,440 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 16:56:04,524 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 16:56:04,601 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 16:56:04,615 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42463763, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61f05988, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ca33c24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@fade1fc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67c2e933, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41dd05a, org.springframework.test.context.event.EventPublishingTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@178213b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7103cb56, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2807bdeb]
2022-07-11 16:56:04,873 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 16:56:04,875 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 29970 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:56:04,875 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:56:05,574 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:56:05,625 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 46 ms. Found 5 JPA repository interfaces.
2022-07-11 16:56:06,203 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:56:06,210 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:56:06,211 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:56:06,211 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:56:06,293 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:56:06,293 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1245 ms
2022-07-11 16:56:06,331 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:56:06,333 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:56:06,432 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:56:06,468 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 16:56:06,564 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 16:56:06,633 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 16:56:06,777 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 16:56:06,788 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:56:07,280 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:56:07,285 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:56:07,942 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:56:08,806 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:56:08,819 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 34775 (http) with context path '/api/v1'
2022-07-11 16:56:08,820 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:56:08,821 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6f999cf4]]
2022-07-11 16:56:08,821 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:56:08,831 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.182 seconds (JVM running for 5.09)
2022-07-11 16:56:08,842 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:56:08,842 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6f999cf4]]
2022-07-11 16:56:08,843 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:56:08,856 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:56:08,857 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:56:08,862 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 16:56:08,865 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 16:56:08,898 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 29970 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:56:08,898 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:56:09,029 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:56:09,043 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 14 ms. Found 5 JPA repository interfaces.
2022-07-11 16:56:09,215 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:56:09,216 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:56:09,217 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:56:09,217 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:56:09,237 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:56:09,238 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 338 ms
2022-07-11 16:56:09,259 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:56:09,260 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:56:09,313 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:56:09,317 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 16:56:09,320 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 16:56:09,321 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:56:09,420 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:56:09,420 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:56:09,669 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:56:10,095 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:56:10,096 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 37857 (http) with context path '/api/v1'
2022-07-11 16:56:10,096 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:56:10,097 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@32514766]]
2022-07-11 16:56:10,097 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:56:10,100 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.232 seconds (JVM running for 6.359)
2022-07-11 16:56:10,451 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:56:10,583 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:56:10,583 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:56:10,584 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:56:10,588 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports/devices/1]
2022-07-11 16:56:10,613 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:44] Get all ports by device: 1
2022-07-11 16:56:10,668 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports/devices/1]
2022-07-11 16:56:10,720 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:56:10,721 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@32514766]]
2022-07-11 16:56:10,721 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:56:10,726 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:56:10,727 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:56:10,730 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 16:56:10,731 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 16:56:10,752 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 29970 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:56:10,752 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:56:10,859 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:56:10,873 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 13 ms. Found 5 JPA repository interfaces.
2022-07-11 16:56:10,991 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:56:10,992 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-3"]
2022-07-11 16:56:10,992 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:56:10,993 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:56:11,006 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:56:11,006 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 253 ms
2022-07-11 16:56:11,023 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:56:11,024 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:56:11,071 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:56:11,074 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-3 - Starting...
2022-07-11 16:56:11,076 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-3 - Start completed.
2022-07-11 16:56:11,076 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:56:11,138 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:56:11,139 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:56:11,371 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:56:11,685 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-3"]
2022-07-11 16:56:11,686 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 34183 (http) with context path '/api/v1'
2022-07-11 16:56:11,686 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:56:11,686 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@741cb82c]]
2022-07-11 16:56:11,687 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:56:11,689 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.957 seconds (JVM running for 7.948)
2022-07-11 16:56:11,779 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:56:11,785 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:56:11,786 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:56:11,787 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:56:11,787 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports]
2022-07-11 16:56:11,788 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:36] Get all ports
2022-07-11 16:56:11,795 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports]
2022-07-11 16:56:11,801 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:56:11,802 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@741cb82c]]
2022-07-11 16:56:11,802 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:56:11,807 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:56:11,807 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:56:11,809 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-3 - Shutdown initiated...
2022-07-11 16:56:11,810 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-3 - Shutdown completed.
2022-07-11 16:56:11,837 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 29970 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:56:11,837 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:56:11,954 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:56:11,968 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 13 ms. Found 5 JPA repository interfaces.
2022-07-11 16:56:12,087 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:56:12,088 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-4"]
2022-07-11 16:56:12,088 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:56:12,088 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:56:12,100 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:56:12,100 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 261 ms
2022-07-11 16:56:12,116 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:56:12,117 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:56:12,157 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:56:12,160 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-4 - Starting...
2022-07-11 16:56:12,162 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-4 - Start completed.
2022-07-11 16:56:12,163 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:56:12,219 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:56:12,219 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:56:12,417 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:56:12,715 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-4"]
2022-07-11 16:56:12,716 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 44731 (http) with context path '/api/v1'
2022-07-11 16:56:12,716 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:56:12,716 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@bbe07e5]]
2022-07-11 16:56:12,717 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:56:12,720 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.907 seconds (JVM running for 8.979)
2022-07-11 16:56:12,808 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:56:12,817 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:56:12,817 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:56:12,818 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:56:12,818 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports/1]
2022-07-11 16:56:12,820 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:57] Get port with id: 1
2022-07-11 16:56:12,828 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports/1]
2022-07-11 16:56:12,835 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:56:12,836 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@bbe07e5]]
2022-07-11 16:56:12,836 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:56:12,840 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:56:12,841 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:56:12,843 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-4 - Shutdown initiated...
2022-07-11 16:56:12,844 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-4 - Shutdown completed.
2022-07-11 16:56:59,294 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 16:56:59,300 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 16:56:59,301 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 16:56:59,374 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 16:56:59,456 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 16:56:59,471 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1338fb5, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@42463763, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@59f63e24, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@61f05988, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7ca33c24, org.springframework.test.context.support.DirtiesContextTestExecutionListener@fade1fc, org.springframework.test.context.transaction.TransactionalTestExecutionListener@67c2e933, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@41dd05a, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@613a8ee1, org.springframework.test.context.event.EventPublishingTestExecutionListener@178213b, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@7103cb56, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1b765a2c, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2807bdeb, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@72c28d64]
2022-07-11 16:56:59,736 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 16:56:59,742 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 30600 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:56:59,744 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:57:00,503 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:57:00,553 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 45 ms. Found 5 JPA repository interfaces.
2022-07-11 16:57:01,183 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:57:01,191 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:57:01,191 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:57:01,191 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:57:01,283 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:57:01,284 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1375 ms
2022-07-11 16:57:01,341 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:57:01,344 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:57:01,483 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:57:01,518 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 16:57:01,633 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 16:57:01,719 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 16:57:01,872 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 16:57:01,883 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:57:02,364 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:57:02,369 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:57:03,206 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:57:04,068 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:57:04,082 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 44473 (http) with context path '/api/v1'
2022-07-11 16:57:04,083 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:57:04,083 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@55448710]]
2022-07-11 16:57:04,083 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:57:04,094 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.594 seconds (JVM running for 5.428)
2022-07-11 16:57:04,106 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:57:04,106 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@55448710]]
2022-07-11 16:57:04,106 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:57:04,118 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:57:04,118 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:57:04,124 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 16:57:04,126 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 16:57:04,148 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@c41709a has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy150.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$42843f0f.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@c41709a has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 16:57:04,151 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 30600 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:57:04,152 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:57:04,288 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:57:04,304 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 15 ms. Found 5 JPA repository interfaces.
2022-07-11 16:57:04,466 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:57:04,467 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:57:04,468 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:57:04,468 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:57:04,484 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:57:04,484 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 331 ms
2022-07-11 16:57:04,504 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:57:04,505 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:57:04,563 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:57:04,567 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 16:57:04,569 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 16:57:04,569 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:57:04,646 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:57:04,647 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:57:04,926 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:57:05,342 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:57:05,343 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 43957 (http) with context path '/api/v1'
2022-07-11 16:57:05,343 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:57:05,343 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@267093ea]]
2022-07-11 16:57:05,344 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:57:05,347 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.218 seconds (JVM running for 6.682)
2022-07-11 16:57:05,662 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:57:05,798 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:57:05,798 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:57:05,799 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:57:05,802 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports/devices/1]
2022-07-11 16:57:05,826 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:44] Get all ports by device: 1
2022-07-11 16:57:05,873 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports/devices/1]
2022-07-11 16:57:05,929 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:57:05,929 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@267093ea]]
2022-07-11 16:57:05,930 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:57:05,936 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:57:05,936 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:57:05,939 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 16:57:05,941 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 16:57:05,962 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 30600 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:57:05,962 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:57:06,072 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:57:06,085 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 12 ms. Found 5 JPA repository interfaces.
2022-07-11 16:57:06,201 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:57:06,202 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-3"]
2022-07-11 16:57:06,202 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:57:06,203 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:57:06,217 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:57:06,217 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 254 ms
2022-07-11 16:57:06,237 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:57:06,237 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:57:06,288 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:57:06,292 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-3 - Starting...
2022-07-11 16:57:06,293 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-3 - Start completed.
2022-07-11 16:57:06,294 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:57:06,363 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:57:06,364 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:57:06,587 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:57:06,918 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-3"]
2022-07-11 16:57:06,919 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 37919 (http) with context path '/api/v1'
2022-07-11 16:57:06,919 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:57:06,919 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@10e5471d]]
2022-07-11 16:57:06,920 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:57:06,923 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.98 seconds (JVM running for 8.258)
2022-07-11 16:57:07,012 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:57:07,018 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:57:07,019 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:57:07,020 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:57:07,020 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports]
2022-07-11 16:57:07,021 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:36] Get all ports
2022-07-11 16:57:07,027 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports]
2022-07-11 16:57:07,033 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:57:07,033 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@10e5471d]]
2022-07-11 16:57:07,033 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:57:07,038 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:57:07,038 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:57:07,042 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-3 - Shutdown initiated...
2022-07-11 16:57:07,043 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-3 - Shutdown completed.
2022-07-11 16:57:07,071 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 30600 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:57:07,071 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:57:07,220 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:57:07,240 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 19 ms. Found 5 JPA repository interfaces.
2022-07-11 16:57:07,380 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:57:07,381 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-4"]
2022-07-11 16:57:07,382 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:57:07,382 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:57:07,394 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:57:07,395 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 322 ms
2022-07-11 16:57:07,413 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:57:07,413 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:57:07,454 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:57:07,458 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-4 - Starting...
2022-07-11 16:57:07,460 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-4 - Start completed.
2022-07-11 16:57:07,460 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:57:07,517 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:57:07,518 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:57:07,765 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:57:08,331 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-4"]
2022-07-11 16:57:08,338 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 39495 (http) with context path '/api/v1'
2022-07-11 16:57:08,340 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:57:08,340 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6acec4a1]]
2022-07-11 16:57:08,341 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:57:08,349 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.304 seconds (JVM running for 9.684)
2022-07-11 16:57:08,530 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:57:08,537 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:57:08,538 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:57:08,539 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:57:08,539 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports/100]
2022-07-11 16:57:08,541 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:57] Get port with id: 100
2022-07-11 16:57:08,549 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports/100]
2022-07-11 16:57:08,555 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:57:08,556 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6acec4a1]]
2022-07-11 16:57:08,556 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:57:08,562 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:57:08,562 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:57:08,564 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-4 - Shutdown initiated...
2022-07-11 16:57:08,565 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-4 - Shutdown completed.
2022-07-11 16:57:08,587 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 30600 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:57:08,587 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:57:08,719 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:57:08,740 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 19 ms. Found 5 JPA repository interfaces.
2022-07-11 16:57:08,875 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:57:08,876 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-5"]
2022-07-11 16:57:08,876 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:57:08,876 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:57:08,888 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:57:08,889 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 300 ms
2022-07-11 16:57:08,908 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:57:08,909 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:57:08,965 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:57:08,970 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-5 - Starting...
2022-07-11 16:57:08,972 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-5 - Start completed.
2022-07-11 16:57:08,972 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:57:09,053 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:57:09,053 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:57:09,288 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:57:09,604 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-5"]
2022-07-11 16:57:09,604 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 37495 (http) with context path '/api/v1'
2022-07-11 16:57:09,605 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:57:09,605 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2e5ca5fe]]
2022-07-11 16:57:09,605 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:57:09,608 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.041 seconds (JVM running for 10.943)
2022-07-11 16:57:09,760 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:57:09,767 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:57:09,768 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:57:09,769 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:57:09,769 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports/1]
2022-07-11 16:57:09,771 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:57] Get port with id: 1
2022-07-11 16:57:09,783 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports/1]
2022-07-11 16:57:09,813 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:57:09,819 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2e5ca5fe]]
2022-07-11 16:57:09,819 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:57:09,843 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:57:09,844 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:57:09,847 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-5 - Shutdown initiated...
2022-07-11 16:57:09,848 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-5 - Shutdown completed.
2022-07-11 16:57:43,064 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 16:57:43,070 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 16:57:43,071 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 16:57:43,176 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 16:57:43,253 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 16:57:43,265 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@42463763, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@59f63e24, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@61f05988, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7ca33c24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@fade1fc, org.springframework.test.context.support.DirtiesContextTestExecutionListener@67c2e933, org.springframework.test.context.transaction.TransactionalTestExecutionListener@41dd05a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@178213b, org.springframework.test.context.event.EventPublishingTestExecutionListener@7103cb56, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1b765a2c, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2807bdeb, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@72c28d64, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6492fab5]
2022-07-11 16:57:43,534 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 16:57:43,539 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 31166 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:57:43,539 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:57:44,327 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:57:44,384 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 51 ms. Found 5 JPA repository interfaces.
2022-07-11 16:57:44,996 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:57:45,005 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:57:45,006 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:57:45,006 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:57:45,104 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:57:45,105 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1397 ms
2022-07-11 16:57:45,148 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:57:45,151 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:57:45,270 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:57:45,307 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 16:57:45,410 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 16:57:45,489 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 16:57:45,639 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 16:57:45,651 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:57:46,171 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:57:46,176 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:57:46,956 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:57:48,037 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:57:48,055 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 44495 (http) with context path '/api/v1'
2022-07-11 16:57:48,057 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:57:48,057 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3aa4d595]]
2022-07-11 16:57:48,058 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:57:48,073 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.771 seconds (JVM running for 5.741)
2022-07-11 16:57:48,094 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:57:48,095 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3aa4d595]]
2022-07-11 16:57:48,096 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:57:48,117 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:57:48,118 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:57:48,128 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 16:57:48,132 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 16:57:48,189 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 31166 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:57:48,190 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:57:48,371 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:57:48,392 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 19 ms. Found 5 JPA repository interfaces.
2022-07-11 16:57:48,626 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:57:48,628 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:57:48,628 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:57:48,628 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:57:48,649 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:57:48,649 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 455 ms
2022-07-11 16:57:48,679 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:57:48,681 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:57:48,740 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:57:48,744 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 16:57:48,746 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 16:57:48,746 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:57:48,848 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:57:48,849 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:57:49,135 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:57:49,649 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:57:49,650 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 43011 (http) with context path '/api/v1'
2022-07-11 16:57:49,651 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:57:49,651 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@35c646b5]]
2022-07-11 16:57:49,651 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:57:49,654 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.519 seconds (JVM running for 7.323)
2022-07-11 16:57:50,019 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:57:50,166 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:57:50,167 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:57:50,168 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:57:50,171 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports/devices/1]
2022-07-11 16:57:50,198 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:44] Get all ports by device: 1
2022-07-11 16:57:50,278 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports/devices/1]
2022-07-11 16:57:50,342 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:57:50,343 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@35c646b5]]
2022-07-11 16:57:50,343 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:57:50,347 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:57:50,348 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:57:50,351 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 16:57:50,352 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 16:57:50,371 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 31166 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:57:50,372 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:57:50,475 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:57:50,489 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 13 ms. Found 5 JPA repository interfaces.
2022-07-11 16:57:50,603 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:57:50,604 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-3"]
2022-07-11 16:57:50,604 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:57:50,605 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:57:50,618 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:57:50,619 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 246 ms
2022-07-11 16:57:50,639 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:57:50,640 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:57:50,701 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:57:50,703 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-3 - Starting...
2022-07-11 16:57:50,705 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-3 - Start completed.
2022-07-11 16:57:50,705 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:57:50,771 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:57:50,772 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:57:51,003 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:57:51,318 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-3"]
2022-07-11 16:57:51,318 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 40909 (http) with context path '/api/v1'
2022-07-11 16:57:51,319 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:57:51,319 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7152ee36]]
2022-07-11 16:57:51,319 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:57:51,322 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.968 seconds (JVM running for 8.99)
2022-07-11 16:57:51,427 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:57:51,433 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:57:51,433 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:57:51,434 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:57:51,434 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports]
2022-07-11 16:57:51,435 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:36] Get all ports
2022-07-11 16:57:51,441 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports]
2022-07-11 16:57:51,453 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:57:51,453 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7152ee36]]
2022-07-11 16:57:51,453 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:57:51,458 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:57:51,458 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:57:51,461 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-3 - Shutdown initiated...
2022-07-11 16:57:51,462 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-3 - Shutdown completed.
2022-07-11 16:57:51,490 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 31166 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:57:51,491 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:57:51,627 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:57:51,643 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 15 ms. Found 5 JPA repository interfaces.
2022-07-11 16:57:51,794 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:57:51,796 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-4"]
2022-07-11 16:57:51,796 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:57:51,796 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:57:51,809 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:57:51,810 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 318 ms
2022-07-11 16:57:51,826 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:57:51,827 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:57:51,870 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:57:51,873 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-4 - Starting...
2022-07-11 16:57:51,874 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-4 - Start completed.
2022-07-11 16:57:51,874 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:57:51,935 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:57:51,935 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:57:52,154 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:57:52,458 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-4"]
2022-07-11 16:57:52,459 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 34133 (http) with context path '/api/v1'
2022-07-11 16:57:52,460 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:57:52,460 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1be7b7de]]
2022-07-11 16:57:52,460 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:57:52,463 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.998 seconds (JVM running for 10.131)
2022-07-11 16:57:52,551 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:57:52,558 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:57:52,558 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:57:52,559 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:57:52,559 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports/100]
2022-07-11 16:57:52,560 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:57] Get port with id: 100
2022-07-11 16:57:52,568 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports/100]
2022-07-11 16:57:52,574 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:57:52,574 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1be7b7de]]
2022-07-11 16:57:52,575 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:57:52,582 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:57:52,582 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:57:52,585 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-4 - Shutdown initiated...
2022-07-11 16:57:52,590 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-4 - Shutdown completed.
2022-07-11 16:57:52,617 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 31166 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:57:52,617 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:57:52,743 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:57:52,757 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 12 ms. Found 5 JPA repository interfaces.
2022-07-11 16:57:52,892 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:57:52,893 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-5"]
2022-07-11 16:57:52,893 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:57:52,893 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:57:52,908 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:57:52,908 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 289 ms
2022-07-11 16:57:52,931 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:57:52,932 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:57:52,984 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:57:52,988 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-5 - Starting...
2022-07-11 16:57:52,989 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-5 - Start completed.
2022-07-11 16:57:52,989 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:57:53,064 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:57:53,064 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:57:53,283 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:57:53,572 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-5"]
2022-07-11 16:57:53,573 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 40309 (http) with context path '/api/v1'
2022-07-11 16:57:53,573 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:57:53,573 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@147b758f]]
2022-07-11 16:57:53,573 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:57:53,576 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.983 seconds (JVM running for 11.244)
2022-07-11 16:57:53,658 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:57:53,664 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:57:53,664 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:57:53,665 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:57:53,665 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports/devices/1]
2022-07-11 16:57:53,666 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:44] Get all ports by device: 1
2022-07-11 16:57:53,674 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports/devices/1]
2022-07-11 16:57:53,679 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:57:53,680 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@147b758f]]
2022-07-11 16:57:53,680 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:57:53,684 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:57:53,685 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:57:53,687 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-5 - Shutdown initiated...
2022-07-11 16:57:53,688 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-5 - Shutdown completed.
2022-07-11 16:57:53,707 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 31166 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:57:53,707 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:57:53,798 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:57:53,809 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 10 ms. Found 5 JPA repository interfaces.
2022-07-11 16:57:53,910 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:57:53,911 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-6"]
2022-07-11 16:57:53,911 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:57:53,911 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:57:53,922 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:57:53,922 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 213 ms
2022-07-11 16:57:53,945 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:57:53,946 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:57:53,990 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:57:53,993 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-6 - Starting...
2022-07-11 16:57:53,994 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-6 - Start completed.
2022-07-11 16:57:53,994 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:57:54,050 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:57:54,051 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:57:54,260 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:57:54,528 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-6"]
2022-07-11 16:57:54,529 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 34029 (http) with context path '/api/v1'
2022-07-11 16:57:54,529 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:57:54,529 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2625c1cc]]
2022-07-11 16:57:54,529 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:57:54,532 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.842 seconds (JVM running for 12.2)
2022-07-11 16:57:54,623 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:57:54,630 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:57:54,630 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:57:54,631 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:57:54,631 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports/1]
2022-07-11 16:57:54,633 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:57] Get port with id: 1
2022-07-11 16:57:54,636 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports/1]
2022-07-11 16:57:54,646 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:57:54,646 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2625c1cc]]
2022-07-11 16:57:54,646 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:57:54,650 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:57:54,650 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:57:54,651 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-6 - Shutdown initiated...
2022-07-11 16:57:54,652 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-6 - Shutdown completed.
2022-07-11 16:58:29,763 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 16:58:29,768 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 16:58:29,768 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 16:58:29,843 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 16:58:29,899 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 16:58:29,909 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@42463763, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@59f63e24, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@61f05988, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7ca33c24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@fade1fc, org.springframework.test.context.support.DirtiesContextTestExecutionListener@67c2e933, org.springframework.test.context.transaction.TransactionalTestExecutionListener@41dd05a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@178213b, org.springframework.test.context.event.EventPublishingTestExecutionListener@7103cb56, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1b765a2c, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2807bdeb, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@72c28d64, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6492fab5]
2022-07-11 16:58:30,139 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 16:58:30,142 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 31900 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:58:30,142 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:58:30,802 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:58:30,851 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 44 ms. Found 5 JPA repository interfaces.
2022-07-11 16:58:31,387 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:58:31,395 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:58:31,395 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:58:31,396 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:58:31,478 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:58:31,479 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1182 ms
2022-07-11 16:58:31,518 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:58:31,521 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:58:31,623 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:58:31,661 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 16:58:31,756 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 16:58:31,821 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 16:58:31,962 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 16:58:31,972 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:58:32,519 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:58:32,524 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:58:33,225 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:58:34,171 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:58:34,186 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 46247 (http) with context path '/api/v1'
2022-07-11 16:58:34,187 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:58:34,188 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@79c9a128]]
2022-07-11 16:58:34,188 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:58:34,199 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.265 seconds (JVM running for 5.047)
2022-07-11 16:58:34,211 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:58:34,211 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@79c9a128]]
2022-07-11 16:58:34,211 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:58:34,227 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:58:34,227 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:58:34,236 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 16:58:34,252 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 16:58:34,282 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7db0565c has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy150.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$ecb04bb5.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7db0565c has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 16:58:34,284 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 31900 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:58:34,284 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:58:34,415 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:58:34,429 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 13 ms. Found 5 JPA repository interfaces.
2022-07-11 16:58:34,612 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:58:34,613 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:58:34,613 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:58:34,614 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:58:34,630 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:58:34,630 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 344 ms
2022-07-11 16:58:34,651 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:58:34,651 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:58:34,708 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:58:34,712 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 16:58:34,715 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 16:58:34,716 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:58:34,795 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:58:34,796 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:58:35,080 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:58:35,491 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:58:35,492 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 37099 (http) with context path '/api/v1'
2022-07-11 16:58:35,493 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:58:35,493 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3f9e38d4]]
2022-07-11 16:58:35,493 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:58:35,497 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.242 seconds (JVM running for 6.344)
2022-07-11 16:58:35,870 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:58:35,987 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:58:35,987 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:58:35,988 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:58:35,992 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports/devices/1]
2022-07-11 16:58:36,019 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:44] Get all ports by device: 1
2022-07-11 16:58:36,070 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports/devices/1]
2022-07-11 16:58:36,127 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:58:36,127 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3f9e38d4]]
2022-07-11 16:58:36,127 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:58:36,133 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:58:36,134 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:58:36,137 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 16:58:36,137 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 16:58:36,164 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 31900 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:58:36,164 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:58:36,291 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:58:36,306 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 14 ms. Found 5 JPA repository interfaces.
2022-07-11 16:58:36,446 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:58:36,447 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-3"]
2022-07-11 16:58:36,447 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:58:36,447 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:58:36,462 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:58:36,462 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 296 ms
2022-07-11 16:58:36,493 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:58:36,494 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:58:36,542 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:58:36,545 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-3 - Starting...
2022-07-11 16:58:36,547 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-3 - Start completed.
2022-07-11 16:58:36,548 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:58:36,643 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:58:36,643 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:58:36,912 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:58:37,244 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-3"]
2022-07-11 16:58:37,245 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 40559 (http) with context path '/api/v1'
2022-07-11 16:58:37,245 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:58:37,245 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1bab3926]]
2022-07-11 16:58:37,245 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:58:37,248 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.108 seconds (JVM running for 8.096)
2022-07-11 16:58:37,334 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:58:37,342 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:58:37,342 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:58:37,343 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:58:37,343 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports]
2022-07-11 16:58:37,344 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:36] Get all ports
2022-07-11 16:58:37,352 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports]
2022-07-11 16:58:37,357 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:58:37,358 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1bab3926]]
2022-07-11 16:58:37,358 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:58:37,362 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:58:37,363 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:58:37,367 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-3 - Shutdown initiated...
2022-07-11 16:58:37,368 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-3 - Shutdown completed.
2022-07-11 16:58:37,392 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 31900 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:58:37,393 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:58:37,504 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:58:37,526 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 21 ms. Found 5 JPA repository interfaces.
2022-07-11 16:58:37,655 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:58:37,656 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-4"]
2022-07-11 16:58:37,657 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:58:37,657 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:58:37,671 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:58:37,672 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 278 ms
2022-07-11 16:58:37,692 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:58:37,693 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:58:37,741 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:58:37,745 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-4 - Starting...
2022-07-11 16:58:37,747 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-4 - Start completed.
2022-07-11 16:58:37,747 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:58:37,824 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:58:37,824 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:58:38,075 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:58:38,450 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-4"]
2022-07-11 16:58:38,458 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 44287 (http) with context path '/api/v1'
2022-07-11 16:58:38,459 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:58:38,459 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@11f633f]]
2022-07-11 16:58:38,460 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:58:38,463 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.092 seconds (JVM running for 9.31)
2022-07-11 16:58:38,551 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:58:38,558 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:58:38,558 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:58:38,559 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:58:38,559 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports/100]
2022-07-11 16:58:38,561 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:57] Get port with id: 100
2022-07-11 16:58:38,571 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports/100]
2022-07-11 16:58:38,576 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:58:38,576 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@11f633f]]
2022-07-11 16:58:38,576 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:58:38,582 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:58:38,582 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:58:38,585 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-4 - Shutdown initiated...
2022-07-11 16:58:38,586 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-4 - Shutdown completed.
2022-07-11 16:58:38,610 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 31900 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:58:38,610 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:58:38,709 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:58:38,727 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 16 ms. Found 5 JPA repository interfaces.
2022-07-11 16:58:38,874 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:58:38,876 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-5"]
2022-07-11 16:58:38,876 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:58:38,876 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:58:38,890 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:58:38,890 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 279 ms
2022-07-11 16:58:38,912 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:58:38,913 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:58:38,966 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:58:38,970 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-5 - Starting...
2022-07-11 16:58:38,972 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-5 - Start completed.
2022-07-11 16:58:38,974 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:58:39,029 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:58:39,029 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:58:39,283 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:58:39,609 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-5"]
2022-07-11 16:58:39,610 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 38461 (http) with context path '/api/v1'
2022-07-11 16:58:39,610 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:58:39,610 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@109a4e10]]
2022-07-11 16:58:39,610 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:58:39,613 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.025 seconds (JVM running for 10.461)
2022-07-11 16:58:39,710 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:58:39,717 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:58:39,717 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:58:39,718 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:58:39,719 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports/devices/100]
2022-07-11 16:58:39,720 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:44] Get all ports by device: 100
2022-07-11 16:58:39,727 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports/devices/100]
2022-07-11 16:58:39,739 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:58:39,739 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@109a4e10]]
2022-07-11 16:58:39,739 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:58:39,744 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:58:39,745 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:58:39,748 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-5 - Shutdown initiated...
2022-07-11 16:58:39,757 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-5 - Shutdown completed.
2022-07-11 16:58:39,785 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 31900 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:58:39,785 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:58:39,910 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:58:39,923 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 12 ms. Found 5 JPA repository interfaces.
2022-07-11 16:58:40,074 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:58:40,075 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-6"]
2022-07-11 16:58:40,075 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:58:40,075 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:58:40,089 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:58:40,090 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 303 ms
2022-07-11 16:58:40,109 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:58:40,109 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:58:40,150 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:58:40,153 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-6 - Starting...
2022-07-11 16:58:40,154 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-6 - Start completed.
2022-07-11 16:58:40,155 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:58:40,205 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:58:40,205 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:58:40,420 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:58:40,706 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-6"]
2022-07-11 16:58:40,707 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 40023 (http) with context path '/api/v1'
2022-07-11 16:58:40,708 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:58:40,708 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7190b5ce]]
2022-07-11 16:58:40,708 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:58:40,718 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.959 seconds (JVM running for 11.566)
2022-07-11 16:58:40,805 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:58:40,811 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:58:40,811 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:58:40,812 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:58:40,812 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports/1]
2022-07-11 16:58:40,813 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:57] Get port with id: 1
2022-07-11 16:58:40,817 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports/1]
2022-07-11 16:58:40,825 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:58:40,825 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7190b5ce]]
2022-07-11 16:58:40,825 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:58:40,830 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:58:40,830 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:58:40,832 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-6 - Shutdown initiated...
2022-07-11 16:58:40,832 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-6 - Shutdown completed.
2022-07-11 16:58:54,206 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 16:58:54,210 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 16:58:54,211 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 16:58:54,289 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 16:58:54,349 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 16:58:54,359 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@42463763, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@59f63e24, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@61f05988, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7ca33c24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@fade1fc, org.springframework.test.context.support.DirtiesContextTestExecutionListener@67c2e933, org.springframework.test.context.transaction.TransactionalTestExecutionListener@41dd05a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@178213b, org.springframework.test.context.event.EventPublishingTestExecutionListener@7103cb56, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1b765a2c, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2807bdeb, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@72c28d64, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6492fab5]
2022-07-11 16:58:54,600 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 16:58:54,605 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 32453 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:58:54,605 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:58:55,338 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:58:55,395 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 51 ms. Found 5 JPA repository interfaces.
2022-07-11 16:58:55,980 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:58:55,989 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:58:55,990 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:58:55,990 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:58:56,082 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:58:56,083 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1299 ms
2022-07-11 16:58:56,127 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:58:56,130 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:58:56,239 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:58:56,273 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 16:58:56,375 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 16:58:56,445 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 16:58:56,611 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 16:58:56,622 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:58:57,157 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:58:57,163 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:58:58,025 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:58:59,073 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 16:58:59,085 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 44311 (http) with context path '/api/v1'
2022-07-11 16:58:59,086 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:58:59,086 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7f39bcb5]]
2022-07-11 16:58:59,086 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:58:59,097 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.712 seconds (JVM running for 5.558)
2022-07-11 16:58:59,109 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:58:59,110 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7f39bcb5]]
2022-07-11 16:58:59,110 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:58:59,122 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:58:59,123 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:58:59,135 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 16:58:59,137 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 16:58:59,163 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 32453 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:58:59,164 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:58:59,164 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7db0565c has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy150.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$57833fc6.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7db0565c has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 16:58:59,293 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:58:59,308 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 14 ms. Found 5 JPA repository interfaces.
2022-07-11 16:58:59,485 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:58:59,485 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:58:59,486 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:58:59,486 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:58:59,500 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:58:59,500 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 335 ms
2022-07-11 16:58:59,521 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:58:59,522 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:58:59,574 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:58:59,577 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 16:58:59,578 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 16:58:59,579 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:58:59,653 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:58:59,653 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:58:59,890 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:59:00,283 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 16:59:00,283 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 43915 (http) with context path '/api/v1'
2022-07-11 16:59:00,284 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:59:00,284 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7752f9fe]]
2022-07-11 16:59:00,284 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:59:00,288 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.148 seconds (JVM running for 6.749)
2022-07-11 16:59:00,639 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:59:00,914 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:59:00,914 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:59:00,918 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 4 ms
2022-07-11 16:59:00,924 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports/devices/1]
2022-07-11 16:59:00,986 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:44] Get all ports by device: 1
2022-07-11 16:59:01,094 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports/devices/1]
2022-07-11 16:59:01,179 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:59:01,180 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7752f9fe]]
2022-07-11 16:59:01,180 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:59:01,187 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:59:01,187 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:59:01,191 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 16:59:01,193 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 16:59:01,231 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 32453 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:59:01,232 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:59:01,389 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:59:01,403 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 13 ms. Found 5 JPA repository interfaces.
2022-07-11 16:59:01,566 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:59:01,567 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-3"]
2022-07-11 16:59:01,567 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:59:01,567 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:59:01,580 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:59:01,580 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 346 ms
2022-07-11 16:59:01,600 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:59:01,601 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:59:01,648 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:59:01,651 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-3 - Starting...
2022-07-11 16:59:01,655 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-3 - Start completed.
2022-07-11 16:59:01,655 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:59:01,726 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:59:01,726 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:59:01,960 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:59:02,270 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-3"]
2022-07-11 16:59:02,281 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 46047 (http) with context path '/api/v1'
2022-07-11 16:59:02,281 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:59:02,282 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6a225642]]
2022-07-11 16:59:02,282 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:59:02,285 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.089 seconds (JVM running for 8.746)
2022-07-11 16:59:02,401 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:59:02,407 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:59:02,407 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:59:02,408 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:59:02,408 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports]
2022-07-11 16:59:02,409 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:36] Get all ports
2022-07-11 16:59:02,415 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports]
2022-07-11 16:59:02,420 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:59:02,421 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6a225642]]
2022-07-11 16:59:02,421 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:59:02,425 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:59:02,425 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:59:02,428 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-3 - Shutdown initiated...
2022-07-11 16:59:02,429 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-3 - Shutdown completed.
2022-07-11 16:59:02,447 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 32453 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:59:02,448 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:59:02,547 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:59:02,560 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 12 ms. Found 5 JPA repository interfaces.
2022-07-11 16:59:02,677 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:59:02,678 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-4"]
2022-07-11 16:59:02,679 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:59:02,679 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:59:02,705 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:59:02,706 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 257 ms
2022-07-11 16:59:02,728 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:59:02,728 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:59:02,775 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:59:02,778 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-4 - Starting...
2022-07-11 16:59:02,780 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-4 - Start completed.
2022-07-11 16:59:02,780 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:59:02,841 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:59:02,841 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:59:03,075 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:59:03,389 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-4"]
2022-07-11 16:59:03,390 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 38217 (http) with context path '/api/v1'
2022-07-11 16:59:03,390 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:59:03,390 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4c12e25d]]
2022-07-11 16:59:03,391 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:59:03,394 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.963 seconds (JVM running for 9.855)
2022-07-11 16:59:03,482 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:59:03,487 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:59:03,488 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:59:03,488 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 0 ms
2022-07-11 16:59:03,488 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports/100]
2022-07-11 16:59:03,490 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:57] Get port with id: 100
2022-07-11 16:59:03,496 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports/100]
2022-07-11 16:59:03,501 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:59:03,501 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4c12e25d]]
2022-07-11 16:59:03,501 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:59:03,506 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:59:03,507 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:59:03,509 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-4 - Shutdown initiated...
2022-07-11 16:59:03,510 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-4 - Shutdown completed.
2022-07-11 16:59:03,530 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 32453 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:59:03,530 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:59:03,633 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:59:03,646 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 12 ms. Found 5 JPA repository interfaces.
2022-07-11 16:59:03,754 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:59:03,755 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-5"]
2022-07-11 16:59:03,756 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:59:03,756 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:59:03,774 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:59:03,775 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 244 ms
2022-07-11 16:59:03,792 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:59:03,793 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:59:03,837 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:59:03,841 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-5 - Starting...
2022-07-11 16:59:03,842 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-5 - Start completed.
2022-07-11 16:59:03,843 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:59:03,900 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:59:03,901 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:59:04,091 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:59:04,360 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-5"]
2022-07-11 16:59:04,361 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 41319 (http) with context path '/api/v1'
2022-07-11 16:59:04,361 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:59:04,361 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@73ae7ce4]]
2022-07-11 16:59:04,362 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:59:04,365 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.853 seconds (JVM running for 10.826)
2022-07-11 16:59:04,445 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:59:04,451 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:59:04,451 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:59:04,451 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 0 ms
2022-07-11 16:59:04,452 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports/devices/100]
2022-07-11 16:59:04,453 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:44] Get all ports by device: 100
2022-07-11 16:59:04,457 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports/devices/100]
2022-07-11 16:59:04,462 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:59:04,463 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@73ae7ce4]]
2022-07-11 16:59:04,463 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:59:04,467 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:59:04,467 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:59:04,468 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-5 - Shutdown initiated...
2022-07-11 16:59:04,469 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-5 - Shutdown completed.
2022-07-11 16:59:04,485 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 32453 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 16:59:04,486 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 16:59:04,584 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 16:59:04,595 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 10 ms. Found 5 JPA repository interfaces.
2022-07-11 16:59:04,695 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 16:59:04,696 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-6"]
2022-07-11 16:59:04,696 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 16:59:04,696 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 16:59:04,706 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 16:59:04,706 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 219 ms
2022-07-11 16:59:04,724 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 16:59:04,725 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 16:59:04,770 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 16:59:04,773 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-6 - Starting...
2022-07-11 16:59:04,775 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-6 - Start completed.
2022-07-11 16:59:04,775 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 16:59:04,829 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 16:59:04,829 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:59:05,000 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 16:59:05,267 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-6"]
2022-07-11 16:59:05,267 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 33527 (http) with context path '/api/v1'
2022-07-11 16:59:05,268 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 16:59:05,268 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@46a9af36]]
2022-07-11 16:59:05,268 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 16:59:05,270 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.8 seconds (JVM running for 11.731)
2022-07-11 16:59:05,397 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 16:59:05,403 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 16:59:05,403 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 16:59:05,404 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 16:59:05,404 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports/1]
2022-07-11 16:59:05,405 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:57] Get port with id: 1
2022-07-11 16:59:05,409 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports/1]
2022-07-11 16:59:05,416 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 16:59:05,416 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@46a9af36]]
2022-07-11 16:59:05,416 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 16:59:05,420 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 16:59:05,420 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 16:59:05,421 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-6 - Shutdown initiated...
2022-07-11 16:59:05,422 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-6 - Shutdown completed.
2022-07-11 17:03:11,616 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 17:03:11,620 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 17:03:11,621 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 17:03:11,696 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 17:03:11,758 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 17:03:11,769 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@42463763, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@59f63e24, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@61f05988, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7ca33c24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@fade1fc, org.springframework.test.context.support.DirtiesContextTestExecutionListener@67c2e933, org.springframework.test.context.transaction.TransactionalTestExecutionListener@41dd05a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@178213b, org.springframework.test.context.event.EventPublishingTestExecutionListener@7103cb56, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1b765a2c, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2807bdeb, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@72c28d64, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6492fab5]
2022-07-11 17:03:12,001 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 17:03:12,005 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 35220 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:03:12,005 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:03:12,745 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:03:12,803 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 53 ms. Found 5 JPA repository interfaces.
2022-07-11 17:03:13,392 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:03:13,399 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 17:03:13,399 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:03:13,400 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:03:13,478 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:03:13,478 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1293 ms
2022-07-11 17:03:13,518 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:03:13,520 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:03:13,621 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:03:13,654 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 17:03:13,750 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 17:03:13,820 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 17:03:13,946 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 17:03:13,957 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:03:14,385 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:03:14,390 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:03:15,010 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:03:15,821 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 17:03:15,833 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 34609 (http) with context path '/api/v1'
2022-07-11 17:03:15,834 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:03:15,834 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5275d709]]
2022-07-11 17:03:15,834 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:03:15,845 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.047 seconds (JVM running for 4.832)
2022-07-11 17:03:15,856 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:03:15,856 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5275d709]]
2022-07-11 17:03:15,857 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:03:15,868 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:03:15,868 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:03:15,874 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 17:03:15,876 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 17:03:15,900 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 35220 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:03:15,901 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:03:15,902 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7db0565c has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy150.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$bd1c5a54.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7db0565c has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 17:03:16,032 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:03:16,047 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 14 ms. Found 5 JPA repository interfaces.
2022-07-11 17:03:16,197 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:03:16,198 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 17:03:16,199 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:03:16,199 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:03:16,224 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:03:16,224 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 321 ms
2022-07-11 17:03:16,262 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:03:16,263 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:03:16,321 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:03:16,326 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 17:03:16,330 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 17:03:16,330 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:03:16,408 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:03:16,409 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:03:16,661 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:03:17,027 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 17:03:17,028 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 42281 (http) with context path '/api/v1'
2022-07-11 17:03:17,029 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:03:17,029 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3dd2a70d]]
2022-07-11 17:03:17,029 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:03:17,032 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.154 seconds (JVM running for 6.02)
2022-07-11 17:03:17,178 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:03:17,179 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3dd2a70d]]
2022-07-11 17:03:17,179 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:03:17,184 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:03:17,184 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:03:17,187 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 17:03:17,188 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 17:03:17,211 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 35220 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:03:17,211 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:03:17,325 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:03:17,339 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 13 ms. Found 5 JPA repository interfaces.
2022-07-11 17:03:17,462 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:03:17,463 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-3"]
2022-07-11 17:03:17,463 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:03:17,464 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:03:17,480 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:03:17,481 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 268 ms
2022-07-11 17:03:17,499 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:03:17,500 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:03:17,553 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:03:17,557 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-3 - Starting...
2022-07-11 17:03:17,559 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-3 - Start completed.
2022-07-11 17:03:17,559 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:03:17,625 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:03:17,625 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:03:17,865 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:03:18,207 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-3"]
2022-07-11 17:03:18,208 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 38137 (http) with context path '/api/v1'
2022-07-11 17:03:18,208 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:03:18,208 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@58fef400]]
2022-07-11 17:03:18,208 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:03:18,211 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.022 seconds (JVM running for 7.199)
2022-07-11 17:03:18,242 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:03:18,243 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@58fef400]]
2022-07-11 17:03:18,243 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:03:18,247 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:03:18,248 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:03:18,250 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-3 - Shutdown initiated...
2022-07-11 17:03:18,251 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-3 - Shutdown completed.
2022-07-11 17:03:18,270 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 35220 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:03:18,270 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:03:18,371 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:03:18,385 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 13 ms. Found 5 JPA repository interfaces.
2022-07-11 17:03:18,492 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:03:18,492 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-4"]
2022-07-11 17:03:18,493 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:03:18,493 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:03:18,505 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:03:18,505 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 234 ms
2022-07-11 17:03:18,522 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:03:18,523 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:03:18,567 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:03:18,570 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-4 - Starting...
2022-07-11 17:03:18,571 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-4 - Start completed.
2022-07-11 17:03:18,572 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:03:18,631 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:03:18,631 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:03:18,846 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:03:19,135 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-4"]
2022-07-11 17:03:19,135 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 44573 (http) with context path '/api/v1'
2022-07-11 17:03:19,136 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:03:19,136 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3005133e]]
2022-07-11 17:03:19,136 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:03:19,139 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.886 seconds (JVM running for 8.126)
2022-07-11 17:03:19,161 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:03:19,162 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3005133e]]
2022-07-11 17:03:19,162 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:03:19,166 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:03:19,167 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:03:19,169 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-4 - Shutdown initiated...
2022-07-11 17:03:19,169 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-4 - Shutdown completed.
2022-07-11 17:03:19,187 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 35220 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:03:19,188 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:03:19,288 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:03:19,303 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 14 ms. Found 5 JPA repository interfaces.
2022-07-11 17:03:19,429 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:03:19,430 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-5"]
2022-07-11 17:03:19,430 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:03:19,430 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:03:19,442 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:03:19,443 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 254 ms
2022-07-11 17:03:19,461 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:03:19,462 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:03:19,514 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:03:19,519 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-5 - Starting...
2022-07-11 17:03:19,521 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-5 - Start completed.
2022-07-11 17:03:19,521 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:03:19,575 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:03:19,575 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:03:19,789 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:03:20,059 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-5"]
2022-07-11 17:03:20,060 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 39491 (http) with context path '/api/v1'
2022-07-11 17:03:20,060 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:03:20,061 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7cf311eb]]
2022-07-11 17:03:20,061 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:03:20,063 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.892 seconds (JVM running for 9.051)
2022-07-11 17:03:20,085 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:03:20,086 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7cf311eb]]
2022-07-11 17:03:20,086 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:03:20,090 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:03:20,090 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:03:20,092 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-5 - Shutdown initiated...
2022-07-11 17:03:20,093 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-5 - Shutdown completed.
2022-07-11 17:03:20,110 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 35220 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:03:20,110 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:03:20,205 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:03:20,216 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 10 ms. Found 5 JPA repository interfaces.
2022-07-11 17:03:20,316 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:03:20,316 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-6"]
2022-07-11 17:03:20,316 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:03:20,317 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:03:20,326 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:03:20,327 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 216 ms
2022-07-11 17:03:20,343 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:03:20,344 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:03:20,386 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:03:20,389 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-6 - Starting...
2022-07-11 17:03:20,390 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-6 - Start completed.
2022-07-11 17:03:20,396 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:03:20,465 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:03:20,465 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:03:20,660 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:03:20,928 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-6"]
2022-07-11 17:03:20,929 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 33311 (http) with context path '/api/v1'
2022-07-11 17:03:20,929 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:03:20,929 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@679cd9c8]]
2022-07-11 17:03:20,929 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:03:20,932 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.838 seconds (JVM running for 9.92)
2022-07-11 17:03:20,956 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:03:20,956 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@679cd9c8]]
2022-07-11 17:03:20,956 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:03:20,961 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:03:20,961 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:03:20,963 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-6 - Shutdown initiated...
2022-07-11 17:03:20,964 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-6 - Shutdown completed.
2022-07-11 17:04:05,173 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 17:04:05,179 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 17:04:05,180 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 17:04:05,278 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 17:04:05,338 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 17:04:05,349 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@42463763, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@59f63e24, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@61f05988, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7ca33c24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@fade1fc, org.springframework.test.context.support.DirtiesContextTestExecutionListener@67c2e933, org.springframework.test.context.transaction.TransactionalTestExecutionListener@41dd05a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@178213b, org.springframework.test.context.event.EventPublishingTestExecutionListener@7103cb56, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1b765a2c, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2807bdeb, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@72c28d64, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6492fab5]
2022-07-11 17:04:05,627 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 17:04:05,635 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 35987 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:04:05,637 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:04:06,467 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:04:06,528 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 54 ms. Found 5 JPA repository interfaces.
2022-07-11 17:04:07,145 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:04:07,153 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 17:04:07,154 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:04:07,154 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:04:07,246 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:04:07,247 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1415 ms
2022-07-11 17:04:07,286 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:04:07,288 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:04:07,395 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:04:07,433 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 17:04:07,538 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 17:04:07,616 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 17:04:07,754 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 17:04:07,765 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:04:08,273 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:04:08,278 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:04:09,000 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:04:09,951 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 17:04:09,966 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 37319 (http) with context path '/api/v1'
2022-07-11 17:04:09,967 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:04:09,967 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5852605c]]
2022-07-11 17:04:09,968 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:04:09,979 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.602 seconds (JVM running for 5.512)
2022-07-11 17:04:09,994 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:04:09,994 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5852605c]]
2022-07-11 17:04:09,994 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:04:10,008 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:04:10,009 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:04:10,017 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 17:04:10,020 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 17:04:10,050 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 35987 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:04:10,050 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:04:10,181 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:04:10,196 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 14 ms. Found 5 JPA repository interfaces.
2022-07-11 17:04:10,335 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:04:10,336 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 17:04:10,336 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:04:10,337 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:04:10,350 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:04:10,351 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 297 ms
2022-07-11 17:04:10,368 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:04:10,369 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:04:10,416 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:04:10,418 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 17:04:10,420 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 17:04:10,420 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:04:10,496 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:04:10,496 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:04:10,777 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:04:11,174 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 17:04:11,175 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 37329 (http) with context path '/api/v1'
2022-07-11 17:04:11,176 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:04:11,176 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@35c646b5]]
2022-07-11 17:04:11,176 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:04:11,180 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.157 seconds (JVM running for 6.713)
2022-07-11 17:04:11,354 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:04:11,355 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@35c646b5]]
2022-07-11 17:04:11,356 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:04:11,363 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:04:11,364 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:04:11,371 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 17:04:11,372 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 17:04:11,408 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 35987 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:04:11,409 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:04:11,603 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:04:11,627 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 23 ms. Found 5 JPA repository interfaces.
2022-07-11 17:04:11,787 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:04:11,788 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-3"]
2022-07-11 17:04:11,788 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:04:11,788 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:04:11,801 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:04:11,801 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 390 ms
2022-07-11 17:04:11,821 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:04:11,821 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:04:11,875 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:04:11,879 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-3 - Starting...
2022-07-11 17:04:11,881 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-3 - Start completed.
2022-07-11 17:04:11,881 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:04:11,960 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:04:11,961 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:04:12,270 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:04:12,566 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-3"]
2022-07-11 17:04:12,567 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 34623 (http) with context path '/api/v1'
2022-07-11 17:04:12,567 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:04:12,568 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@c360f40]]
2022-07-11 17:04:12,568 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:04:12,570 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.195 seconds (JVM running for 8.104)
2022-07-11 17:04:12,595 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:04:12,595 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@c360f40]]
2022-07-11 17:04:12,595 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:04:12,599 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:04:12,599 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:04:12,602 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-3 - Shutdown initiated...
2022-07-11 17:04:12,602 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-3 - Shutdown completed.
2022-07-11 17:04:12,625 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 35987 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:04:12,625 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:04:12,731 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:04:12,744 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 12 ms. Found 5 JPA repository interfaces.
2022-07-11 17:04:12,846 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:04:12,846 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-4"]
2022-07-11 17:04:12,847 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:04:12,847 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:04:12,860 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:04:12,860 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 234 ms
2022-07-11 17:04:12,877 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:04:12,877 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:04:12,923 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:04:12,927 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-4 - Starting...
2022-07-11 17:04:12,928 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-4 - Start completed.
2022-07-11 17:04:12,928 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:04:12,992 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:04:12,992 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:04:13,254 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:04:13,544 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-4"]
2022-07-11 17:04:13,545 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 41251 (http) with context path '/api/v1'
2022-07-11 17:04:13,546 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:04:13,546 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3341ba8e]]
2022-07-11 17:04:13,546 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:04:13,549 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.944 seconds (JVM running for 9.082)
2022-07-11 17:04:13,571 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:04:13,571 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3341ba8e]]
2022-07-11 17:04:13,571 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:04:13,576 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:04:13,576 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:04:13,579 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-4 - Shutdown initiated...
2022-07-11 17:04:13,580 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-4 - Shutdown completed.
2022-07-11 17:04:13,603 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 35987 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:04:13,603 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:04:13,699 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:04:13,711 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 11 ms. Found 5 JPA repository interfaces.
2022-07-11 17:04:13,816 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:04:13,817 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-5"]
2022-07-11 17:04:13,817 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:04:13,817 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:04:13,829 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:04:13,829 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 225 ms
2022-07-11 17:04:13,846 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:04:13,847 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:04:13,891 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:04:13,895 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-5 - Starting...
2022-07-11 17:04:13,896 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-5 - Start completed.
2022-07-11 17:04:13,896 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:04:13,957 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:04:13,957 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:04:14,163 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:04:14,477 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-5"]
2022-07-11 17:04:14,478 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 34603 (http) with context path '/api/v1'
2022-07-11 17:04:14,478 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:04:14,478 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7890189]]
2022-07-11 17:04:14,478 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:04:14,481 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.899 seconds (JVM running for 10.014)
2022-07-11 17:04:14,510 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:04:14,510 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7890189]]
2022-07-11 17:04:14,510 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:04:14,514 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:04:14,514 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:04:14,516 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-5 - Shutdown initiated...
2022-07-11 17:04:14,517 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-5 - Shutdown completed.
2022-07-11 17:04:14,535 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 35987 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:04:14,535 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:04:14,630 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:04:14,652 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 20 ms. Found 5 JPA repository interfaces.
2022-07-11 17:04:14,787 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:04:14,789 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-6"]
2022-07-11 17:04:14,790 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:04:14,792 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:04:14,809 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:04:14,811 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 275 ms
2022-07-11 17:04:14,843 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:04:14,843 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:04:14,972 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:04:14,978 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-6 - Starting...
2022-07-11 17:04:14,980 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-6 - Start completed.
2022-07-11 17:04:14,980 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:04:15,074 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:04:15,075 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:04:15,323 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:04:15,604 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-6"]
2022-07-11 17:04:15,605 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 34505 (http) with context path '/api/v1'
2022-07-11 17:04:15,606 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:04:15,606 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@78299721]]
2022-07-11 17:04:15,606 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:04:15,609 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.091 seconds (JVM running for 11.142)
2022-07-11 17:04:15,635 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:04:15,635 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@78299721]]
2022-07-11 17:04:15,635 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:04:15,639 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:04:15,639 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:04:15,641 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-6 - Shutdown initiated...
2022-07-11 17:04:15,641 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-6 - Shutdown completed.
2022-07-11 17:06:19,903 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 17:06:19,907 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 17:06:19,907 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 17:06:19,978 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 17:06:20,035 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 17:06:20,045 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@42463763, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@59f63e24, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@61f05988, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7ca33c24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@fade1fc, org.springframework.test.context.support.DirtiesContextTestExecutionListener@67c2e933, org.springframework.test.context.transaction.TransactionalTestExecutionListener@41dd05a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@178213b, org.springframework.test.context.event.EventPublishingTestExecutionListener@7103cb56, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1b765a2c, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2807bdeb, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@72c28d64, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6492fab5]
2022-07-11 17:06:20,275 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 17:06:20,278 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 37380 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:06:20,279 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:06:20,986 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:06:21,046 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 55 ms. Found 5 JPA repository interfaces.
2022-07-11 17:06:21,616 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:06:21,626 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 17:06:21,627 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:06:21,627 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:06:21,705 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:06:21,706 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1278 ms
2022-07-11 17:06:21,745 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:06:21,748 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:06:21,852 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:06:21,890 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 17:06:21,987 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 17:06:22,057 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 17:06:22,198 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 17:06:22,210 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:06:22,715 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:06:22,721 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:06:23,390 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:06:24,266 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 17:06:24,278 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 37369 (http) with context path '/api/v1'
2022-07-11 17:06:24,279 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:06:24,280 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1676e501]]
2022-07-11 17:06:24,280 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:06:24,290 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.221 seconds (JVM running for 5.016)
2022-07-11 17:06:24,300 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:06:24,300 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1676e501]]
2022-07-11 17:06:24,300 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:06:24,311 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:06:24,312 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:06:24,317 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 17:06:24,319 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 17:06:24,341 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 37380 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:06:24,342 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:06:24,344 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7db0565c has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy150.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$51870f59.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7db0565c has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 17:06:24,478 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:06:24,494 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 15 ms. Found 5 JPA repository interfaces.
2022-07-11 17:06:24,644 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:06:24,645 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 17:06:24,645 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:06:24,645 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:06:24,661 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:06:24,662 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 319 ms
2022-07-11 17:06:24,685 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:06:24,686 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:06:24,739 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:06:24,742 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 17:06:24,746 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 17:06:24,746 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:06:24,817 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:06:24,818 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:06:25,049 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:06:25,400 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 17:06:25,400 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 41847 (http) with context path '/api/v1'
2022-07-11 17:06:25,401 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:06:25,401 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6351efa6]]
2022-07-11 17:06:25,401 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:06:25,405 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.083 seconds (JVM running for 6.13)
2022-07-11 17:06:25,518 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:06:25,518 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6351efa6]]
2022-07-11 17:06:25,519 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:06:25,523 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:06:25,523 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:06:25,526 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 17:06:25,527 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 17:06:25,547 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 37380 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:06:25,547 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:06:25,659 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:06:25,673 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 14 ms. Found 5 JPA repository interfaces.
2022-07-11 17:06:25,803 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:06:25,804 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-3"]
2022-07-11 17:06:25,804 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:06:25,804 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:06:25,823 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:06:25,823 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 275 ms
2022-07-11 17:06:25,844 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:06:25,844 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:06:25,893 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:06:25,896 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-3 - Starting...
2022-07-11 17:06:25,898 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-3 - Start completed.
2022-07-11 17:06:25,898 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:06:25,977 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:06:25,977 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:06:26,206 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:06:26,526 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-3"]
2022-07-11 17:06:26,527 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 40883 (http) with context path '/api/v1'
2022-07-11 17:06:26,527 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:06:26,527 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2026af0]]
2022-07-11 17:06:26,527 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:06:26,530 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.002 seconds (JVM running for 7.256)
2022-07-11 17:06:26,552 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:06:26,552 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2026af0]]
2022-07-11 17:06:26,553 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:06:26,557 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:06:26,557 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:06:26,559 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-3 - Shutdown initiated...
2022-07-11 17:06:26,560 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-3 - Shutdown completed.
2022-07-11 17:06:26,579 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 37380 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:06:26,580 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:06:26,678 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:06:26,689 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 11 ms. Found 5 JPA repository interfaces.
2022-07-11 17:06:26,800 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:06:26,801 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-4"]
2022-07-11 17:06:26,801 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:06:26,801 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:06:26,813 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:06:26,814 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 233 ms
2022-07-11 17:06:26,832 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:06:26,833 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:06:26,882 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:06:26,886 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-4 - Starting...
2022-07-11 17:06:26,888 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-4 - Start completed.
2022-07-11 17:06:26,896 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:06:26,960 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:06:26,960 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:06:27,198 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:06:27,532 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-4"]
2022-07-11 17:06:27,533 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 33067 (http) with context path '/api/v1'
2022-07-11 17:06:27,533 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:06:27,534 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@43a2b00c]]
2022-07-11 17:06:27,534 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:06:27,537 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.975 seconds (JVM running for 8.262)
2022-07-11 17:06:27,558 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:06:27,558 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@43a2b00c]]
2022-07-11 17:06:27,559 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:06:27,562 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:06:27,562 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:06:27,565 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-4 - Shutdown initiated...
2022-07-11 17:06:27,565 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-4 - Shutdown completed.
2022-07-11 17:06:27,583 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 37380 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:06:27,583 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:06:27,695 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:06:27,708 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 12 ms. Found 5 JPA repository interfaces.
2022-07-11 17:06:27,841 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:06:27,842 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-5"]
2022-07-11 17:06:27,842 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:06:27,842 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:06:27,854 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:06:27,854 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 270 ms
2022-07-11 17:06:27,872 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:06:27,872 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:06:27,924 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:06:27,928 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-5 - Starting...
2022-07-11 17:06:27,930 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-5 - Start completed.
2022-07-11 17:06:27,930 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:06:28,018 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:06:28,019 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:06:28,268 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:06:28,585 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-5"]
2022-07-11 17:06:28,586 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 33087 (http) with context path '/api/v1'
2022-07-11 17:06:28,587 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:06:28,587 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@738b34af]]
2022-07-11 17:06:28,587 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:06:28,590 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.023 seconds (JVM running for 9.316)
2022-07-11 17:06:28,611 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:06:28,611 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@738b34af]]
2022-07-11 17:06:28,611 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:06:28,614 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:06:28,615 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:06:28,616 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-5 - Shutdown initiated...
2022-07-11 17:06:28,617 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-5 - Shutdown completed.
2022-07-11 17:06:28,634 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 37380 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:06:28,634 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:06:28,731 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:06:28,746 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 13 ms. Found 5 JPA repository interfaces.
2022-07-11 17:06:28,900 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:06:28,901 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-6"]
2022-07-11 17:06:28,901 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:06:28,901 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:06:28,913 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:06:28,913 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 277 ms
2022-07-11 17:06:28,932 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:06:28,932 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:06:28,977 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:06:28,981 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-6 - Starting...
2022-07-11 17:06:28,982 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-6 - Start completed.
2022-07-11 17:06:28,983 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:06:29,060 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:06:29,060 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:06:29,285 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:06:29,570 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-6"]
2022-07-11 17:06:29,571 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 42933 (http) with context path '/api/v1'
2022-07-11 17:06:29,572 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:06:29,572 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@792b4d95]]
2022-07-11 17:06:29,572 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:06:29,575 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.957 seconds (JVM running for 10.301)
2022-07-11 17:06:29,602 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:06:29,602 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@792b4d95]]
2022-07-11 17:06:29,602 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:06:29,606 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:06:29,607 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:06:29,609 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-6 - Shutdown initiated...
2022-07-11 17:06:29,610 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-6 - Shutdown completed.
2022-07-11 17:06:45,596 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 17:06:45,600 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 17:06:45,600 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 17:06:45,672 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 17:06:45,727 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 17:06:45,737 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@42463763, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@59f63e24, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@61f05988, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7ca33c24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@fade1fc, org.springframework.test.context.support.DirtiesContextTestExecutionListener@67c2e933, org.springframework.test.context.transaction.TransactionalTestExecutionListener@41dd05a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@178213b, org.springframework.test.context.event.EventPublishingTestExecutionListener@7103cb56, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1b765a2c, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2807bdeb, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@72c28d64, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6492fab5]
2022-07-11 17:06:45,980 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 17:06:45,985 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 37901 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:06:45,986 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:06:46,688 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:06:46,740 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 46 ms. Found 5 JPA repository interfaces.
2022-07-11 17:06:47,311 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:06:47,318 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 17:06:47,319 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:06:47,319 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:06:47,412 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:06:47,412 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1258 ms
2022-07-11 17:06:47,456 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:06:47,458 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:06:47,559 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:06:47,597 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 17:06:47,702 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 17:06:47,765 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 17:06:47,901 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 17:06:47,911 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:06:48,354 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:06:48,360 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:06:48,979 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:06:49,819 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 17:06:49,833 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 39015 (http) with context path '/api/v1'
2022-07-11 17:06:49,834 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:06:49,834 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6f999cf4]]
2022-07-11 17:06:49,834 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:06:49,845 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.082 seconds (JVM running for 4.924)
2022-07-11 17:06:49,857 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:06:49,857 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6f999cf4]]
2022-07-11 17:06:49,857 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:06:49,869 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:06:49,870 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:06:49,884 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 17:06:49,886 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 17:06:49,911 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 37901 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:06:49,911 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:06:49,911 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@cc62a3b has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy150.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$6127b348.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@cc62a3b has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 17:06:50,038 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:06:50,053 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 14 ms. Found 5 JPA repository interfaces.
2022-07-11 17:06:50,212 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:06:50,213 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 17:06:50,213 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:06:50,213 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:06:50,227 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:06:50,227 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 314 ms
2022-07-11 17:06:50,245 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:06:50,245 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:06:50,300 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:06:50,303 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 17:06:50,307 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 17:06:50,307 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:06:50,379 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:06:50,379 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:06:50,620 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:06:50,975 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 17:06:50,976 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 41763 (http) with context path '/api/v1'
2022-07-11 17:06:50,977 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:06:50,977 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4bdec54]]
2022-07-11 17:06:50,977 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:06:50,980 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.091 seconds (JVM running for 6.059)
2022-07-11 17:06:51,135 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:06:51,136 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4bdec54]]
2022-07-11 17:06:51,136 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:06:51,141 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:06:51,141 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:06:51,144 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 17:06:51,145 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 17:06:51,163 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 37901 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:06:51,164 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:06:51,267 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:06:51,280 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 12 ms. Found 5 JPA repository interfaces.
2022-07-11 17:06:51,397 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:06:51,398 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-3"]
2022-07-11 17:06:51,398 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:06:51,398 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:06:51,414 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:06:51,414 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 249 ms
2022-07-11 17:06:51,433 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:06:51,433 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:06:51,486 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:06:51,490 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-3 - Starting...
2022-07-11 17:06:51,492 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-3 - Start completed.
2022-07-11 17:06:51,492 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:06:51,558 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:06:51,559 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:06:51,787 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:06:52,081 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-3"]
2022-07-11 17:06:52,082 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 42375 (http) with context path '/api/v1'
2022-07-11 17:06:52,082 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:06:52,083 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3983b06d]]
2022-07-11 17:06:52,083 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:06:52,085 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.939 seconds (JVM running for 7.165)
2022-07-11 17:06:52,108 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:06:52,108 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3983b06d]]
2022-07-11 17:06:52,109 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:06:52,112 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:06:52,113 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:06:52,115 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-3 - Shutdown initiated...
2022-07-11 17:06:52,116 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-3 - Shutdown completed.
2022-07-11 17:06:52,135 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 37901 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:06:52,135 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:06:52,234 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:06:52,246 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 12 ms. Found 5 JPA repository interfaces.
2022-07-11 17:06:52,353 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:06:52,354 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-4"]
2022-07-11 17:06:52,354 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:06:52,354 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:06:52,368 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:06:52,368 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 232 ms
2022-07-11 17:06:52,389 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:06:52,390 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:06:52,440 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:06:52,444 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-4 - Starting...
2022-07-11 17:06:52,446 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-4 - Start completed.
2022-07-11 17:06:52,446 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:06:52,508 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:06:52,508 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:06:52,729 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:06:53,050 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-4"]
2022-07-11 17:06:53,051 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 46015 (http) with context path '/api/v1'
2022-07-11 17:06:53,051 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:06:53,051 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3413effc]]
2022-07-11 17:06:53,052 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:06:53,055 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.938 seconds (JVM running for 8.135)
2022-07-11 17:06:53,093 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:06:53,094 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3413effc]]
2022-07-11 17:06:53,094 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:06:53,100 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:06:53,100 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:06:53,102 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-4 - Shutdown initiated...
2022-07-11 17:06:53,103 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-4 - Shutdown completed.
2022-07-11 17:06:53,127 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 37901 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:06:53,127 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:06:53,232 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:06:53,247 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 14 ms. Found 5 JPA repository interfaces.
2022-07-11 17:06:53,368 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:06:53,368 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-5"]
2022-07-11 17:06:53,369 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:06:53,369 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:06:53,380 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:06:53,380 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 252 ms
2022-07-11 17:06:53,397 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:06:53,397 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:06:53,440 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:06:53,443 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-5 - Starting...
2022-07-11 17:06:53,444 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-5 - Start completed.
2022-07-11 17:06:53,445 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:06:53,501 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:06:53,502 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:06:53,700 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:06:54,021 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-5"]
2022-07-11 17:06:54,022 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 43829 (http) with context path '/api/v1'
2022-07-11 17:06:54,023 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:06:54,023 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@709de434]]
2022-07-11 17:06:54,023 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:06:54,026 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.921 seconds (JVM running for 9.105)
2022-07-11 17:06:54,049 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:06:54,049 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@709de434]]
2022-07-11 17:06:54,049 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:06:54,053 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:06:54,054 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:06:54,055 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-5 - Shutdown initiated...
2022-07-11 17:06:54,056 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-5 - Shutdown completed.
2022-07-11 17:06:54,079 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 37901 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:06:54,079 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:06:54,207 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:06:54,223 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 15 ms. Found 5 JPA repository interfaces.
2022-07-11 17:06:54,352 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:06:54,353 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-6"]
2022-07-11 17:06:54,354 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:06:54,354 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:06:54,368 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:06:54,369 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 288 ms
2022-07-11 17:06:54,392 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:06:54,393 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:06:54,449 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:06:54,453 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-6 - Starting...
2022-07-11 17:06:54,455 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-6 - Start completed.
2022-07-11 17:06:54,456 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:06:54,508 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:06:54,509 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:06:54,711 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:06:55,011 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-6"]
2022-07-11 17:06:55,012 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 43713 (http) with context path '/api/v1'
2022-07-11 17:06:55,013 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:06:55,013 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@687e94f2]]
2022-07-11 17:06:55,013 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:06:55,016 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.957 seconds (JVM running for 10.095)
2022-07-11 17:06:55,041 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:06:55,041 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@687e94f2]]
2022-07-11 17:06:55,041 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:06:55,047 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:06:55,047 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:06:55,050 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-6 - Shutdown initiated...
2022-07-11 17:06:55,050 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-6 - Shutdown completed.
2022-07-11 17:07:58,376 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 17:07:58,381 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 17:07:58,382 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 17:07:58,463 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 17:07:58,525 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 17:07:58,535 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@42463763, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@59f63e24, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@61f05988, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7ca33c24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@fade1fc, org.springframework.test.context.support.DirtiesContextTestExecutionListener@67c2e933, org.springframework.test.context.transaction.TransactionalTestExecutionListener@41dd05a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@178213b, org.springframework.test.context.event.EventPublishingTestExecutionListener@7103cb56, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1b765a2c, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2807bdeb, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@72c28d64, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6492fab5]
2022-07-11 17:07:58,782 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 17:07:58,786 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 38773 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:07:58,786 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:07:59,786 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:07:59,835 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 43 ms. Found 5 JPA repository interfaces.
2022-07-11 17:08:00,376 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:08:00,383 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 17:08:00,384 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:08:00,384 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:08:00,473 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:08:00,473 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1435 ms
2022-07-11 17:08:00,511 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:08:00,514 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:08:00,613 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:08:00,647 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 17:08:00,742 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 17:08:00,804 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 17:08:00,952 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 17:08:00,963 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:08:01,456 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:08:01,462 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:08:02,120 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:08:02,985 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 17:08:02,998 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 40999 (http) with context path '/api/v1'
2022-07-11 17:08:02,999 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:08:02,999 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6461c673]]
2022-07-11 17:08:02,999 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:08:03,007 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.442 seconds (JVM running for 5.504)
2022-07-11 17:08:03,019 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:08:03,020 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6461c673]]
2022-07-11 17:08:03,020 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:08:03,032 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:08:03,033 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:08:03,038 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 17:08:03,040 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 17:08:03,066 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 38773 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:08:03,067 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:08:03,069 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7db0565c has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy150.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$a2d5878e.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7db0565c has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 17:08:03,218 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:08:03,233 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 13 ms. Found 5 JPA repository interfaces.
2022-07-11 17:08:03,407 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:08:03,409 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 17:08:03,409 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:08:03,409 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:08:03,437 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:08:03,438 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 368 ms
2022-07-11 17:08:03,461 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:08:03,462 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:08:03,509 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:08:03,512 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 17:08:03,515 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 17:08:03,516 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:08:03,587 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:08:03,587 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:08:03,844 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:08:04,254 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 17:08:04,255 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 34685 (http) with context path '/api/v1'
2022-07-11 17:08:04,256 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:08:04,256 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@657f1fc3]]
2022-07-11 17:08:04,256 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:08:04,259 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.217 seconds (JVM running for 6.756)
2022-07-11 17:08:04,396 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:08:04,397 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@657f1fc3]]
2022-07-11 17:08:04,397 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:08:04,401 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:08:04,401 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:08:04,404 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 17:08:04,405 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 17:08:04,424 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 38773 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:08:04,424 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:08:04,528 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:08:04,541 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 12 ms. Found 5 JPA repository interfaces.
2022-07-11 17:08:04,664 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:08:04,664 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-3"]
2022-07-11 17:08:04,665 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:08:04,665 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:08:04,679 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:08:04,680 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 254 ms
2022-07-11 17:08:04,701 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:08:04,702 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:08:04,749 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:08:04,753 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-3 - Starting...
2022-07-11 17:08:04,755 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-3 - Start completed.
2022-07-11 17:08:04,755 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:08:04,822 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:08:04,823 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:08:05,065 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:08:05,398 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-3"]
2022-07-11 17:08:05,399 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 41525 (http) with context path '/api/v1'
2022-07-11 17:08:05,399 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:08:05,399 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6b56e8ee]]
2022-07-11 17:08:05,399 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:08:05,403 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.996 seconds (JVM running for 7.899)
2022-07-11 17:08:05,430 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:08:05,430 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6b56e8ee]]
2022-07-11 17:08:05,430 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:08:05,434 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:08:05,435 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:08:05,437 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-3 - Shutdown initiated...
2022-07-11 17:08:05,438 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-3 - Shutdown completed.
2022-07-11 17:08:05,458 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 38773 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:08:05,458 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:08:05,557 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:08:05,570 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 12 ms. Found 5 JPA repository interfaces.
2022-07-11 17:08:05,676 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:08:05,676 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-4"]
2022-07-11 17:08:05,677 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:08:05,677 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:08:05,688 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:08:05,689 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 230 ms
2022-07-11 17:08:05,707 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:08:05,708 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:08:05,763 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:08:05,768 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-4 - Starting...
2022-07-11 17:08:05,770 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-4 - Start completed.
2022-07-11 17:08:05,770 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:08:05,834 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:08:05,835 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:08:06,113 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:08:06,500 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-4"]
2022-07-11 17:08:06,501 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 45649 (http) with context path '/api/v1'
2022-07-11 17:08:06,501 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:08:06,501 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7b1466e3]]
2022-07-11 17:08:06,502 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:08:06,504 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.064 seconds (JVM running for 9.001)
2022-07-11 17:08:06,530 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:08:06,531 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7b1466e3]]
2022-07-11 17:08:06,531 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:08:06,536 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:08:06,536 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:08:06,539 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-4 - Shutdown initiated...
2022-07-11 17:08:06,540 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-4 - Shutdown completed.
2022-07-11 17:08:06,561 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 38773 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:08:06,561 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:08:06,675 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:08:06,687 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 12 ms. Found 5 JPA repository interfaces.
2022-07-11 17:08:06,806 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:08:06,807 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-5"]
2022-07-11 17:08:06,808 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:08:06,808 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:08:06,819 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:08:06,820 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 257 ms
2022-07-11 17:08:06,838 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:08:06,839 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:08:06,883 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:08:06,887 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-5 - Starting...
2022-07-11 17:08:06,888 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-5 - Start completed.
2022-07-11 17:08:06,889 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:08:06,959 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:08:06,959 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:08:07,194 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:08:07,526 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-5"]
2022-07-11 17:08:07,527 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 45439 (http) with context path '/api/v1'
2022-07-11 17:08:07,528 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:08:07,528 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@181f2388]]
2022-07-11 17:08:07,528 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:08:07,531 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.99 seconds (JVM running for 10.028)
2022-07-11 17:08:07,559 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:08:07,559 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@181f2388]]
2022-07-11 17:08:07,559 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:08:07,563 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:08:07,563 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:08:07,565 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-5 - Shutdown initiated...
2022-07-11 17:08:07,566 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-5 - Shutdown completed.
2022-07-11 17:08:07,582 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 38773 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:08:07,583 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:08:07,686 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:08:07,699 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 12 ms. Found 5 JPA repository interfaces.
2022-07-11 17:08:07,820 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:08:07,820 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-6"]
2022-07-11 17:08:07,821 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:08:07,821 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:08:07,831 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:08:07,831 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 247 ms
2022-07-11 17:08:07,847 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:08:07,848 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:08:07,892 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:08:07,895 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-6 - Starting...
2022-07-11 17:08:07,896 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-6 - Start completed.
2022-07-11 17:08:07,897 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:08:07,961 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:08:07,961 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:08:08,276 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:08:08,540 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-6"]
2022-07-11 17:08:08,541 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 39635 (http) with context path '/api/v1'
2022-07-11 17:08:08,541 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:08:08,541 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2e3bfce8]]
2022-07-11 17:08:08,542 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:08:08,545 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.978 seconds (JVM running for 11.042)
2022-07-11 17:08:08,578 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:08:08,579 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2e3bfce8]]
2022-07-11 17:08:08,579 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:08:08,583 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:08:08,584 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:08:08,586 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-6 - Shutdown initiated...
2022-07-11 17:08:08,587 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-6 - Shutdown completed.
2022-07-11 17:11:07,570 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 17:11:07,574 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 17:11:07,575 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 17:11:07,647 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 17:11:07,705 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 17:11:07,715 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@42463763, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@59f63e24, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@61f05988, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7ca33c24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@fade1fc, org.springframework.test.context.support.DirtiesContextTestExecutionListener@67c2e933, org.springframework.test.context.transaction.TransactionalTestExecutionListener@41dd05a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@178213b, org.springframework.test.context.event.EventPublishingTestExecutionListener@7103cb56, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1b765a2c, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2807bdeb, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@72c28d64, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6492fab5]
2022-07-11 17:11:07,950 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 17:11:07,954 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 40530 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:11:07,955 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:11:08,698 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:11:08,778 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 71 ms. Found 5 JPA repository interfaces.
2022-07-11 17:11:14,816 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 17:11:14,820 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 17:11:14,821 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 17:11:14,913 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 17:11:14,971 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 17:11:14,982 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@42463763, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@59f63e24, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@61f05988, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7ca33c24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@fade1fc, org.springframework.test.context.support.DirtiesContextTestExecutionListener@67c2e933, org.springframework.test.context.transaction.TransactionalTestExecutionListener@41dd05a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@178213b, org.springframework.test.context.event.EventPublishingTestExecutionListener@7103cb56, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1b765a2c, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2807bdeb, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@72c28d64, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6492fab5]
2022-07-11 17:11:15,247 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 17:11:15,256 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 40672 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:11:15,257 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:11:16,056 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:11:16,156 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 92 ms. Found 5 JPA repository interfaces.
2022-07-11 17:11:16,781 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:11:16,788 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 17:11:16,788 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:11:16,789 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:11:16,872 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:11:16,872 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1442 ms
2022-07-11 17:11:16,909 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:11:16,912 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:11:17,012 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:11:17,048 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 17:11:17,150 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 17:11:17,217 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 17:11:17,359 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 17:11:17,370 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:11:17,911 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:11:17,916 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:11:17,923 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginUtil' defined in file [/home/btdtuan/Documents/GitHub/ems/ems-backend/target/test-classes/vn/com/tma/emsbackend/util/auth/LoginUtil.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
2022-07-11 17:11:17,923 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:11:17,923 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:11:17,931 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 17:11:17,933 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 17:11:17,934 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Stopping service [Tomcat]
2022-07-11 17:11:17,944 INFO o.s.b.a.l.ConditionEvaluationReportLoggingListener [ConditionEvaluationReportLoggingListener.java:136] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-07-11 17:11:17,957 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginUtil' defined in file [/home/btdtuan/Documents/GitHub/ems/ems-backend/target/test-classes/vn/com/tma/emsbackend/util/auth/LoginUtil.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1326)
	... 89 common frames omitted
Caused by: java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at vn.com.tma.emsbackend.util.auth.LoginUtil.<init>(LoginUtil.java:19)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211)
	... 91 common frames omitted
2022-07-11 17:11:17,983 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 40672 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:11:17,984 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:11:18,199 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:11:18,231 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 30 ms. Found 5 JPA repository interfaces.
2022-07-11 17:11:18,435 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:11:18,436 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 17:11:18,436 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:11:18,436 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:11:18,451 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:11:18,451 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 465 ms
2022-07-11 17:11:18,470 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:11:18,471 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:11:18,528 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:11:18,532 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 17:11:18,533 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 17:11:18,534 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:11:18,608 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:11:18,608 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:11:18,611 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginUtil' defined in file [/home/btdtuan/Documents/GitHub/ems/ems-backend/target/test-classes/vn/com/tma/emsbackend/util/auth/LoginUtil.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
2022-07-11 17:11:18,611 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:11:18,612 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:11:18,615 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 17:11:18,615 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 17:11:18,616 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Stopping service [Tomcat]
2022-07-11 17:11:18,619 INFO o.s.b.a.l.ConditionEvaluationReportLoggingListener [ConditionEvaluationReportLoggingListener.java:136] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-07-11 17:11:18,620 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginUtil' defined in file [/home/btdtuan/Documents/GitHub/ems/ems-backend/target/test-classes/vn/com/tma/emsbackend/util/auth/LoginUtil.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1326)
	... 88 common frames omitted
Caused by: java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at vn.com.tma.emsbackend.util.auth.LoginUtil.<init>(LoginUtil.java:19)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211)
	... 90 common frames omitted
2022-07-11 17:11:18,620 ERROR o.s.t.c.TestContextManager [TestContextManager.java:252] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@fade1fc] to prepare test instance [vn.com.tma.emsbackend.integration.PortIntegrationTests@1c80f8dd]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginUtil' defined in file [/home/btdtuan/Documents/GitHub/ems/ems-backend/target/test-classes/vn/com/tma/emsbackend/util/auth/LoginUtil.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	... 72 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1326)
	... 89 common frames omitted
Caused by: java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at vn.com.tma.emsbackend.util.auth.LoginUtil.<init>(LoginUtil.java:19)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211)
	... 91 common frames omitted
2022-07-11 17:11:18,651 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 40672 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:11:18,651 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:11:18,811 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:11:18,826 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 13 ms. Found 5 JPA repository interfaces.
2022-07-11 17:11:18,969 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:11:18,970 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-3"]
2022-07-11 17:11:18,970 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:11:18,970 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:11:18,983 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:11:18,984 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 331 ms
2022-07-11 17:11:19,014 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:11:19,015 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:11:19,071 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:11:19,075 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-3 - Starting...
2022-07-11 17:11:19,076 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-3 - Start completed.
2022-07-11 17:11:19,077 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:11:19,183 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:11:19,183 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:11:19,186 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginUtil' defined in file [/home/btdtuan/Documents/GitHub/ems/ems-backend/target/test-classes/vn/com/tma/emsbackend/util/auth/LoginUtil.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
2022-07-11 17:11:19,187 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:11:19,187 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:11:19,190 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-3 - Shutdown initiated...
2022-07-11 17:11:19,191 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-3 - Shutdown completed.
2022-07-11 17:11:19,191 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Stopping service [Tomcat]
2022-07-11 17:11:19,194 INFO o.s.b.a.l.ConditionEvaluationReportLoggingListener [ConditionEvaluationReportLoggingListener.java:136] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-07-11 17:11:19,195 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginUtil' defined in file [/home/btdtuan/Documents/GitHub/ems/ems-backend/target/test-classes/vn/com/tma/emsbackend/util/auth/LoginUtil.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1326)
	... 89 common frames omitted
Caused by: java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at vn.com.tma.emsbackend.util.auth.LoginUtil.<init>(LoginUtil.java:19)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211)
	... 91 common frames omitted
2022-07-11 17:11:19,220 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 40672 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:11:19,220 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:11:19,353 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:11:19,376 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 21 ms. Found 5 JPA repository interfaces.
2022-07-11 17:11:19,552 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:11:19,554 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-4"]
2022-07-11 17:11:19,554 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:11:19,555 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:11:19,576 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:11:19,577 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 356 ms
2022-07-11 17:11:19,600 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:11:19,600 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:11:19,653 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:11:19,656 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-4 - Starting...
2022-07-11 17:11:19,657 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-4 - Start completed.
2022-07-11 17:11:19,658 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:11:19,726 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:11:19,727 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:11:19,736 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginUtil' defined in file [/home/btdtuan/Documents/GitHub/ems/ems-backend/target/test-classes/vn/com/tma/emsbackend/util/auth/LoginUtil.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
2022-07-11 17:11:19,736 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:11:19,737 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:11:19,742 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-4 - Shutdown initiated...
2022-07-11 17:11:19,743 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-4 - Shutdown completed.
2022-07-11 17:11:19,744 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Stopping service [Tomcat]
2022-07-11 17:11:19,748 INFO o.s.b.a.l.ConditionEvaluationReportLoggingListener [ConditionEvaluationReportLoggingListener.java:136] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-07-11 17:11:19,750 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginUtil' defined in file [/home/btdtuan/Documents/GitHub/ems/ems-backend/target/test-classes/vn/com/tma/emsbackend/util/auth/LoginUtil.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1326)
	... 88 common frames omitted
Caused by: java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at vn.com.tma.emsbackend.util.auth.LoginUtil.<init>(LoginUtil.java:19)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211)
	... 90 common frames omitted
2022-07-11 17:11:19,750 ERROR o.s.t.c.TestContextManager [TestContextManager.java:252] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@fade1fc] to prepare test instance [vn.com.tma.emsbackend.integration.PortIntegrationTests@7b6558aa]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginUtil' defined in file [/home/btdtuan/Documents/GitHub/ems/ems-backend/target/test-classes/vn/com/tma/emsbackend/util/auth/LoginUtil.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	... 72 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1326)
	... 89 common frames omitted
Caused by: java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at vn.com.tma.emsbackend.util.auth.LoginUtil.<init>(LoginUtil.java:19)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211)
	... 91 common frames omitted
2022-07-11 17:11:19,775 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 40672 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:11:19,775 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:11:19,883 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:11:19,898 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 14 ms. Found 5 JPA repository interfaces.
2022-07-11 17:11:20,025 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:11:20,025 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-5"]
2022-07-11 17:11:20,026 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:11:20,026 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:11:20,039 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:11:20,039 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 263 ms
2022-07-11 17:11:20,056 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:11:20,057 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:11:20,103 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:11:20,107 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-5 - Starting...
2022-07-11 17:11:20,109 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-5 - Start completed.
2022-07-11 17:11:20,109 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:11:20,181 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:11:20,181 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:11:20,185 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginUtil' defined in file [/home/btdtuan/Documents/GitHub/ems/ems-backend/target/test-classes/vn/com/tma/emsbackend/util/auth/LoginUtil.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
2022-07-11 17:11:20,185 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:11:20,186 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:11:20,189 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-5 - Shutdown initiated...
2022-07-11 17:11:20,189 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-5 - Shutdown completed.
2022-07-11 17:11:20,190 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Stopping service [Tomcat]
2022-07-11 17:11:20,193 INFO o.s.b.a.l.ConditionEvaluationReportLoggingListener [ConditionEvaluationReportLoggingListener.java:136] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-07-11 17:11:20,194 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginUtil' defined in file [/home/btdtuan/Documents/GitHub/ems/ems-backend/target/test-classes/vn/com/tma/emsbackend/util/auth/LoginUtil.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1326)
	... 89 common frames omitted
Caused by: java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at vn.com.tma.emsbackend.util.auth.LoginUtil.<init>(LoginUtil.java:19)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211)
	... 91 common frames omitted
2022-07-11 17:11:20,221 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 40672 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:11:20,221 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:11:20,346 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:11:20,360 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 13 ms. Found 5 JPA repository interfaces.
2022-07-11 17:11:20,516 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:11:20,517 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-6"]
2022-07-11 17:11:20,517 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:11:20,517 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:11:20,528 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:11:20,528 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 305 ms
2022-07-11 17:11:20,547 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:11:20,548 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:11:20,596 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:11:20,613 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-6 - Starting...
2022-07-11 17:11:20,615 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-6 - Start completed.
2022-07-11 17:11:20,616 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:11:20,728 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:11:20,729 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:11:20,733 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginUtil' defined in file [/home/btdtuan/Documents/GitHub/ems/ems-backend/target/test-classes/vn/com/tma/emsbackend/util/auth/LoginUtil.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
2022-07-11 17:11:20,734 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:11:20,734 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:11:20,737 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-6 - Shutdown initiated...
2022-07-11 17:11:20,748 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-6 - Shutdown completed.
2022-07-11 17:11:20,750 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Stopping service [Tomcat]
2022-07-11 17:11:20,755 INFO o.s.b.a.l.ConditionEvaluationReportLoggingListener [ConditionEvaluationReportLoggingListener.java:136] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-07-11 17:11:20,766 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginUtil' defined in file [/home/btdtuan/Documents/GitHub/ems/ems-backend/target/test-classes/vn/com/tma/emsbackend/util/auth/LoginUtil.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1326)
	... 88 common frames omitted
Caused by: java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at vn.com.tma.emsbackend.util.auth.LoginUtil.<init>(LoginUtil.java:19)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211)
	... 90 common frames omitted
2022-07-11 17:11:20,768 ERROR o.s.t.c.TestContextManager [TestContextManager.java:252] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@fade1fc] to prepare test instance [vn.com.tma.emsbackend.integration.PortIntegrationTests@2968d3c0]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginUtil' defined in file [/home/btdtuan/Documents/GitHub/ems/ems-backend/target/test-classes/vn/com/tma/emsbackend/util/auth/LoginUtil.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	... 72 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1326)
	... 89 common frames omitted
Caused by: java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at vn.com.tma.emsbackend.util.auth.LoginUtil.<init>(LoginUtil.java:19)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211)
	... 91 common frames omitted
2022-07-11 17:11:20,832 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 40672 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:11:20,838 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:11:20,971 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:11:20,983 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 11 ms. Found 5 JPA repository interfaces.
2022-07-11 17:11:21,096 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:11:21,096 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-7"]
2022-07-11 17:11:21,097 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:11:21,097 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:11:21,109 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:11:21,109 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 267 ms
2022-07-11 17:11:21,130 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:11:21,131 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:11:21,175 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:11:21,178 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-7 - Starting...
2022-07-11 17:11:21,180 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-7 - Start completed.
2022-07-11 17:11:21,180 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:11:21,230 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:11:21,230 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:11:21,239 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginUtil' defined in file [/home/btdtuan/Documents/GitHub/ems/ems-backend/target/test-classes/vn/com/tma/emsbackend/util/auth/LoginUtil.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
2022-07-11 17:11:21,239 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:11:21,240 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:11:21,241 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-7 - Shutdown initiated...
2022-07-11 17:11:21,242 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-7 - Shutdown completed.
2022-07-11 17:11:21,243 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Stopping service [Tomcat]
2022-07-11 17:11:21,247 INFO o.s.b.a.l.ConditionEvaluationReportLoggingListener [ConditionEvaluationReportLoggingListener.java:136] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-07-11 17:11:21,248 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginUtil' defined in file [/home/btdtuan/Documents/GitHub/ems/ems-backend/target/test-classes/vn/com/tma/emsbackend/util/auth/LoginUtil.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1326)
	... 89 common frames omitted
Caused by: java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at vn.com.tma.emsbackend.util.auth.LoginUtil.<init>(LoginUtil.java:19)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211)
	... 91 common frames omitted
2022-07-11 17:11:21,265 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 40672 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:11:21,265 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:11:21,356 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:11:21,368 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 11 ms. Found 5 JPA repository interfaces.
2022-07-11 17:11:21,478 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:11:21,479 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-8"]
2022-07-11 17:11:21,479 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:11:21,479 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:11:21,490 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:11:21,490 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 224 ms
2022-07-11 17:11:21,507 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:11:21,508 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:11:21,545 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:11:21,548 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-8 - Starting...
2022-07-11 17:11:21,549 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-8 - Start completed.
2022-07-11 17:11:21,554 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:11:21,599 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:11:21,599 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:11:21,602 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginUtil' defined in file [/home/btdtuan/Documents/GitHub/ems/ems-backend/target/test-classes/vn/com/tma/emsbackend/util/auth/LoginUtil.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
2022-07-11 17:11:21,602 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:11:21,602 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:11:21,604 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-8 - Shutdown initiated...
2022-07-11 17:11:21,604 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-8 - Shutdown completed.
2022-07-11 17:11:21,605 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Stopping service [Tomcat]
2022-07-11 17:11:21,607 INFO o.s.b.a.l.ConditionEvaluationReportLoggingListener [ConditionEvaluationReportLoggingListener.java:136] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-07-11 17:11:21,608 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginUtil' defined in file [/home/btdtuan/Documents/GitHub/ems/ems-backend/target/test-classes/vn/com/tma/emsbackend/util/auth/LoginUtil.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1326)
	... 88 common frames omitted
Caused by: java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at vn.com.tma.emsbackend.util.auth.LoginUtil.<init>(LoginUtil.java:19)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211)
	... 90 common frames omitted
2022-07-11 17:11:21,608 ERROR o.s.t.c.TestContextManager [TestContextManager.java:252] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@fade1fc] to prepare test instance [vn.com.tma.emsbackend.integration.PortIntegrationTests@ae2227]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginUtil' defined in file [/home/btdtuan/Documents/GitHub/ems/ems-backend/target/test-classes/vn/com/tma/emsbackend/util/auth/LoginUtil.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	... 72 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1326)
	... 89 common frames omitted
Caused by: java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at vn.com.tma.emsbackend.util.auth.LoginUtil.<init>(LoginUtil.java:19)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211)
	... 91 common frames omitted
2022-07-11 17:11:21,636 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 40672 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:11:21,636 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:11:21,718 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:11:21,728 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 9 ms. Found 5 JPA repository interfaces.
2022-07-11 17:11:21,835 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:11:21,836 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-9"]
2022-07-11 17:11:21,836 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:11:21,837 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:11:21,848 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:11:21,848 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 211 ms
2022-07-11 17:11:21,865 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:11:21,866 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:11:21,910 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:11:21,913 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-9 - Starting...
2022-07-11 17:11:21,914 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-9 - Start completed.
2022-07-11 17:11:21,915 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:11:21,961 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:11:21,961 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:11:21,963 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginUtil' defined in file [/home/btdtuan/Documents/GitHub/ems/ems-backend/target/test-classes/vn/com/tma/emsbackend/util/auth/LoginUtil.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
2022-07-11 17:11:21,964 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:11:21,964 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:11:21,965 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-9 - Shutdown initiated...
2022-07-11 17:11:21,966 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-9 - Shutdown completed.
2022-07-11 17:11:21,966 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Stopping service [Tomcat]
2022-07-11 17:11:21,968 INFO o.s.b.a.l.ConditionEvaluationReportLoggingListener [ConditionEvaluationReportLoggingListener.java:136] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-07-11 17:11:21,969 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginUtil' defined in file [/home/btdtuan/Documents/GitHub/ems/ems-backend/target/test-classes/vn/com/tma/emsbackend/util/auth/LoginUtil.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1326)
	... 89 common frames omitted
Caused by: java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at vn.com.tma.emsbackend.util.auth.LoginUtil.<init>(LoginUtil.java:19)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211)
	... 91 common frames omitted
2022-07-11 17:11:21,985 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 40672 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:11:21,985 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:11:22,071 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:11:22,082 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 10 ms. Found 5 JPA repository interfaces.
2022-07-11 17:11:22,208 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:11:22,208 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-10"]
2022-07-11 17:11:22,209 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:11:22,209 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:11:22,221 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:11:22,221 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 235 ms
2022-07-11 17:11:22,240 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:11:22,241 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:11:22,289 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:11:22,292 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-10 - Starting...
2022-07-11 17:11:22,294 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-10 - Start completed.
2022-07-11 17:11:22,294 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:11:22,359 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:11:22,359 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:11:22,363 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginUtil' defined in file [/home/btdtuan/Documents/GitHub/ems/ems-backend/target/test-classes/vn/com/tma/emsbackend/util/auth/LoginUtil.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
2022-07-11 17:11:22,364 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:11:22,364 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:11:22,366 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-10 - Shutdown initiated...
2022-07-11 17:11:22,367 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-10 - Shutdown completed.
2022-07-11 17:11:22,367 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Stopping service [Tomcat]
2022-07-11 17:11:22,370 INFO o.s.b.a.l.ConditionEvaluationReportLoggingListener [ConditionEvaluationReportLoggingListener.java:136] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-07-11 17:11:22,372 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginUtil' defined in file [/home/btdtuan/Documents/GitHub/ems/ems-backend/target/test-classes/vn/com/tma/emsbackend/util/auth/LoginUtil.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1326)
	... 88 common frames omitted
Caused by: java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at vn.com.tma.emsbackend.util.auth.LoginUtil.<init>(LoginUtil.java:19)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211)
	... 90 common frames omitted
2022-07-11 17:11:22,372 ERROR o.s.t.c.TestContextManager [TestContextManager.java:252] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@fade1fc] to prepare test instance [vn.com.tma.emsbackend.integration.PortIntegrationTests@5248688c]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginUtil' defined in file [/home/btdtuan/Documents/GitHub/ems/ems-backend/target/test-classes/vn/com/tma/emsbackend/util/auth/LoginUtil.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	... 72 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [vn.com.tma.emsbackend.util.auth.LoginUtil]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1326)
	... 89 common frames omitted
Caused by: java.lang.NullPointerException: Cannot invoke "org.springframework.core.env.Environment.getProperty(String)" because "this.environment" is null
	at vn.com.tma.emsbackend.util.auth.LoginUtil.<init>(LoginUtil.java:19)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211)
	... 91 common frames omitted
2022-07-11 17:14:09,471 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 17:14:09,475 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 17:14:09,475 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 17:14:09,549 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 17:14:09,609 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 17:14:09,619 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@42463763, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@59f63e24, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@61f05988, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7ca33c24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@fade1fc, org.springframework.test.context.support.DirtiesContextTestExecutionListener@67c2e933, org.springframework.test.context.transaction.TransactionalTestExecutionListener@41dd05a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@178213b, org.springframework.test.context.event.EventPublishingTestExecutionListener@7103cb56, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1b765a2c, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2807bdeb, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@72c28d64, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6492fab5]
2022-07-11 17:14:09,859 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 17:14:09,862 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 41965 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:14:09,862 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:14:10,521 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:14:10,567 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 40 ms. Found 5 JPA repository interfaces.
2022-07-11 17:14:11,120 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:14:11,128 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 17:14:11,129 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:14:11,129 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:14:11,212 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:14:11,213 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1196 ms
2022-07-11 17:14:11,252 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:14:11,254 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:14:11,357 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:14:11,391 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 17:14:11,485 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 17:14:11,553 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 17:14:11,687 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 17:14:11,698 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:14:12,196 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:14:12,202 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:14:12,851 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:14:13,712 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 17:14:13,725 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 43083 (http) with context path '/api/v1'
2022-07-11 17:14:13,726 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:14:13,726 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@36b6802f]]
2022-07-11 17:14:13,726 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:14:13,737 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.088 seconds (JVM running for 4.849)
2022-07-11 17:14:13,749 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:14:13,750 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@36b6802f]]
2022-07-11 17:14:13,750 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:14:13,761 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:14:13,762 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:14:13,767 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 17:14:13,769 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 17:14:13,802 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@cc62a3b has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy150.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$39087ec4.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@cc62a3b has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 17:14:13,803 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 41965 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:14:13,803 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:14:13,920 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:14:13,934 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 14 ms. Found 5 JPA repository interfaces.
2022-07-11 17:14:14,126 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:14:14,127 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 17:14:14,127 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:14:14,127 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:14:14,143 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:14:14,144 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 339 ms
2022-07-11 17:14:14,165 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:14:14,166 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:14:14,215 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:14:14,219 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 17:14:14,222 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 17:14:14,222 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:14:14,301 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:14:14,301 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:14:14,585 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:14:14,947 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 17:14:14,948 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 46753 (http) with context path '/api/v1'
2022-07-11 17:14:14,949 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:14:14,949 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@68fd0fba]]
2022-07-11 17:14:14,949 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:14:14,953 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.181 seconds (JVM running for 6.066)
2022-07-11 17:14:15,102 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:14:15,103 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@68fd0fba]]
2022-07-11 17:14:15,103 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:14:15,106 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:14:15,107 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:14:15,110 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 17:14:15,110 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 17:14:15,139 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 41965 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:14:15,140 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:14:15,246 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:14:15,259 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 12 ms. Found 5 JPA repository interfaces.
2022-07-11 17:14:15,366 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:14:15,367 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-3"]
2022-07-11 17:14:15,367 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:14:15,367 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:14:15,380 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:14:15,380 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 238 ms
2022-07-11 17:14:15,397 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:14:15,398 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:14:15,446 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:14:15,450 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-3 - Starting...
2022-07-11 17:14:15,452 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-3 - Start completed.
2022-07-11 17:14:15,452 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:14:15,517 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:14:15,517 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:14:15,723 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:14:16,050 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-3"]
2022-07-11 17:14:16,051 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 39287 (http) with context path '/api/v1'
2022-07-11 17:14:16,052 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:14:16,052 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@70fe15d]]
2022-07-11 17:14:16,052 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:14:16,055 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.942 seconds (JVM running for 7.167)
2022-07-11 17:14:16,080 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:14:16,081 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@70fe15d]]
2022-07-11 17:14:16,081 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:14:16,085 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:14:16,085 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:14:16,088 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-3 - Shutdown initiated...
2022-07-11 17:14:16,089 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-3 - Shutdown completed.
2022-07-11 17:14:16,108 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 41965 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:14:16,108 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:14:16,209 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:14:16,237 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 28 ms. Found 5 JPA repository interfaces.
2022-07-11 17:14:16,345 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:14:16,346 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-4"]
2022-07-11 17:14:16,346 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:14:16,346 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:14:16,358 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:14:16,359 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 250 ms
2022-07-11 17:14:16,377 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:14:16,378 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:14:16,431 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:14:16,435 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-4 - Starting...
2022-07-11 17:14:16,437 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-4 - Start completed.
2022-07-11 17:14:16,437 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:14:16,502 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:14:16,502 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:14:16,721 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:14:17,059 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-4"]
2022-07-11 17:14:17,060 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 39591 (http) with context path '/api/v1'
2022-07-11 17:14:17,060 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:14:17,060 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6f3a8d5e]]
2022-07-11 17:14:17,061 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:14:17,063 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.973 seconds (JVM running for 8.176)
2022-07-11 17:14:17,088 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:14:17,088 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6f3a8d5e]]
2022-07-11 17:14:17,088 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:14:17,092 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:14:17,093 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:14:17,095 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-4 - Shutdown initiated...
2022-07-11 17:14:17,096 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-4 - Shutdown completed.
2022-07-11 17:14:17,116 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 41965 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:14:17,117 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:14:17,226 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:14:17,240 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 12 ms. Found 5 JPA repository interfaces.
2022-07-11 17:14:17,368 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:14:17,369 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-5"]
2022-07-11 17:14:17,369 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:14:17,369 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:14:17,383 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:14:17,383 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 265 ms
2022-07-11 17:14:17,401 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:14:17,401 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:14:17,443 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:14:17,446 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-5 - Starting...
2022-07-11 17:14:17,447 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-5 - Start completed.
2022-07-11 17:14:17,447 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:14:17,504 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:14:17,504 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:14:17,749 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:14:18,138 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-5"]
2022-07-11 17:14:18,139 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 45307 (http) with context path '/api/v1'
2022-07-11 17:14:18,140 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:14:18,140 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3bb75054]]
2022-07-11 17:14:18,140 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:14:18,143 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.046 seconds (JVM running for 9.256)
2022-07-11 17:14:18,177 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:14:18,177 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3bb75054]]
2022-07-11 17:14:18,177 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:14:18,182 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:14:18,183 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:14:18,185 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-5 - Shutdown initiated...
2022-07-11 17:14:18,186 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-5 - Shutdown completed.
2022-07-11 17:14:18,206 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 41965 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:14:18,206 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:14:18,312 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:14:18,329 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 16 ms. Found 5 JPA repository interfaces.
2022-07-11 17:14:18,493 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:14:18,493 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-6"]
2022-07-11 17:14:18,493 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:14:18,494 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:14:18,504 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:14:18,505 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 297 ms
2022-07-11 17:14:18,522 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:14:18,522 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:14:18,559 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:14:18,562 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-6 - Starting...
2022-07-11 17:14:18,563 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-6 - Start completed.
2022-07-11 17:14:18,563 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:14:18,620 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:14:18,620 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:14:18,825 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:14:19,112 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-6"]
2022-07-11 17:14:19,112 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 35897 (http) with context path '/api/v1'
2022-07-11 17:14:19,113 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:14:19,113 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5b95557f]]
2022-07-11 17:14:19,113 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:14:19,116 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.928 seconds (JVM running for 10.229)
2022-07-11 17:14:19,145 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:14:19,145 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5b95557f]]
2022-07-11 17:14:19,145 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:14:19,149 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:14:19,149 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:14:19,151 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-6 - Shutdown initiated...
2022-07-11 17:14:19,152 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-6 - Shutdown completed.
2022-07-11 17:19:51,826 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 17:19:51,831 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 17:19:51,831 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 17:19:51,893 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.integration.PortIntegrationTests for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 17:19:51,953 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 17:19:51,963 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5ef6ae06, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@55dfebeb, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6e35bc3d, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1cdc4c27, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@77b14724, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5d9b7a8a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1e8ce150, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@604f2bd2, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@1d3ac898, org.springframework.test.context.event.EventPublishingTestExecutionListener@1b73be9f, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@628c4ac0, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7b84fcf8, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@30b19518, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@363042d7, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@366ac49b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6ad59d92, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@56f0cc85]
2022-07-11 17:19:52,182 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 17:19:52,186 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 45006 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:19:52,187 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:19:52,454 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
2022-07-11 17:19:52,471 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 80 common frames omitted
2022-07-11 17:19:52,518 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 45006 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:19:52,518 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:19:52,533 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
2022-07-11 17:19:52,535 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 79 common frames omitted
2022-07-11 17:19:52,536 ERROR o.s.t.c.TestContextManager [TestContextManager.java:252] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@77b14724] to prepare test instance [vn.com.tma.emsbackend.integration.PortIntegrationTests@8ee0c23]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	... 72 common frames omitted
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 80 common frames omitted
2022-07-11 17:19:52,574 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 45006 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:19:52,575 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:19:52,584 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
2022-07-11 17:19:52,586 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 80 common frames omitted
2022-07-11 17:19:52,624 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 45006 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:19:52,624 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:19:52,634 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
2022-07-11 17:19:52,636 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 79 common frames omitted
2022-07-11 17:19:52,636 ERROR o.s.t.c.TestContextManager [TestContextManager.java:252] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@77b14724] to prepare test instance [vn.com.tma.emsbackend.integration.PortIntegrationTests@58cf8f94]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	... 72 common frames omitted
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 80 common frames omitted
2022-07-11 17:19:52,667 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 45006 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:19:52,667 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:19:52,675 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
2022-07-11 17:19:52,676 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 80 common frames omitted
2022-07-11 17:19:52,697 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 45006 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:19:52,697 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:19:52,706 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
2022-07-11 17:19:52,707 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 79 common frames omitted
2022-07-11 17:19:52,707 ERROR o.s.t.c.TestContextManager [TestContextManager.java:252] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@77b14724] to prepare test instance [vn.com.tma.emsbackend.integration.PortIntegrationTests@4d192aef]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	... 72 common frames omitted
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 80 common frames omitted
2022-07-11 17:19:52,732 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 45006 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:19:52,732 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:19:52,739 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
2022-07-11 17:19:52,741 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 80 common frames omitted
2022-07-11 17:19:52,760 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 45006 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:19:52,760 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:19:52,769 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
2022-07-11 17:19:52,771 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 79 common frames omitted
2022-07-11 17:19:52,771 ERROR o.s.t.c.TestContextManager [TestContextManager.java:252] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@77b14724] to prepare test instance [vn.com.tma.emsbackend.integration.PortIntegrationTests@ebd06a9]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	... 72 common frames omitted
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 80 common frames omitted
2022-07-11 17:19:52,792 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 45006 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:19:52,792 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:19:52,800 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
2022-07-11 17:19:52,801 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 80 common frames omitted
2022-07-11 17:19:52,818 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 45006 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:19:52,818 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:19:52,826 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
2022-07-11 17:19:52,827 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 79 common frames omitted
2022-07-11 17:19:52,828 ERROR o.s.t.c.TestContextManager [TestContextManager.java:252] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@77b14724] to prepare test instance [vn.com.tma.emsbackend.integration.PortIntegrationTests@1c9e07c6]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	... 72 common frames omitted
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 80 common frames omitted
2022-07-11 17:19:56,859 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 17:19:56,864 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 17:19:56,865 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 17:19:56,943 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.integration.PortIntegrationTests for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 17:19:57,002 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 17:19:57,012 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5ef6ae06, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@55dfebeb, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6e35bc3d, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1cdc4c27, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@77b14724, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5d9b7a8a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1e8ce150, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@604f2bd2, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@1d3ac898, org.springframework.test.context.event.EventPublishingTestExecutionListener@1b73be9f, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@628c4ac0, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7b84fcf8, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@30b19518, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@363042d7, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@366ac49b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6ad59d92, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@56f0cc85]
2022-07-11 17:19:57,246 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 17:19:57,253 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 45111 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:19:57,253 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:19:57,525 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
2022-07-11 17:19:57,540 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 80 common frames omitted
2022-07-11 17:19:57,571 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 45111 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:19:57,572 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:19:57,583 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
2022-07-11 17:19:57,584 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 79 common frames omitted
2022-07-11 17:19:57,585 ERROR o.s.t.c.TestContextManager [TestContextManager.java:252] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@77b14724] to prepare test instance [vn.com.tma.emsbackend.integration.PortIntegrationTests@8ee0c23]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	... 72 common frames omitted
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 80 common frames omitted
2022-07-11 17:19:57,621 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 45111 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:19:57,622 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:19:57,632 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
2022-07-11 17:19:57,633 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 80 common frames omitted
2022-07-11 17:19:57,659 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 45111 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:19:57,659 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:19:57,675 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
2022-07-11 17:19:57,677 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 79 common frames omitted
2022-07-11 17:19:57,677 ERROR o.s.t.c.TestContextManager [TestContextManager.java:252] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@77b14724] to prepare test instance [vn.com.tma.emsbackend.integration.PortIntegrationTests@58cf8f94]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	... 72 common frames omitted
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 80 common frames omitted
2022-07-11 17:19:57,703 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 45111 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:19:57,703 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:19:57,713 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
2022-07-11 17:19:57,714 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 80 common frames omitted
2022-07-11 17:19:57,737 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 45111 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:19:57,737 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:19:57,746 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
2022-07-11 17:19:57,748 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 79 common frames omitted
2022-07-11 17:19:57,748 ERROR o.s.t.c.TestContextManager [TestContextManager.java:252] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@77b14724] to prepare test instance [vn.com.tma.emsbackend.integration.PortIntegrationTests@4d192aef]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	... 72 common frames omitted
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 80 common frames omitted
2022-07-11 17:19:57,773 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 45111 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:19:57,774 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:19:57,782 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
2022-07-11 17:19:57,783 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 80 common frames omitted
2022-07-11 17:19:57,804 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 45111 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:19:57,804 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:19:57,814 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
2022-07-11 17:19:57,815 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 79 common frames omitted
2022-07-11 17:19:57,815 ERROR o.s.t.c.TestContextManager [TestContextManager.java:252] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@77b14724] to prepare test instance [vn.com.tma.emsbackend.integration.PortIntegrationTests@ebd06a9]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	... 72 common frames omitted
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 80 common frames omitted
2022-07-11 17:19:57,838 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 45111 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:19:57,839 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:19:57,847 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
2022-07-11 17:19:57,848 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 80 common frames omitted
2022-07-11 17:19:57,867 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 45111 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:19:57,868 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:19:57,877 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
2022-07-11 17:19:57,878 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 79 common frames omitted
2022-07-11 17:19:57,878 ERROR o.s.t.c.TestContextManager [TestContextManager.java:252] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@77b14724] to prepare test instance [vn.com.tma.emsbackend.integration.PortIntegrationTests@1c9e07c6]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	... 72 common frames omitted
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 80 common frames omitted
2022-07-11 17:22:18,707 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 17:22:18,711 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 17:22:18,712 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 17:22:18,791 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.integration.PortIntegrationTests for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 17:22:18,856 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 17:22:18,869 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5ef6ae06, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@55dfebeb, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6e35bc3d, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1cdc4c27, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@77b14724, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5d9b7a8a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1e8ce150, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@604f2bd2, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@1d3ac898, org.springframework.test.context.event.EventPublishingTestExecutionListener@1b73be9f, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@628c4ac0, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7b84fcf8, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@30b19518, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@363042d7, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@366ac49b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6ad59d92, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@56f0cc85]
2022-07-11 17:22:19,097 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 17:22:19,101 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 46170 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:22:19,101 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:22:19,354 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
2022-07-11 17:22:19,370 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 80 common frames omitted
2022-07-11 17:22:19,401 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 46170 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:22:19,402 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:22:19,414 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
2022-07-11 17:22:19,415 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 79 common frames omitted
2022-07-11 17:22:19,416 ERROR o.s.t.c.TestContextManager [TestContextManager.java:252] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@77b14724] to prepare test instance [vn.com.tma.emsbackend.integration.PortIntegrationTests@8ee0c23]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	... 72 common frames omitted
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 80 common frames omitted
2022-07-11 17:22:19,453 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 46170 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:22:19,453 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:22:19,463 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
2022-07-11 17:22:19,465 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 80 common frames omitted
2022-07-11 17:22:19,493 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 46170 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:22:19,494 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:22:19,504 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
2022-07-11 17:22:19,505 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 79 common frames omitted
2022-07-11 17:22:19,506 ERROR o.s.t.c.TestContextManager [TestContextManager.java:252] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@77b14724] to prepare test instance [vn.com.tma.emsbackend.integration.PortIntegrationTests@58cf8f94]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	... 72 common frames omitted
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 80 common frames omitted
2022-07-11 17:22:19,531 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 46170 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:22:19,532 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:22:19,541 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
2022-07-11 17:22:19,542 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 80 common frames omitted
2022-07-11 17:22:19,565 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 46170 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:22:19,565 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:22:19,574 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
2022-07-11 17:22:19,575 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 79 common frames omitted
2022-07-11 17:22:19,576 ERROR o.s.t.c.TestContextManager [TestContextManager.java:252] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@77b14724] to prepare test instance [vn.com.tma.emsbackend.integration.PortIntegrationTests@4d192aef]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	... 72 common frames omitted
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 80 common frames omitted
2022-07-11 17:22:19,601 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 46170 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:22:19,602 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:22:19,611 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
2022-07-11 17:22:19,612 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 80 common frames omitted
2022-07-11 17:22:19,634 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 46170 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:22:19,634 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:22:19,644 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
2022-07-11 17:22:19,645 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 79 common frames omitted
2022-07-11 17:22:19,646 ERROR o.s.t.c.TestContextManager [TestContextManager.java:252] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@77b14724] to prepare test instance [vn.com.tma.emsbackend.integration.PortIntegrationTests@ebd06a9]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	... 72 common frames omitted
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 80 common frames omitted
2022-07-11 17:22:19,670 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 46170 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:22:19,670 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:22:19,679 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
2022-07-11 17:22:19,680 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 80 common frames omitted
2022-07-11 17:22:19,701 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 46170 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:22:19,701 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:22:19,710 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:591] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
2022-07-11 17:22:19,712 ERROR o.s.b.SpringApplication [SpringApplication.java:821] Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 79 common frames omitted
2022-07-11 17:22:19,712 ERROR o.s.t.c.TestContextManager [TestContextManager.java:252] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@77b14724] to prepare test instance [vn.com.tma.emsbackend.integration.PortIntegrationTests@1c9e07c6]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	... 72 common frames omitted
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)
	... 80 common frames omitted
2022-07-11 17:22:37,898 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 17:22:37,903 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 17:22:37,904 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 17:22:38,015 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 17:22:38,106 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 17:22:38,119 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@42463763, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@59f63e24, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@61f05988, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7ca33c24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@fade1fc, org.springframework.test.context.support.DirtiesContextTestExecutionListener@67c2e933, org.springframework.test.context.transaction.TransactionalTestExecutionListener@41dd05a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@178213b, org.springframework.test.context.event.EventPublishingTestExecutionListener@7103cb56, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1b765a2c, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2807bdeb, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@72c28d64, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6492fab5]
2022-07-11 17:22:38,448 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 17:22:38,456 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 46359 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:22:38,457 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:22:39,429 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:22:39,483 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 48 ms. Found 5 JPA repository interfaces.
2022-07-11 17:22:40,104 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:22:40,112 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 17:22:40,112 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:22:40,112 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:22:40,216 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:22:40,217 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1518 ms
2022-07-11 17:22:40,260 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:22:40,263 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:22:40,391 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:22:40,423 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 17:22:40,513 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 17:22:40,585 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 17:22:40,771 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 17:22:40,782 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:22:41,248 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:22:41,253 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:22:41,866 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:22:42,759 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 17:22:42,772 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 36319 (http) with context path '/api/v1'
2022-07-11 17:22:42,773 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:22:42,773 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5e8359da]]
2022-07-11 17:22:42,773 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:22:42,783 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.629 seconds (JVM running for 5.576)
2022-07-11 17:22:42,796 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:22:42,796 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5e8359da]]
2022-07-11 17:22:42,796 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:22:42,809 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:22:42,809 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:22:42,815 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 17:22:42,817 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 17:22:42,839 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@cc62a3b has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy150.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$caa5a7eb.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@cc62a3b has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 17:22:42,840 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 46359 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:22:42,840 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:22:42,970 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:22:42,986 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 15 ms. Found 5 JPA repository interfaces.
2022-07-11 17:22:43,170 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:22:43,171 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 17:22:43,172 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:22:43,172 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:22:43,193 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:22:43,193 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 351 ms
2022-07-11 17:22:43,217 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:22:43,217 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:22:43,287 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:22:43,290 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 17:22:43,291 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 17:22:43,292 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:22:43,367 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:22:43,368 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:22:43,631 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:22:44,017 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 17:22:44,018 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 34559 (http) with context path '/api/v1'
2022-07-11 17:22:44,018 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:22:44,018 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6351efa6]]
2022-07-11 17:22:44,019 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:22:44,029 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.21 seconds (JVM running for 6.822)
2022-07-11 17:22:44,171 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:22:44,171 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6351efa6]]
2022-07-11 17:22:44,171 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:22:44,175 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:22:44,175 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:22:44,178 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 17:22:44,179 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 17:22:44,198 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 46359 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:22:44,199 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:22:44,310 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:22:44,325 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 14 ms. Found 5 JPA repository interfaces.
2022-07-11 17:22:44,444 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:22:44,445 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-3"]
2022-07-11 17:22:44,445 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:22:44,445 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:22:44,460 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:22:44,460 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 260 ms
2022-07-11 17:22:44,480 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:22:44,481 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:22:44,529 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:22:44,533 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-3 - Starting...
2022-07-11 17:22:44,534 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-3 - Start completed.
2022-07-11 17:22:44,534 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:22:44,596 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:22:44,597 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:22:44,852 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:22:45,222 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-3"]
2022-07-11 17:22:45,223 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 40799 (http) with context path '/api/v1'
2022-07-11 17:22:45,224 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:22:45,224 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7efcdcde]]
2022-07-11 17:22:45,225 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:22:45,229 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.048 seconds (JVM running for 8.022)
2022-07-11 17:22:45,270 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:22:45,270 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7efcdcde]]
2022-07-11 17:22:45,270 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:22:45,275 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:22:45,275 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:22:45,279 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-3 - Shutdown initiated...
2022-07-11 17:22:45,280 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-3 - Shutdown completed.
2022-07-11 17:22:45,304 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 46359 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:22:45,305 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:22:45,424 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:22:45,438 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 13 ms. Found 5 JPA repository interfaces.
2022-07-11 17:22:45,567 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:22:45,568 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-4"]
2022-07-11 17:22:45,568 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:22:45,568 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:22:45,584 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:22:45,585 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 279 ms
2022-07-11 17:22:45,604 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:22:45,605 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:22:45,654 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:22:45,658 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-4 - Starting...
2022-07-11 17:22:45,659 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-4 - Start completed.
2022-07-11 17:22:45,660 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:22:45,719 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:22:45,720 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:22:46,000 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:22:46,349 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-4"]
2022-07-11 17:22:46,350 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 33487 (http) with context path '/api/v1'
2022-07-11 17:22:46,350 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:22:46,351 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4295b0b8]]
2022-07-11 17:22:46,351 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:22:46,353 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.071 seconds (JVM running for 9.146)
2022-07-11 17:22:46,377 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:22:46,377 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4295b0b8]]
2022-07-11 17:22:46,377 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:22:46,381 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:22:46,381 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:22:46,383 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-4 - Shutdown initiated...
2022-07-11 17:22:46,383 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-4 - Shutdown completed.
2022-07-11 17:22:46,401 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 46359 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:22:46,401 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:22:46,498 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:22:46,510 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 12 ms. Found 5 JPA repository interfaces.
2022-07-11 17:22:46,622 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:22:46,623 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-5"]
2022-07-11 17:22:46,623 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:22:46,623 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:22:46,636 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:22:46,637 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 235 ms
2022-07-11 17:22:46,657 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:22:46,657 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:22:46,704 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:22:46,708 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-5 - Starting...
2022-07-11 17:22:46,709 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-5 - Start completed.
2022-07-11 17:22:46,709 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:22:46,765 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:22:46,765 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:22:46,984 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:22:47,284 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-5"]
2022-07-11 17:22:47,288 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 40527 (http) with context path '/api/v1'
2022-07-11 17:22:47,289 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:22:47,289 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@54d66499]]
2022-07-11 17:22:47,289 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:22:47,292 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.907 seconds (JVM running for 10.085)
2022-07-11 17:22:47,319 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:22:47,319 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@54d66499]]
2022-07-11 17:22:47,319 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:22:47,324 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:22:47,324 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:22:47,327 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-5 - Shutdown initiated...
2022-07-11 17:22:47,327 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-5 - Shutdown completed.
2022-07-11 17:22:47,348 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 46359 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:22:47,348 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:22:47,453 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:22:47,466 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 12 ms. Found 5 JPA repository interfaces.
2022-07-11 17:22:47,576 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:22:47,577 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-6"]
2022-07-11 17:22:47,577 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:22:47,577 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:22:47,596 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:22:47,596 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 247 ms
2022-07-11 17:22:47,616 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:22:47,617 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:22:47,669 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:22:47,672 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-6 - Starting...
2022-07-11 17:22:47,673 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-6 - Start completed.
2022-07-11 17:22:47,674 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:22:47,733 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:22:47,734 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:22:47,953 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:22:48,250 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-6"]
2022-07-11 17:22:48,251 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 32781 (http) with context path '/api/v1'
2022-07-11 17:22:48,251 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:22:48,252 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@49443539]]
2022-07-11 17:22:48,252 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:22:48,256 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.927 seconds (JVM running for 11.049)
2022-07-11 17:22:48,285 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:22:48,285 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@49443539]]
2022-07-11 17:22:48,285 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:22:48,288 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:22:48,288 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:22:48,290 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-6 - Shutdown initiated...
2022-07-11 17:22:48,290 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-6 - Shutdown completed.
2022-07-11 17:24:03,505 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 17:24:03,510 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 17:24:03,511 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 17:24:03,592 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 17:24:03,649 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 17:24:03,660 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@42463763, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@59f63e24, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@61f05988, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7ca33c24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@fade1fc, org.springframework.test.context.support.DirtiesContextTestExecutionListener@67c2e933, org.springframework.test.context.transaction.TransactionalTestExecutionListener@41dd05a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@613a8ee1, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@178213b, org.springframework.test.context.event.EventPublishingTestExecutionListener@7103cb56, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1b765a2c, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2807bdeb, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@72c28d64, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6492fab5]
2022-07-11 17:24:03,921 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 17:24:03,927 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 47399 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:24:03,928 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:24:04,663 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:24:04,719 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 50 ms. Found 5 JPA repository interfaces.
2022-07-11 17:24:05,148 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:24:05,191 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 17:24:05,287 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 17:24:05,366 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 17:24:05,505 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 17:24:05,515 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:24:05,962 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:24:05,967 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:24:06,648 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:24:07,545 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:24:07,546 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@771b2b5b]]
2022-07-11 17:24:07,547 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:24:07,554 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 3.843 seconds (JVM running for 4.707)
2022-07-11 17:24:07,587 ERROR o.s.t.c.TestContextManager [TestContextManager.java:252] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@fade1fc] to prepare test instance [vn.com.tma.emsbackend.integration.PortIntegrationTests@628b1538]
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'vn.com.tma.emsbackend.integration.PortIntegrationTests': Unsatisfied dependency expressed through field 'testRestTemplate'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.boot.test.web.client.TestRestTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:417)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:119)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.boot.test.web.client.TestRestTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1799)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)
	... 76 common frames omitted
2022-07-11 17:24:07,602 ERROR o.s.t.c.TestContextManager [TestContextManager.java:252] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@fade1fc] to prepare test instance [vn.com.tma.emsbackend.integration.PortIntegrationTests@66978c15]
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'vn.com.tma.emsbackend.integration.PortIntegrationTests': Unsatisfied dependency expressed through field 'testRestTemplate'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.boot.test.web.client.TestRestTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:417)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:119)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.boot.test.web.client.TestRestTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1799)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)
	... 76 common frames omitted
2022-07-11 17:24:07,609 ERROR o.s.t.c.TestContextManager [TestContextManager.java:252] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@fade1fc] to prepare test instance [vn.com.tma.emsbackend.integration.PortIntegrationTests@360432d3]
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'vn.com.tma.emsbackend.integration.PortIntegrationTests': Unsatisfied dependency expressed through field 'testRestTemplate'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.boot.test.web.client.TestRestTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:417)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:119)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.boot.test.web.client.TestRestTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1799)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)
	... 76 common frames omitted
2022-07-11 17:24:07,617 ERROR o.s.t.c.TestContextManager [TestContextManager.java:252] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@fade1fc] to prepare test instance [vn.com.tma.emsbackend.integration.PortIntegrationTests@eb23b9c]
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'vn.com.tma.emsbackend.integration.PortIntegrationTests': Unsatisfied dependency expressed through field 'testRestTemplate'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.boot.test.web.client.TestRestTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:417)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:119)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.boot.test.web.client.TestRestTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1799)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)
	... 76 common frames omitted
2022-07-11 17:24:07,624 ERROR o.s.t.c.TestContextManager [TestContextManager.java:252] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@fade1fc] to prepare test instance [vn.com.tma.emsbackend.integration.PortIntegrationTests@41f84bb1]
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'vn.com.tma.emsbackend.integration.PortIntegrationTests': Unsatisfied dependency expressed through field 'testRestTemplate'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.boot.test.web.client.TestRestTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:417)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:119)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.boot.test.web.client.TestRestTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1799)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)
	... 76 common frames omitted
2022-07-11 17:24:07,633 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:24:07,634 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@771b2b5b]]
2022-07-11 17:24:07,634 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:24:07,638 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:24:07,638 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:24:07,645 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 17:24:07,648 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 17:25:59,293 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 17:25:59,297 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 17:25:59,298 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 17:25:59,388 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 17:25:59,452 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 17:25:59,464 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2ceb80a1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4b45dcb8, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7216fb24, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2072acb2, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@50ecde95, org.springframework.test.context.support.DirtiesContextTestExecutionListener@35a9782c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@70a36a66, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@45815ffc, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@732f29af, org.springframework.test.context.event.EventPublishingTestExecutionListener@d3957fe, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@6622fc65, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@299321e2, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@23fb172e, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@64ba3208, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@158a3b2e, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@25a6944c, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@5e1fa5b1]
2022-07-11 17:25:59,699 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 17:25:59,710 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 48365 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:25:59,711 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:26:00,405 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:26:00,452 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 41 ms. Found 5 JPA repository interfaces.
2022-07-11 17:26:01,029 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:26:01,037 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 17:26:01,038 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:26:01,038 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:26:01,135 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:26:01,135 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1257 ms
2022-07-11 17:26:01,174 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:26:01,177 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:26:01,290 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:26:01,325 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 17:26:01,418 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 17:26:01,477 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 17:26:01,633 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 17:26:01,644 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:26:02,118 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:26:02,123 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:26:02,763 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:26:03,634 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 17:26:03,646 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 36387 (http) with context path '/api/v1'
2022-07-11 17:26:03,648 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:26:03,648 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@761d3c20]]
2022-07-11 17:26:03,648 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:26:03,659 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.166 seconds (JVM running for 4.939)
2022-07-11 17:26:03,675 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:26:03,676 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@761d3c20]]
2022-07-11 17:26:03,676 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:26:03,697 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:26:03,697 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:26:03,703 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 17:26:03,705 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 17:26:03,731 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 48365 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:26:03,731 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@46cf05f7 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy151.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$93ae0dc2.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@46cf05f7 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 17:26:03,731 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:26:03,855 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:26:03,869 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 13 ms. Found 5 JPA repository interfaces.
2022-07-11 17:26:04,028 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:26:04,029 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 17:26:04,029 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:26:04,029 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:26:04,045 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:26:04,045 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 313 ms
2022-07-11 17:26:04,064 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:26:04,064 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:26:04,117 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:26:04,121 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 17:26:04,122 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 17:26:04,122 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:26:04,210 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:26:04,210 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:26:04,453 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:26:04,811 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 17:26:04,812 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 34261 (http) with context path '/api/v1'
2022-07-11 17:26:04,813 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:26:04,813 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3ea3b20d]]
2022-07-11 17:26:04,813 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:26:04,816 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.109 seconds (JVM running for 6.096)
2022-07-11 17:26:04,965 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:26:04,966 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3ea3b20d]]
2022-07-11 17:26:04,966 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:26:04,976 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:26:04,977 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:26:04,980 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 17:26:04,981 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 17:26:05,000 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 48365 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:26:05,000 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:26:05,113 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:26:05,126 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 12 ms. Found 5 JPA repository interfaces.
2022-07-11 17:26:05,243 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:26:05,243 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-3"]
2022-07-11 17:26:05,244 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:26:05,244 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:26:05,257 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:26:05,257 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 255 ms
2022-07-11 17:26:05,277 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:26:05,277 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:26:05,329 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:26:05,333 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-3 - Starting...
2022-07-11 17:26:05,334 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-3 - Start completed.
2022-07-11 17:26:05,335 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:26:05,398 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:26:05,398 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:26:05,616 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:26:05,951 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-3"]
2022-07-11 17:26:05,952 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 42729 (http) with context path '/api/v1'
2022-07-11 17:26:05,952 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:26:05,952 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4fddd42b]]
2022-07-11 17:26:05,953 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:26:05,955 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.973 seconds (JVM running for 7.235)
2022-07-11 17:26:05,985 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:26:05,985 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4fddd42b]]
2022-07-11 17:26:05,985 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:26:05,989 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:26:05,989 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:26:05,992 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-3 - Shutdown initiated...
2022-07-11 17:26:05,993 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-3 - Shutdown completed.
2022-07-11 17:26:06,012 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 48365 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:26:06,012 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:26:06,117 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:26:06,130 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 12 ms. Found 5 JPA repository interfaces.
2022-07-11 17:26:06,239 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:26:06,241 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-4"]
2022-07-11 17:26:06,241 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:26:06,241 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:26:06,254 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:26:06,254 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 241 ms
2022-07-11 17:26:06,272 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:26:06,273 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:26:06,317 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:26:06,320 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-4 - Starting...
2022-07-11 17:26:06,321 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-4 - Start completed.
2022-07-11 17:26:06,322 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:26:06,391 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:26:06,392 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:26:06,606 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:26:06,943 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-4"]
2022-07-11 17:26:06,944 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 45711 (http) with context path '/api/v1'
2022-07-11 17:26:06,944 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:26:06,944 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@11d1c51a]]
2022-07-11 17:26:06,945 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:26:06,947 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.952 seconds (JVM running for 8.227)
2022-07-11 17:26:06,976 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:26:06,977 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@11d1c51a]]
2022-07-11 17:26:06,977 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:26:06,983 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:26:06,984 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:26:06,987 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-4 - Shutdown initiated...
2022-07-11 17:26:06,988 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-4 - Shutdown completed.
2022-07-11 17:26:07,014 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 48365 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:26:07,014 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:26:07,151 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:26:07,163 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 12 ms. Found 5 JPA repository interfaces.
2022-07-11 17:26:07,286 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:26:07,286 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-5"]
2022-07-11 17:26:07,287 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:26:07,287 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:26:07,299 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:26:07,299 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 283 ms
2022-07-11 17:26:07,318 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:26:07,318 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:26:07,383 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:26:07,388 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-5 - Starting...
2022-07-11 17:26:07,389 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-5 - Start completed.
2022-07-11 17:26:07,390 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:26:07,471 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:26:07,472 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:26:07,713 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:26:08,073 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-5"]
2022-07-11 17:26:08,074 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 43511 (http) with context path '/api/v1'
2022-07-11 17:26:08,074 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:26:08,074 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5c496ae6]]
2022-07-11 17:26:08,075 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:26:08,078 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.088 seconds (JVM running for 9.358)
2022-07-11 17:26:08,106 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:26:08,106 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5c496ae6]]
2022-07-11 17:26:08,106 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:26:08,112 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:26:08,113 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:26:08,115 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-5 - Shutdown initiated...
2022-07-11 17:26:08,116 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-5 - Shutdown completed.
2022-07-11 17:26:08,139 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 48365 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:26:08,140 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:26:08,273 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:26:08,287 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 13 ms. Found 5 JPA repository interfaces.
2022-07-11 17:26:08,406 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:26:08,407 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-6"]
2022-07-11 17:26:08,407 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:26:08,407 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:26:08,417 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:26:08,417 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 276 ms
2022-07-11 17:26:08,434 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:26:08,434 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:26:08,479 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:26:08,483 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-6 - Starting...
2022-07-11 17:26:08,485 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-6 - Start completed.
2022-07-11 17:26:08,485 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:26:08,541 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:26:08,542 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:26:08,735 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:26:09,018 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-6"]
2022-07-11 17:26:09,019 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 45319 (http) with context path '/api/v1'
2022-07-11 17:26:09,020 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:26:09,020 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@f5dd2de]]
2022-07-11 17:26:09,020 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:26:09,023 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.906 seconds (JVM running for 10.303)
2022-07-11 17:26:09,055 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:26:09,055 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@f5dd2de]]
2022-07-11 17:26:09,055 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:26:09,060 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:26:09,060 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:26:09,063 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-6 - Shutdown initiated...
2022-07-11 17:26:09,063 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-6 - Shutdown completed.
2022-07-11 17:27:40,334 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 17:27:40,338 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 17:27:40,339 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 17:27:40,425 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 17:27:40,482 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 17:27:40,493 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4b45dcb8, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7216fb24, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@2072acb2, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@50ecde95, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@35a9782c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@70a36a66, org.springframework.test.context.transaction.TransactionalTestExecutionListener@45815ffc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@732f29af, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@d3957fe, org.springframework.test.context.event.EventPublishingTestExecutionListener@6622fc65, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@299321e2, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@23fb172e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@64ba3208, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@158a3b2e, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@25a6944c, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5e1fa5b1, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6b00f608]
2022-07-11 17:27:40,720 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 17:27:40,726 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 49406 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:27:40,727 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:27:41,397 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:27:41,449 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 46 ms. Found 5 JPA repository interfaces.
2022-07-11 17:27:42,024 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:27:42,033 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 17:27:42,034 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:27:42,034 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:27:42,125 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:27:42,125 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1242 ms
2022-07-11 17:27:42,165 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:27:42,167 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:27:42,276 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:27:42,310 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 17:27:42,404 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 17:27:42,471 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 17:27:42,605 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 17:27:42,616 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:27:43,071 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:27:43,076 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:27:43,747 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:27:44,580 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 17:27:44,591 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 42761 (http) with context path '/api/v1'
2022-07-11 17:27:44,593 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:27:44,593 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3d9dc84d]]
2022-07-11 17:27:44,594 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:27:44,604 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.085 seconds (JVM running for 4.889)
2022-07-11 17:27:44,617 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:27:44,617 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3d9dc84d]]
2022-07-11 17:27:44,617 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:27:44,630 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:27:44,630 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:27:44,636 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 17:27:44,638 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 17:27:44,660 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5851bd4f has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy151.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$57130594.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5851bd4f has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 17:27:44,663 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 49406 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:27:44,663 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:27:44,803 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:27:44,819 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 15 ms. Found 5 JPA repository interfaces.
2022-07-11 17:27:44,996 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:27:44,997 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 17:27:44,997 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:27:44,998 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:27:45,013 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:27:45,013 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 348 ms
2022-07-11 17:27:45,033 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:27:45,034 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:27:45,103 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:27:45,107 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 17:27:45,108 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 17:27:45,108 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:27:45,180 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:27:45,180 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:27:45,426 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:27:45,853 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 17:27:45,854 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 33083 (http) with context path '/api/v1'
2022-07-11 17:27:45,855 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:27:45,855 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@17856f0]]
2022-07-11 17:27:45,855 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:27:45,858 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.218 seconds (JVM running for 6.142)
2022-07-11 17:27:46,006 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:27:46,006 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@17856f0]]
2022-07-11 17:27:46,006 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:27:46,010 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:27:46,011 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:27:46,014 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 17:27:46,014 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 17:27:46,034 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 49406 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:27:46,034 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:27:46,144 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:27:46,157 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 13 ms. Found 5 JPA repository interfaces.
2022-07-11 17:27:46,274 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:27:46,275 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-3"]
2022-07-11 17:27:46,275 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:27:46,275 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:27:46,290 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:27:46,290 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 255 ms
2022-07-11 17:27:46,309 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:27:46,310 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:27:46,368 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:27:46,371 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-3 - Starting...
2022-07-11 17:27:46,372 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-3 - Start completed.
2022-07-11 17:27:46,373 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:27:46,434 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:27:46,434 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:27:46,658 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:27:46,974 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-3"]
2022-07-11 17:27:46,975 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 34549 (http) with context path '/api/v1'
2022-07-11 17:27:46,975 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:27:46,975 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@68a0a4ae]]
2022-07-11 17:27:46,975 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:27:46,978 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.962 seconds (JVM running for 7.263)
2022-07-11 17:27:47,011 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:27:47,012 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@68a0a4ae]]
2022-07-11 17:27:47,012 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:27:47,016 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:27:47,016 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:27:47,020 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-3 - Shutdown initiated...
2022-07-11 17:27:47,021 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-3 - Shutdown completed.
2022-07-11 17:27:47,040 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 49406 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:27:47,040 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:27:47,143 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:27:47,157 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 13 ms. Found 5 JPA repository interfaces.
2022-07-11 17:27:47,264 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:27:47,264 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-4"]
2022-07-11 17:27:47,265 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:27:47,265 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:27:47,277 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:27:47,277 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 236 ms
2022-07-11 17:27:47,294 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:27:47,294 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:27:47,340 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:27:47,344 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-4 - Starting...
2022-07-11 17:27:47,346 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-4 - Start completed.
2022-07-11 17:27:47,346 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:27:47,413 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:27:47,414 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:27:47,649 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:27:48,024 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-4"]
2022-07-11 17:27:48,026 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 33809 (http) with context path '/api/v1'
2022-07-11 17:27:48,026 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:27:48,026 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4c697c25]]
2022-07-11 17:27:48,027 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:27:48,031 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.008 seconds (JVM running for 8.315)
2022-07-11 17:27:48,061 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:27:48,062 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4c697c25]]
2022-07-11 17:27:48,062 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:27:48,066 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:27:48,066 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:27:48,068 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-4 - Shutdown initiated...
2022-07-11 17:27:48,069 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-4 - Shutdown completed.
2022-07-11 17:27:48,089 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 49406 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:27:48,089 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:27:48,222 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:27:48,242 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 19 ms. Found 5 JPA repository interfaces.
2022-07-11 17:27:48,398 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:27:48,399 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-5"]
2022-07-11 17:27:48,400 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:27:48,400 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:27:48,415 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:27:48,416 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 325 ms
2022-07-11 17:27:48,434 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:27:48,434 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:27:48,483 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:27:48,486 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-5 - Starting...
2022-07-11 17:27:48,487 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-5 - Start completed.
2022-07-11 17:27:48,488 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:27:48,542 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:27:48,543 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:27:48,784 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:27:49,092 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-5"]
2022-07-11 17:27:49,093 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 42111 (http) with context path '/api/v1'
2022-07-11 17:27:49,093 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:27:49,093 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@108d88b]]
2022-07-11 17:27:49,094 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:27:49,097 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.026 seconds (JVM running for 9.382)
2022-07-11 17:27:49,126 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:27:49,126 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@108d88b]]
2022-07-11 17:27:49,126 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:27:49,131 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:27:49,131 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:27:49,133 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-5 - Shutdown initiated...
2022-07-11 17:27:49,134 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-5 - Shutdown completed.
2022-07-11 17:27:49,158 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 49406 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:27:49,159 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:27:49,256 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:27:49,268 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 11 ms. Found 5 JPA repository interfaces.
2022-07-11 17:27:49,385 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:27:49,386 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-6"]
2022-07-11 17:27:49,386 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:27:49,387 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:27:49,408 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:27:49,408 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 247 ms
2022-07-11 17:27:49,423 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:27:49,424 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:27:49,458 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:27:49,461 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-6 - Starting...
2022-07-11 17:27:49,462 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-6 - Start completed.
2022-07-11 17:27:49,462 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:27:49,516 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:27:49,516 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:27:49,733 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:27:49,995 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-6"]
2022-07-11 17:27:49,996 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 39595 (http) with context path '/api/v1'
2022-07-11 17:27:49,997 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:27:49,997 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3c23d6cf]]
2022-07-11 17:27:49,997 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:27:50,000 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.864 seconds (JVM running for 10.285)
2022-07-11 17:27:50,034 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:27:50,035 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3c23d6cf]]
2022-07-11 17:27:50,035 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:27:50,040 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:27:50,040 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:27:50,043 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-6 - Shutdown initiated...
2022-07-11 17:27:50,044 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-6 - Shutdown completed.
2022-07-11 17:30:43,266 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 17:30:43,271 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 17:30:43,272 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 17:30:43,378 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 17:30:43,452 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 17:30:43,463 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3016fd5e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@35d08e6c, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@53d102a2, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6c45ee6e, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6b3e12b5, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5aac4250, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1338fb5, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@42463763, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@59f63e24, org.springframework.test.context.event.EventPublishingTestExecutionListener@61f05988, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@7ca33c24, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@fade1fc, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@67c2e933, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@41dd05a, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@613a8ee1, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@178213b, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7103cb56]
2022-07-11 17:30:43,753 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 17:30:43,762 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 50965 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:30:43,763 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:30:44,659 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:30:44,710 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 46 ms. Found 5 JPA repository interfaces.
2022-07-11 17:30:45,459 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:30:45,470 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 17:30:45,470 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:30:45,471 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:30:45,574 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:30:45,574 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1498 ms
2022-07-11 17:30:45,618 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:30:45,621 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:30:45,750 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:30:45,784 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 17:30:45,887 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 17:30:45,961 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 17:30:46,138 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 17:30:46,148 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:30:46,615 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:30:46,619 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:30:47,257 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:30:48,094 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 17:30:48,107 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 38755 (http) with context path '/api/v1'
2022-07-11 17:30:48,108 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:30:48,108 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5e8359da]]
2022-07-11 17:30:48,109 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:30:48,118 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.627 seconds (JVM running for 5.454)
2022-07-11 17:30:48,130 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:30:48,130 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5e8359da]]
2022-07-11 17:30:48,131 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:30:48,144 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:30:48,145 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:30:48,152 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 17:30:48,154 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 17:30:48,182 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@54ec8cc9 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy149.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$caa5a7eb.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@54ec8cc9 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 17:30:48,185 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 50965 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:30:48,185 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:30:48,311 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:30:48,326 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 14 ms. Found 5 JPA repository interfaces.
2022-07-11 17:30:48,486 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:30:48,487 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 17:30:48,487 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:30:48,488 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:30:48,502 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:30:48,503 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 316 ms
2022-07-11 17:30:48,523 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:30:48,523 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:30:48,576 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:30:48,580 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 17:30:48,581 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 17:30:48,581 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:30:48,679 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:30:48,679 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:30:48,973 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:30:49,367 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 17:30:49,368 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 36521 (http) with context path '/api/v1'
2022-07-11 17:30:49,368 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:30:49,369 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6b3bcab7]]
2022-07-11 17:30:49,369 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:30:49,372 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.216 seconds (JVM running for 6.708)
2022-07-11 17:30:49,509 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:30:49,509 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6b3bcab7]]
2022-07-11 17:30:49,509 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:30:49,514 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:30:49,515 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:30:49,518 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 17:30:49,525 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 17:30:49,545 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 50965 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:30:49,546 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:30:49,664 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:30:49,679 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 14 ms. Found 5 JPA repository interfaces.
2022-07-11 17:30:49,808 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:30:49,809 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-3"]
2022-07-11 17:30:49,809 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:30:49,809 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:30:49,824 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:30:49,824 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 276 ms
2022-07-11 17:30:49,842 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:30:49,843 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:30:49,887 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:30:49,890 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-3 - Starting...
2022-07-11 17:30:49,892 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-3 - Start completed.
2022-07-11 17:30:49,893 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:30:49,960 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:30:49,960 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:30:50,211 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:30:50,542 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-3"]
2022-07-11 17:30:50,543 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 45107 (http) with context path '/api/v1'
2022-07-11 17:30:50,543 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:30:50,543 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1a9b9095]]
2022-07-11 17:30:50,543 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:30:50,546 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.019 seconds (JVM running for 7.881)
2022-07-11 17:30:50,574 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:30:50,574 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1a9b9095]]
2022-07-11 17:30:50,574 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:30:50,579 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:30:50,579 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:30:50,582 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-3 - Shutdown initiated...
2022-07-11 17:30:50,582 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-3 - Shutdown completed.
2022-07-11 17:30:50,602 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 50965 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:30:50,602 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:30:50,701 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:30:50,714 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 12 ms. Found 5 JPA repository interfaces.
2022-07-11 17:30:50,824 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:30:50,825 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-4"]
2022-07-11 17:30:50,825 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:30:50,826 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:30:50,845 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:30:50,846 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 242 ms
2022-07-11 17:30:50,865 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:30:50,865 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:30:50,912 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:30:50,915 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-4 - Starting...
2022-07-11 17:30:50,917 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-4 - Start completed.
2022-07-11 17:30:50,917 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:30:50,977 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:30:50,977 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:30:51,185 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:30:51,503 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-4"]
2022-07-11 17:30:51,504 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 44611 (http) with context path '/api/v1'
2022-07-11 17:30:51,504 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:30:51,504 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5b3063b7]]
2022-07-11 17:30:51,505 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:30:51,508 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.923 seconds (JVM running for 8.843)
2022-07-11 17:30:51,533 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:30:51,534 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5b3063b7]]
2022-07-11 17:30:51,534 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:30:51,537 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:30:51,538 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:30:51,540 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-4 - Shutdown initiated...
2022-07-11 17:30:51,541 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-4 - Shutdown completed.
2022-07-11 17:30:51,559 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 50965 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:30:51,559 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:30:51,660 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:30:51,672 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 11 ms. Found 5 JPA repository interfaces.
2022-07-11 17:30:51,777 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:30:51,778 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-5"]
2022-07-11 17:30:51,778 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:30:51,778 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:30:51,789 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:30:51,789 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 229 ms
2022-07-11 17:30:51,808 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:30:51,809 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:30:51,854 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:30:51,857 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-5 - Starting...
2022-07-11 17:30:51,859 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-5 - Start completed.
2022-07-11 17:30:51,859 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:30:51,939 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:30:51,939 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:30:52,151 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:30:52,459 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-5"]
2022-07-11 17:30:52,459 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 36313 (http) with context path '/api/v1'
2022-07-11 17:30:52,460 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:30:52,460 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@131c4ffe]]
2022-07-11 17:30:52,460 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:30:52,462 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.92 seconds (JVM running for 9.798)
2022-07-11 17:30:52,485 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:30:52,485 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@131c4ffe]]
2022-07-11 17:30:52,485 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:30:52,488 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:30:52,489 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:30:52,491 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-5 - Shutdown initiated...
2022-07-11 17:30:52,491 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-5 - Shutdown completed.
2022-07-11 17:30:52,510 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 50965 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:30:52,510 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:30:52,612 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:30:52,625 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 12 ms. Found 5 JPA repository interfaces.
2022-07-11 17:30:52,761 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:30:52,762 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-6"]
2022-07-11 17:30:52,762 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:30:52,762 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:30:52,775 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:30:52,775 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 264 ms
2022-07-11 17:30:52,793 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:30:52,794 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:30:52,839 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:30:52,844 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-6 - Starting...
2022-07-11 17:30:52,845 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-6 - Start completed.
2022-07-11 17:30:52,846 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:30:52,894 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:30:52,894 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:30:53,104 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:30:53,457 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-6"]
2022-07-11 17:30:53,457 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 42529 (http) with context path '/api/v1'
2022-07-11 17:30:53,458 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:30:53,458 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@38b06a79]]
2022-07-11 17:30:53,458 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:30:53,461 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.968 seconds (JVM running for 10.796)
2022-07-11 17:30:53,491 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:30:53,492 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@38b06a79]]
2022-07-11 17:30:53,492 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:30:53,496 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:30:53,496 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:30:53,499 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-6 - Shutdown initiated...
2022-07-11 17:30:53,499 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-6 - Shutdown completed.
2022-07-11 17:33:39,662 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:305] Neither @ContextConfiguration nor @ContextHierarchy found for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests], using SpringBootContextLoader
2022-07-11 17:33:39,667 INFO o.s.t.c.s.AbstractContextLoader [AbstractContextLoader.java:264] Could not detect default resource locations for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-07-11 17:33:39,668 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [AnnotationConfigContextLoaderUtils.java:83] Could not detect default configuration classes for test class [vn.com.tma.emsbackend.integration.PortIntegrationTests]: PortIntegrationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-07-11 17:33:39,754 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [SpringBootTestContextBootstrapper.java:238] Found @SpringBootConfiguration vn.com.tma.emsbackend.EmsBackendApplication for test class vn.com.tma.emsbackend.integration.PortIntegrationTests
2022-07-11 17:33:39,816 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:245] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener]
2022-07-11 17:33:39,828 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [AbstractTestContextBootstrapper.java:174] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3016fd5e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@35d08e6c, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@53d102a2, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6c45ee6e, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6b3e12b5, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5aac4250, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1338fb5, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@42463763, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@59f63e24, org.springframework.test.context.event.EventPublishingTestExecutionListener@61f05988, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@7ca33c24, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@fade1fc, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@67c2e933, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@41dd05a, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@613a8ee1, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@178213b, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7103cb56]
2022-07-11 17:33:40,127 INFO o.h.v.i.u.Version [Version.java:21] HV000001: Hibernate Validator 6.2.0.Final
2022-07-11 17:33:40,130 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 52815 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:33:40,131 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:33:40,814 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:33:40,867 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 47 ms. Found 5 JPA repository interfaces.
2022-07-11 17:33:41,483 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:33:41,492 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-1"]
2022-07-11 17:33:41,492 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:33:41,493 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:33:41,576 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:33:41,577 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 1284 ms
2022-07-11 17:33:41,617 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:33:41,620 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:33:41,723 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:33:41,759 INFO o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 5.6.4.Final
2022-07-11 17:33:41,866 INFO o.h.a.c.Version [JavaReflectionManager.java:56] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-07-11 17:33:41,939 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-1 - Starting...
2022-07-11 17:33:42,074 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-1 - Start completed.
2022-07-11 17:33:42,085 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:33:42,580 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:33:42,585 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:33:43,342 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:33:44,362 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-1"]
2022-07-11 17:33:44,374 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 39123 (http) with context path '/api/v1'
2022-07-11 17:33:44,375 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:33:44,376 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4c541b00]]
2022-07-11 17:33:44,376 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:33:44,386 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 4.531 seconds (JVM running for 5.371)
2022-07-11 17:33:44,397 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:33:44,397 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4c541b00]]
2022-07-11 17:33:44,397 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:33:44,409 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:33:44,409 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:33:44,415 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-1 - Shutdown initiated...
2022-07-11 17:33:44,417 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-1 - Shutdown completed.
2022-07-11 17:33:44,441 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 52815 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:33:44,442 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:33:44,444 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java:95] Unexpected error occurred in scheduled task
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@213e3629 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:449)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy149.findAll(Unknown Source)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager.addAllDeviceToWaitingQueue(ResyncQueueManager.java:33)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$FastClassBySpringCGLIB$$57fea362.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at vn.com.tma.emsbackend.service.ssh.utils.ResyncQueueManager$$EnhancerBySpringCGLIB$$44df9d2a.addAllDeviceToWaitingQueue(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@213e3629 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1138)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:133)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:114)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:94)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 75 common frames omitted
2022-07-11 17:33:44,575 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:33:44,589 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 14 ms. Found 5 JPA repository interfaces.
2022-07-11 17:33:44,729 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:33:44,730 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-2"]
2022-07-11 17:33:44,749 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:33:44,749 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:33:44,765 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:33:44,765 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 322 ms
2022-07-11 17:33:44,783 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:33:44,784 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:33:44,842 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:33:44,846 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-2 - Starting...
2022-07-11 17:33:44,847 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-2 - Start completed.
2022-07-11 17:33:44,847 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:33:44,920 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:33:44,921 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:33:45,176 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:33:45,571 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-2"]
2022-07-11 17:33:45,572 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 40061 (http) with context path '/api/v1'
2022-07-11 17:33:45,572 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:33:45,572 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1cb09347]]
2022-07-11 17:33:45,572 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:33:45,575 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.156 seconds (JVM running for 6.56)
2022-07-11 17:33:45,938 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 17:33:46,081 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 17:33:46,081 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 17:33:46,082 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 17:33:46,085 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports/devices/1]
2022-07-11 17:33:46,109 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:44] Get all ports by device: 1
2022-07-11 17:33:46,159 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports/devices/1]
2022-07-11 17:33:46,213 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:33:46,214 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1cb09347]]
2022-07-11 17:33:46,214 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:33:46,219 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:33:46,219 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:33:46,222 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-2 - Shutdown initiated...
2022-07-11 17:33:46,222 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-2 - Shutdown completed.
2022-07-11 17:33:46,245 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 52815 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:33:46,245 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:33:46,376 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:33:46,394 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 17 ms. Found 5 JPA repository interfaces.
2022-07-11 17:33:46,555 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:33:46,556 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-3"]
2022-07-11 17:33:46,556 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:33:46,556 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:33:46,570 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:33:46,571 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 324 ms
2022-07-11 17:33:46,591 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:33:46,592 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:33:46,642 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:33:46,646 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-3 - Starting...
2022-07-11 17:33:46,647 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-3 - Start completed.
2022-07-11 17:33:46,648 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:33:46,714 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:33:46,714 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:33:46,957 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:33:47,278 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-3"]
2022-07-11 17:33:47,279 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 41777 (http) with context path '/api/v1'
2022-07-11 17:33:47,280 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:33:47,280 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@521f2a23]]
2022-07-11 17:33:47,280 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:33:47,283 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.059 seconds (JVM running for 8.267)
2022-07-11 17:33:47,374 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 17:33:47,380 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 17:33:47,381 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 17:33:47,381 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 0 ms
2022-07-11 17:33:47,382 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports]
2022-07-11 17:33:47,383 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:36] Get all ports
2022-07-11 17:33:47,388 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports]
2022-07-11 17:33:47,393 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:33:47,393 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@521f2a23]]
2022-07-11 17:33:47,393 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:33:47,398 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:33:47,398 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:33:47,400 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-3 - Shutdown initiated...
2022-07-11 17:33:47,401 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-3 - Shutdown completed.
2022-07-11 17:33:47,420 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 52815 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:33:47,420 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:33:47,520 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:33:47,533 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 11 ms. Found 5 JPA repository interfaces.
2022-07-11 17:33:47,639 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:33:47,640 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-4"]
2022-07-11 17:33:47,640 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:33:47,640 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:33:47,652 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:33:47,652 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 231 ms
2022-07-11 17:33:47,669 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:33:47,670 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:33:47,712 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:33:47,715 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-4 - Starting...
2022-07-11 17:33:47,717 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-4 - Start completed.
2022-07-11 17:33:47,717 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:33:47,803 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:33:47,803 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:33:48,037 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:33:48,379 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-4"]
2022-07-11 17:33:48,379 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 34623 (http) with context path '/api/v1'
2022-07-11 17:33:48,380 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:33:48,380 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4f1502d7]]
2022-07-11 17:33:48,380 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:33:48,383 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.98 seconds (JVM running for 9.368)
2022-07-11 17:33:48,508 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 17:33:48,515 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 17:33:48,515 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 17:33:48,516 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 17:33:48,516 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports/100]
2022-07-11 17:33:48,518 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:57] Get port with id: 100
2022-07-11 17:33:48,527 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports/100]
2022-07-11 17:33:48,531 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:33:48,531 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4f1502d7]]
2022-07-11 17:33:48,531 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:33:48,535 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:33:48,536 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:33:48,538 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-4 - Shutdown initiated...
2022-07-11 17:33:48,538 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-4 - Shutdown completed.
2022-07-11 17:33:48,557 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 52815 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:33:48,557 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:33:48,660 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:33:48,672 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 11 ms. Found 5 JPA repository interfaces.
2022-07-11 17:33:48,777 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:33:48,777 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-5"]
2022-07-11 17:33:48,778 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:33:48,778 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:33:48,789 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:33:48,789 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 231 ms
2022-07-11 17:33:48,806 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:33:48,807 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:33:48,851 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:33:48,854 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-5 - Starting...
2022-07-11 17:33:48,855 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-5 - Start completed.
2022-07-11 17:33:48,856 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:33:48,939 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:33:48,940 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:33:49,190 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:33:49,497 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-5"]
2022-07-11 17:33:49,500 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 41363 (http) with context path '/api/v1'
2022-07-11 17:33:49,501 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:33:49,501 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7e78953e]]
2022-07-11 17:33:49,501 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:33:49,508 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 0.968 seconds (JVM running for 10.492)
2022-07-11 17:33:49,674 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 17:33:49,680 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 17:33:49,681 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 17:33:49,682 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 17:33:49,682 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports/devices/100]
2022-07-11 17:33:49,684 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:44] Get all ports by device: 100
2022-07-11 17:33:49,700 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports/devices/100]
2022-07-11 17:33:49,709 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:33:49,709 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7e78953e]]
2022-07-11 17:33:49,709 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:33:49,725 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:33:49,726 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:33:49,738 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-5 - Shutdown initiated...
2022-07-11 17:33:49,751 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-5 - Shutdown completed.
2022-07-11 17:33:49,811 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:55] Starting PortIntegrationTests using Java 17.0.1 on btdtuan with PID 52815 (started by btdtuan in /home/btdtuan/Documents/GitHub/ems/ems-backend)
2022-07-11 17:33:49,811 INFO v.c.t.e.i.PortIntegrationTests [SpringApplication.java:637] No active profile set, falling back to default profiles: default
2022-07-11 17:33:50,006 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:132] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-07-11 17:33:50,030 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:201] Finished Spring Data repository scanning in 23 ms. Found 5 JPA repository interfaces.
2022-07-11 17:33:50,220 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:108] Tomcat initialized with port(s): 0 (http)
2022-07-11 17:33:50,221 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-auto-6"]
2022-07-11 17:33:50,222 INFO o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2022-07-11 17:33:50,222 INFO o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-07-11 17:33:50,234 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2022-07-11 17:33:50,234 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:290] Root WebApplicationContext: initialization completed in 419 ms
2022-07-11 17:33:50,252 ERROR o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] For security constraints with URL pattern [/resynchronization/*] only the HTTP methods [POST] are covered. All other methods are uncovered.
2022-07-11 17:33:50,252 DEBUG o.s.w.f.CommonsRequestLoggingFilter [GenericFilterBean.java:242] Filter 'requestLoggingFilter' configured for use
2022-07-11 17:33:50,295 INFO o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-07-11 17:33:50,298 INFO c.z.h.HikariDataSource [HikariDataSource.java:110] HikariPool-6 - Starting...
2022-07-11 17:33:50,299 INFO c.z.h.HikariDataSource [HikariDataSource.java:123] HikariPool-6 - Start completed.
2022-07-11 17:33:50,299 INFO o.h.d.Dialect [Dialect.java:175] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-07-11 17:33:50,353 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:52] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-07-11 17:33:50,353 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:437] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:33:50,587 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:219] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-07-11 17:33:50,863 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-auto-6"]
2022-07-11 17:33:50,863 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:220] Tomcat started on port(s): 42775 (http) with context path '/api/v1'
2022-07-11 17:33:50,864 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Starting...
2022-07-11 17:33:50,864 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5233d3e0]]
2022-07-11 17:33:50,864 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Started.
2022-07-11 17:33:50,866 INFO v.c.t.e.i.PortIntegrationTests [StartupInfoLogger.java:61] Started PortIntegrationTests in 1.113 seconds (JVM running for 11.851)
2022-07-11 17:33:50,950 INFO o.k.a.KeycloakDeployment [KeycloakDeployment.java:199] Loaded URLs from http://localhost:5000/realms/ems/.well-known/openid-configuration
2022-07-11 17:33:50,955 INFO o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-11 17:33:50,955 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] Initializing Servlet 'dispatcherServlet'
2022-07-11 17:33:50,956 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] Completed initialization in 1 ms
2022-07-11 17:33:50,956 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:47] Before request [GET /api/v1/ports/1]
2022-07-11 17:33:50,957 INFO v.c.t.e.s.p.PortServiceImpl [PortServiceImpl.java:57] Get port with id: 1
2022-07-11 17:33:50,961 DEBUG o.s.w.f.CommonsRequestLoggingFilter [CommonsRequestLoggingFilter.java:55] After request [GET /api/v1/ports/1]
2022-07-11 17:33:50,967 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopping...
2022-07-11 17:33:50,967 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5233d3e0]]
2022-07-11 17:33:50,967 INFO o.s.m.s.b.SimpleBrokerMessageHandler [CompositeLog.java:137] Stopped.
2022-07-11 17:33:50,971 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:651] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-07-11 17:33:50,971 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SchemaDropperImpl.java:538] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-07-11 17:33:50,973 INFO c.z.h.HikariDataSource [HikariDataSource.java:350] HikariPool-6 - Shutdown initiated...
2022-07-11 17:33:50,973 INFO c.z.h.HikariDataSource [HikariDataSource.java:352] HikariPool-6 - Shutdown completed.
